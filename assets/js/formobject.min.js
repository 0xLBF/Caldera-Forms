!function(e){if(e.fn.formJSON=function(){for(var t=e(this),r=t.find("[name]"),i={},a={},s=0;s<r.length;s++){var f=e(r[s]),o=f.prop("name").replace(/\]/gi,"").split("["),c=f.val(),d={};if(!f.is(":radio")&&!f.is(":checkbox")||f.is(":checked")){for(var n=o.length-1;n>=0;n--){var l=o[n];if("undefined"==typeof l&&(l=""),0===l.length&&(d=[],"undefined"==typeof a[o[n-1]]?a[o[n-1]]=0:a[o[n-1]]+=1,l=a[o[n-1]]),n===o.length-1){if(c)if("true"===c)c=!0;else if("false"===c)c=!1;else if(isNaN(parseFloat(c))||parseFloat(c).toString()!==c)if("string"!=typeof c||"{"!==c.substr(0,1)&&"["!==c.substr(0,1)){if("object"==typeof c&&c.length&&f.is("select")){for(var g={},n=0;n<c.length;n++)g["n"+n]=c[n];c=g}}else try{c=JSON.parse(c)}catch(h){}else c=parseFloat(c);d[l]=c}else{var p=d;d={},d[l]=p}}e.extend(!0,i,d)}}return i},e(".caldera_forms_form").on("click",".cf-form-trigger",function(t){var r=e(this);form=r.closest("form.caldera_forms_form"),form_id=form.prop("id"),calderaforms=window[form_id],data=form.formJSON(),fields={},target=r.data("target");for(var i in calderaforms)fields[calderaforms[i].slug]=data[i];if("function"==typeof window[target])window[target](fields,t);else{try{var a=e(target)}catch(s){}if(a&&a.length){fields=JSON.stringify(fields);var f=["textarea","text","hidden"];a.each(function(t,r){this.type&&f.indexOf(this.type)>=0?e(this).val(fields).trigger("change"):this.innerHTML=fields})}else e.post(target,fields)}}),cfModals){var t=e("head"),r=e("body");for(var i in cfModals.style)e("#cf-"+i+"-styles-css").length||t.append('<link id="cf-'+i+'-styles-css" rel="stylesheet" type="text/css" href="'+cfModals.style[i]+'">');for(var a in cfModals.script)e('script[src^="'+cfModals.script[a]+'"]').length||r.append('<script src="'+cfModals.script[a]+'" type="text/javascript">');e(document).on("click",".caldera-forms-modal",function(){var t=e(this);if(t.data("form"))var r=t.calderaModal({modal:t.data("form"),width:100,height:100,content:function(){return e.get("/api/cf/"+t.data("form")+"/",function(i){var a=e("#"+t.data("form")+"_calderaModalContent");r.config.width=500,r.resize(),a.html(i),resBaldrickTriggers(),e(document).on("cf.modal cf.remove cf.add cf.submission",function(){r.config.height=a.outerHeight()+r.config.padding,r.config.width=500,r.resize(),console.log("sd")}),e(document).trigger("cf.modal")}),'<div class="caldera-grid cf_processing" style="width: 75px; height: 75px;"></div>'}})})}}(jQuery);