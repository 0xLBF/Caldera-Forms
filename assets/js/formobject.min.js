!function(e){e.fn.formJSON=function(){for(var t=e(this),r=t.find("[name]"),i={},f={},a=0;a<r.length;a++){var s=e(r[a]),o=s.prop("name").replace(/\]/gi,"").split("["),n=s.val(),l={};if(!s.is(":radio")&&!s.is(":checkbox")||s.is(":checked")){for(var d=o.length-1;d>=0;d--){var c=o[d];if("undefined"==typeof c&&(c=""),0===c.length&&(l=[],"undefined"==typeof f[o[d-1]]?f[o[d-1]]=0:f[o[d-1]]+=1,c=f[o[d-1]]),d===o.length-1){if(n)if("true"===n)n=!0;else if("false"===n)n=!1;else if(isNaN(parseFloat(n))||parseFloat(n).toString()!==n)if("string"!=typeof n||"{"!==n.substr(0,1)&&"["!==n.substr(0,1)){if("object"==typeof n&&n.length&&s.is("select")){for(var g={},d=0;d<n.length;d++)g["n"+d]=n[d];n=g}}else try{n=JSON.parse(n)}catch(h){}else n=parseFloat(n);l[c]=n}else{var m=l;l={},l[c]=m}}e.extend(!0,i,l)}}return i},e(".caldera_forms_form").on("click",".cf-form-trigger",function(t){var r=e(this);form=r.closest("form.caldera_forms_form"),form_id=form.prop("id"),calderaforms=window[form_id],data=form.formJSON(),fields={},target=r.data("target");for(var i in calderaforms)fields[calderaforms[i].slug]=data[i];if("function"==typeof window[target])window[target](fields,t);else{try{var f=e(target)}catch(a){}if(f&&f.length){fields=JSON.stringify(fields);var s=["textarea","text","hidden"];f.each(function(t,r){this.type&&s.indexOf(this.type)>=0?e(this).val(fields).trigger("change"):this.innerHTML=fields})}else e.post(target,fields)}})}(jQuery);