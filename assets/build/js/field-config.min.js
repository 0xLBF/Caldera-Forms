function Caldera_Forms_Field_Config(configs,$form,$){var self=this;this.init=function(){$.each(configs,function(a,b){self[b.type](b)})},this.calculation=function(fieldConfig){function doCalc(){total=eval(fieldConfig.formula)}function update(){$display.html(total)}var total=0,$display=$(document.getElementById(fieldConfig.id));$.each(fieldConfig.fieldBinds,function(a,b){$(document.getElementById(b.id_attr)).on("keyup change",function(){var a=$(this),b=a.data("field");fieldConfig.fieldBinds[b].val=a.val(),doCalc()})}),$(document).on("cf.remove cf.add",function(){doCalc()})},this.button=function(a){var b=a.id;$(document).on("click dblclick","#"+b,function(a){$("#"+b+"_btn").val(a.type).trigger("change")})},this.gravatar=function(a){},this.html=function(a){function b(){for(var b=$(document.getElementById(a.tmplId)).html(),c=$(document.getElementById(a.contentId)),d=a.binds,e=0;e<d.length;e++){for(var f=$('[data-field="'+d[e]+'"]'),g=[],h=0;h<f.length;h++)if(!$(f[h]).is(":radio,:checkbox")||$(f[h]).prop("checked"))if($(f[h]).is("input:file")){var i=f[h].value.split("\\");g.push(i[i.length-1])}else f[h].value&&g.push(f[h].value);b=b.replace(new RegExp("{{"+d[e]+"}}","g"),g.join(", "))}c.html(b).trigger("change")}$.each(a.bindFields,function(a,c){$(document.getElementById(c)).on("change keyup",b)}),b()},this.range_slider=function(a){function b(){c.rangeslider({onSlide:function(b,c){c=c.toFixed(a.value)},onInit:function(){c.parent().find(".rangeslider").css("backgroundColor",a.trackcolor),c.parent().find(".rangeslider__fill").css("backgroundColor",a.color),c.parent().find(".rangeslider__handle").css("backgroundColor",a.handle).css("borderColor",a.handleborder)},polyfill:!1})}var c=$(document.getElementById(a.id));c.on("change",function(){$("#"+a.id+"_value").html(this.value)}).css("width","100%"),$(document).on("cf.pagenav cf.add cf.disable cf.modal",function(){b()}),b()},this.select2=function(a){},this.star_rating=function(a){function b(){var b=a.options;b.click=function(){c.trigger("change")},c.raty(b)}var c=$(document.getElementById(a.id));b(),jQuery(document).on("cf.add",b)},this.toggle_switch=function(a){$(document).on("reset","#"+a.id,function(b){$.each(a.options,function(b,c){$(document.getElemenetById(c)).removeClass(a.selectedClassName).addClass(a.defaultClassName)}),$(document.getElementById(a.id)).prop("checked","")})},this.phone_better=function(a){function b(){return 0==c.intlTelInput("isValidNumber")&&0!=c.intlTelInput("getValidationError")}var c=$(document.getElementById(a.id)),d=c.parent().parent();"phone_better_validator-"+a.validator;$(document).on("cf.fieldsInit",function(c){cf_validate_form.parsely.addValidator(a.validator,function(a){return b()},32).addMessage("en","myvalidator","my validator failed")}),c.intlTelInput(a.options),$form.on("submit",function(a){e()}),c.on("change",function(){e()});var e=function(){var c=document.getElementById("cf-error-"+a.id);return null!=c&&c.remove(),b()?(d.addClass("has-error").append('<span id="cf-error-'+a.id+'" class="help-block help-block-phone_better">'+a.options.invalid+"</span>"),!1):(d.removeClass("has-error"),!0)}},this.wysiwyg=function(a){var b=document.getElementById(a.id);if(null!=b){var c=$(b);c.trumbowyg(a.options);var d=c.parent().find(".trumbowyg-editor");d.html(c.html()),d.bind("input propertychange",function(){c.html(d.html())})}}}