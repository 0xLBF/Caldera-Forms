function CFAPI(a,b,c,d){return{getForm:function(){return d.get(a.form+c).success(function(a){return a}).error(function(a){console.log(a)})},getEntries:function(a){return d.get(this.paginatedEntryURL(c,a,b)).success(function(a){return a}).error(function(a){console.log(a)})},paginatedEntryURL:function(c,e){var f=d.param({page:e,per_page:b});return a.entries+c+"?"+f},setPerPage:function(a){b=a}}}function CFEntryViewer2(a,b,c,d,e){var f=jQuery(document.getElementById(e.targets.entry));return new Vue({data:function(){return{form:b.state,entries:c.state,page:1,perPage:2,totalPages:c.getTotalPages(),singleEntry:{},currentView:"empty"}},el:"#caldera-forms-entries",components:{"single-entry":{template:"#"+e.targets.entries,data:function(){return{singleEntryFields:Object,singleEntry:Object}}}},mounted:function(){var a=this,b=jQuery(a.$el),c=b.find(".caldera-forms-entry-viewer-next-button"),d=b.find(".caldera-forms-entry-viewer-prev-button");a.page>=this.totalPages&&c.prop("disabled",!0),(a.page=1)&&d.prop("disabled",!0)},methods:{nextPage:function(){var a=this;this.$set(this,"page",this.page+1),jQuery.when(d.getEntries(a.page)).then(function(b){c.setEntries(b),a.$set(a,"entries",c.state)})},prevPage:function(){if(0>=this.page-1)return!1;var a=this;this.$set(this,"page",this.page-1),jQuery.when(d.getEntries(a.page)).then(function(b){c.setEntries(b),a.$set(a,"entries",c.state)})},entryHasField:function(a,b){var d=c.getEntry(b);return!1!==d&&c.getFieldFromEntry(d,a)},updatePerPage:function(){console.log(this.perPage)},fieldValue:function(a,b){return"string"==typeof b[a]?b[a]:"object"==typeof b.fields[a]?b.fields[a].value:""},showSingle:function(a){var d=c.getEntry(a),g=b.getAllFields(),h=Vue.extend({template:"#"+e.templates.entry,data:function(){return{fields:g,entry:d}},methods:{fieldValue:function(a){return"string"==typeof d[a]?d[a]:"object"==typeof d.fields[a]?d.fields[a].value:""},close:function(){f.empty()}}});f.empty();var i=document.createElement("div");jQuery(i).attr("id",e.targets.entry+"-"+a),jQuery(i).appendTo(f),(new h).$mount("#"+e.targets.entry+"-"+a)}}})}jQuery(document).ready(function(a){if("object"==typeof CF_ENTRY_VIEWER_2_CONFIG){var b=CF_ENTRY_VIEWER_2_CONFIG.formId,c=new CFAPI(CF_ENTRY_VIEWER_2_CONFIG.api,CF_ENTRY_VIEWER_2_CONFIG.perPage,b,a);a.when(c.getForm(),c.getEntries(1)).then(function(a,d){var e=a[0],f=d[0],g=new CFFormStoreFactory(b,e.field_details.order,e.field_details.entry_list),h=new CFEntriesStoreFactory(b,f);null!=d[2].getResponseHeader("X-CF-API-TOTAL-PAGES")&&(h.setTotalPages=d[2].getResponseHeader("X-CF-API-TOTAL-PAGES")),null!=d[2].getResponseHeader("X-CF-API-TOTAL")&&(h.setTotalPages=d[2].getResponseHeader("X-CF-API-TOTAL"));new CFEntryViewer2(b,g,h,c,CF_ENTRY_VIEWER_2_CONFIG)})}});