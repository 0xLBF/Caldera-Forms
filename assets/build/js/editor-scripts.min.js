function new_conditional_group(e){var t=e.trigger.data("id"),a="cl"+Math.round(18746582734*Math.random()),i="rw"+Math.round(98347598345*Math.random()),r=[{id:i,type:e.trigger.data("type"),lines:[{id:a}]}];return{group:r,id:t}}function new_conditional_line(e){var t=e.trigger.data("id"),a=e.trigger.data("group"),i=e.trigger.data("type"),r="cl"+Math.round(18746582734*Math.random()),n={id:t,type:i,lineid:r,rowid:a,name:"config["+i+"]["+t+"][conditions][group]["+a+"]["+r+"]"};return n}function build_conditions_config(e){var t=JSON.parse(e.trigger.val());return t.id=e.trigger.data("id"),t}function setup_field_type(e){return{id:e.trigger.prop("id")}}function check_required_bindings(e){var t,a=(jQuery(".caldera-header-save-button"),jQuery(".layout-form-field")),i=jQuery(".caldera-processor-nav"),r=!0;t=e?jQuery(e):jQuery(".caldera-config-field .required"),t.removeClass("has-error"),a.removeClass("has-error"),i.removeClass("has-error"),jQuery(".error-tag").remove(),required_errors={},t.each(function(e,t){var a=jQuery(t),i=a.closest(".caldera-config-editor-panel");if(t.value.length){if(a.hasClass("field-slug"))for(var n=jQuery(".field-slug").not(a),s=0;s<n.length;s++)if(n[s].value===t.value){var a=jQuery(n[s]);required_errors[i.prop("id")]||(required_errors[i.prop("id")]=0);var o=a.closest(".caldera-editor-field-config-wrapper"),l=a.closest(".caldera-editor-processor-config-wrapper");o.length&&jQuery('.layout-form-field[data-config="'+o.prop("id")+'"]').addClass("has-error"),l.length&&jQuery("."+l.prop("id")).addClass("has-error"),required_errors[i.prop("id")]+=1,a.addClass("has-error"),r=!1;break}if(a.hasClass("toggle_value_field"))for(var c=a.closest(".caldera-config-group").find(".toggle_value_field").not(a),s=0;s<c.length;s++)if(c[s].value===t.value){var a=jQuery(c[s]);required_errors[i.prop("id")]||(required_errors[i.prop("id")]=0);var o=a.closest(".caldera-editor-field-config-wrapper"),l=a.closest(".caldera-editor-processor-config-wrapper");o.length&&jQuery('.layout-form-field[data-config="'+o.prop("id")+'"]').addClass("has-error"),l.length&&jQuery("."+l.prop("id")).addClass("has-error"),required_errors[i.prop("id")]+=1,a.addClass("has-error"),r=!1;break}}else{required_errors[i.prop("id")]||(required_errors[i.prop("id")]=0);var o=a.closest(".caldera-editor-field-config-wrapper"),l=a.closest(".caldera-editor-processor-config-wrapper");o.length&&jQuery('.layout-form-field[data-config="'+o.prop("id")+'"]').addClass("has-error"),l.length&&jQuery("."+l.prop("id")).addClass("has-error"),required_errors[i.prop("id")]+=1,a.addClass("has-error"),r=!1}});for(var n in required_errors)jQuery(".caldera-forms-options-form").find('a[href="#'+n+'"]').append('<span class="error-tag">'+required_errors[n]+"</span>");return jQuery(".caldera-conditional-field-set").trigger("change"),r}function color_picker_init(){jQuery(".minicolor-picker").miniColors()}function toggle_button_init(e,t){var a=jQuery(t),i=a.find(".cf-toggle-group-radio:checked");i.length&&jQuery("#"+i.data("ref")).trigger("click")}var baldrickTriggers,loop_loader;jQuery(document).ready(function(e){baldrickTriggers=function(){e(".ajax-trigger").baldrick({request:ajaxurl,method:"POST",before:function(t,a){var i=e(t),r=e("#cf_toolbar_actions"),n=r.parent().find('[name="_wp_http_referer"]');if(r.length&&n.length&&(i.data("cf_toolbar_actions",r.val()),i.data("_wp_http_referer",n.val())),i.data("trigger")){a.preventDefault();var s=e(i.data("trigger"));return s.trigger(s.data("event")?s.data("event"):"click"),!1}},complete:function(){e(".init_field_type[data-type]").each(function(t,a){var i=e(a);"function"==typeof window[i.data("type")+"_init"]&&window[i.data("type")+"_init"](i.prop("id"),i[0])})}})},loop_loader=function(e,t){var a=Math.round(1e7*Math.random());return{__id__:a}},baldrickTriggers(),e("body").on("click",".modal-side-tab",function(t){t.preventDefault();var a=e(this),i=a.closest(".caldera-modal-body"),r=i.find(".tab-detail-panel"),n=e(a.attr("href"));i.find(".modal-side-tab.active").removeClass("active"),a.addClass("active"),r.hide(),n.show()}),e("body").on("click",".caldera-group-remover",function(t){t.preventDefault();var a=e(this),i=a.closest(".caldera-repeater-group");i.slideUp(200,function(){i.remove()})}),e("body").on("click",".form-delete a.form-control",function(t){var a=e(this);confirm(a.data("confirm"))||t.preventDefault()}),e("body").on("keyup change",'[data-format="key"]',function(e){this.value=this.value.replace(/[^a-z0-9]/gi,"-").toLowerCase()}),e("body").on("keyup change",'[data-format="slug"]',function(e){this.value=this.value.replace(/[^a-z0-9]/gi,"_").toLowerCase()}),e(window).on("resize",function(){var t=e("#cf_forms_toggle"),a=e(".form-panel-wrap");window.innerWidth<=1420&&t.is(":visible")&&a.is(":visible")&&t.trigger("click")})}),jQuery(document).ready(function(e){function t(t){var i=e(t),r=i.closest(".caldera-editor-field-config-wrapper"),n=r.find(".caldera-config-field-setup"),s=compiled_templates[i.val()+"_tmpl"]?compiled_templates[i.val()+"_tmpl"]:compiled_templates.noconfig_field_templ,o=r.find(".field_config_string").val(),l=i.data("type");if(r.find(".caldera-config-group").show(),i.addClass("field-initialized"),o=o.length&&l===i.val()?JSON.parse(o):fieldtype_defaults[i.val()+"_cfg"],o||(o={}),o._id=i.data("field"),o._name="config[fields]["+i.data("field")+"][config]",s=e("<div>").html(s(o)),n.html(s.html()),"function"==typeof window[i.val()+"_init"]&&window[i.val()+"_init"](i.data("field"),n),fieldtype_defaults[i.val()+"_nosupport"]&&(fieldtype_defaults[i.val()+"_nosupport"].indexOf("hide_label")>=0&&r.find(".hide-label-field").hide().find(".field-config").prop("checked",!1),fieldtype_defaults[i.val()+"_nosupport"].indexOf("caption")>=0&&r.find(".caption-field").hide().find(".field-config").val(""),fieldtype_defaults[i.val()+"_nosupport"].indexOf("required")>=0&&r.find(".required-field").hide().find(".field-config").prop("checked",!1),fieldtype_defaults[i.val()+"_nosupport"].indexOf("custom_class")>=0&&r.find(".customclass-field").hide().find(".field-config").val(""),fieldtype_defaults[i.val()+"_nosupport"].indexOf("entry_list")>=0&&r.find(".entrylist-field").hide().find(".field-config").prop("checked",!1)),r.find(".toggle_show_values").trigger("change"),!e(".caldera-select-field-type").not(".field-initialized").length){if(core_form.hasClass("builder-loaded"))a(i.data("field"));else{for(var c=e(".caldera-select-field-type.field-initialized"),d=0;d<c.length;d++)a(e(c[d]).data("field"));core_form.addClass("builder-loaded")}e(".caldera-header-save-button").prop("disabled",!1),rebuild_field_binding(),baldrickTriggers()}e(".color-field").length&&e(".color-field").wpColorPicker({change:function(t){var a=e(this);a.data("ev")&&clearTimeout(a.data("ev")),a.data("ev",setTimeout(function(){a.trigger("record")},200)),a.data("target")&&(e(a.data("target")).css(a.data("style"),a.val()),e(a.data("target")).val(a.val()))}})}function a(t){var a=e("#"+t),i=a.find(".caldera-select-field-type"),r=e('.layout-form-field[data-config="'+t+'"]'),n=r.find(".field_preview"),s=(e("#preview-"+i.val()+"_tmpl").html(),compiled_templates["preview-"+i.val()+"_tmpl"]),o={id:t},l=a.find(".field-config");l.each(function(a,i){for(var r=e(i),n=r.prop("name").split("["+t+"]")[1].substr(1),s=n.substr(0,n.length-1).split("]["),l=r.is(":checkbox,:radio")?r.filter(":checked").val():r.val(),c={},d=s.length-1;d>=0;d--)if(d===s.length-1)c[s[d]]=l;else{var p=c;c={},c[s[d]]=p}e.extend(!0,o,c)}),n.html(s(o)),r.removeClass("button"),e(".preview-field-config").prop("disabled",!0)}function i(t){var a,i=e(".caldera-editor-fields-panel"),r=(e(".caldera-editor-groups-panel"),e(".caldera-group-nav")),n=e('[data-group="'+t+'"]'),s=n.find(".caldera-config-group-name"),o=n.find(".caldera-config-group-slug"),l=n.find(".caldera-config-group-desc"),c=n.find(".caldera-config-group-admin"),d=e(".active-group-name"),p=e(".active-group-slug"),h=e(".active-group-desc"),u=e(".active-group-admin"),f=e(".caldera-editor-fields-list ul"),g=n.find(".caldera-config-group-repeat"),m=e(".repeat-config-button"),v=(e(".caldera-editor-group-settings"),e(".caldera-config-group-remove"));e(".new-group-input").remove(),e(".new-field-input").remove(),r.removeClass("active"),i.show(),f.hide(),f.removeClass("active").find("li.active").removeClass("active"),f.hide(),n.addClass("active"),a=e(".caldera-editor-fields-list ul.active li"),a.length?v.hide():v.show(),e(".caldera-editor-field-config-wrapper").hide(),n.show(),d.val(s.val()),p.val(o.val()),h.val(l.val()),"1"===c.val()?u.prop("checked",!0):u.prop("checked",!1),"1"===g.val()?m.addClass("field-edit-open"):m.removeClass("field-edit-open")}e(".caldera-header-save-button").baldrick({method:"POST",request:"admin.php?page=caldera-forms",before:function(t,a){if(a.preventDefault(),!check_required_bindings())return!1;e("#save_indicator").addClass("loading"),"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave();var i=e(".caldera-forms-options-form").formJSON();return i.conditions&&(i.config.conditional_groups={conditions:i.conditions}),e(t).data("cf_edit_nonce",i.cf_edit_nonce),e(t).data("_wp_http_referer",i._wp_http_referer),e(t).data("sender","ajax"),e(t).data("config",JSON.stringify(i.config)),!0},callback:function(t){if(!1===t.data){var a=e(".updated_notice_box");a.stop().animate({top:0},200,function(){setTimeout(function(){a.stop().animate({top:-75},200)},2e3)})}},complete:function(t){e(".wrapper-instance-pane .field-config").prop("disabled",!1)}}),e("body").on("click",".toggle_processor_event input",function(t){var a=e(this),i=a.closest(".wrapper-instance-pane"),r=i.find(".caldera-config-processor-setup"),n=i.find(".caldera-config-processor-notice");a.is(":checked")?(a.parent().addClass("activated"),a.parent().find(".is_active").show().attr("aria-hidden",!1).css("visibility","visible"),a.parent().find(".not_active").hide().attr("aria-hidden",!0).css("visibility","hidden")):(a.parent().removeClass("activated"),a.parent().find(".is_active").hide().attr("aria-hidden",!0).css("visibility","hidden"),a.parent().find(".not_active").show().attr("aria-hidden",!1).css("visibility","visible")),i.find(".toggle_processor_event .activated").length?(r.slideDown(100),n.slideUp(100)):(r.slideUp(100),n.slideDown(100))}),e("body").on("click",".toggle_option_tab > a",function(t){t.preventDefault();var a=e(this),i=e(a.attr("href")),r=a.parent().find("a"),n=a.closest(".caldera-editor-config-wrapper").find(".wrapper-instance-pane");r.removeClass("button-primary"),n.hide(),i.show(),a.addClass("button-primary"),e(".caldera-conditionals-usetype").trigger("change")}),e(".caldera-editor-body").on("change",".caldera-select-field-type",function(e){t(this)}),e(".caldera-editor-body").on("click",".caldera-group-nav a",function(t){t.preventDefault(),i(e(this).attr("href").substr(1))}),e(".caldera-editor-body").on("click",".caldera-editor-fields-list a",function(t){t.preventDefault();var a=e(this),i=e(a.attr("href"));e(".new-group-input").remove(),e(".new-field-input").remove(),e(".caldera-editor-fields-list li.active").removeClass("active"),a.parent().addClass("active"),e(".caldera-editor-field-config-wrapper").hide(),i.show()}),e(".caldera-editor-body").on("click",".group-config-button",function(t){var a=e(this),i=e(".caldera-editor-group-settings"),r=a.closest(".caldera-editor-fields-panel"),n=e(".caldera-config-group-remove");r.find(".caldera-field-line").length?n.hide():n.show(),a.hasClass("field-edit-open")?(i.slideUp(100),a.removeClass("field-edit-open")):(i.slideDown(100),a.addClass("field-edit-open"))}),e(".caldera-editor-body").on("keydown",".field-config",function(t){e(this).is("textarea")||13===t.which&&t.preventDefault()}),e(".caldera-editor-body").on("change",".field-label",function(t){var a=e(this).closest(".caldera-editor-field-config-wrapper").prop("id");field_line=e('[data-field="'+a+'"]'),field_title=e("#"+a+" .caldera-editor-field-title, .layout-form-field.field-edit-open .layout_field_name"),slug=e("#"+a+" .field-slug"),field_line.find("a").html('<i class="icn-field"></i> '+this.value),field_title.text(this.value),"change"===t.type&&slug.trigger("change"),rebuild_field_binding()}),e(".caldera-editor-body").on("change",".active-group-name",function(t){t.preventDefault();var a=e(".caldera-group-nav.active"),i=(a.data("group"),a.find(".caldera-config-group-name")),r=a.find("span");"focusout"!==t.type||this.value.length||(this.value="Group "+(parseInt(a.index())+1)),i.val(this.value),r.text(this.value)}),e(".caldera-editor-body").on("change",".active-group-slug",function(t){t.preventDefault();var a=e(".caldera-group-nav.active"),i=(a.data("group"),a.find(".caldera-config-group-name").val()),r=a.find(".caldera-config-group-slug"),n=(a.find("span"),this.value.split(" ").join("_").split("-").join("_").replace(/[^a-z0-9_]/gi,"").toLowerCase());"focusout"!==t.type||this.value.length||(n=i.split(" ").join("_").split("-").join("_").replace(/[^a-z0-9_]/gi,"").toLowerCase()),r.val(n),this.value=n}),e(".caldera-editor-body").on("change",".active-group-desc",function(t){t.preventDefault();var a=e(".caldera-group-nav.active"),i=(a.data("group"),a.find(".caldera-config-group-desc"));i.val(this.value)}),e(".caldera-editor-body").on("change",".active-group-admin",function(t){t.preventDefault();var a=e(".caldera-group-nav.active"),i=(a.data("group"),a.find(".caldera-config-group-name").val(),a.find(".caldera-config-group-admin"));a.find("span"),this.value.split(" ").join("_").split("-").join("_").replace(/[^a-z0-9_]/gi,"").toLowerCase();e(this).prop("checked")?(i.val(1),a.addClass("is-admin")):(i.val(0),a.removeClass("is-admin"))}),e(".caldera-editor-body").on("click",".repeat-config-button",function(t){t.preventDefault();var a=e(".caldera-group-nav.active"),i=(a.data("group"),a.find("a .group-type")),r=a.find(".caldera-config-group-repeat"),n=e(this);n.hasClass("field-edit-open")?(r.val("0"),i.removeClass("icn-repeat").addClass("icn-folder"),n.removeClass("field-edit-open")):(r.val("1"),i.addClass("icn-repeat").removeClass("icn-folder"),n.addClass("field-edit-open"))}),e(".caldera-editor-body").on("click",".delete-field",function(){var t=e(this),a=t.closest(".caldera-editor-field-config-wrapper").prop("id");confirm(t.data("confirm"))&&(e("#"+a).remove(),e('option[value="'+a+'"]').remove(),e('[data-bind="'+a+'"]').remove(),delete current_form_fields[a],e('[data-config="'+a+'"]').slideUp(200,function(){var t=e(this);t.remove(),rebuild_field_binding(),e(document).trigger("field.removed")}))}),e(".caldera-editor-body").on("click",".add-new-group,.add-field",function(){var t=e(this);if(e(".new-group-input").remove(),e(".new-field-input").remove(),t.hasClass("add-field")){var a=e('<input type="text" class="new-field-input block-input">');a.appendTo(e(".caldera-editor-fields-list ul.active")).focus()}else{var i=e('<input type="text" class="new-group-input block-input">');i.appendTo(e(".caldera-editor-groups-panel")).focus()}}),e(".caldera-editor-body").on("change keypress",".new-group-input",function(t){if("keypress"===t.type){if(13!==t.which)return;t.preventDefault()}var a,r,n=this.value,s=e(this),o=e(".caldera-editor-groups-panel ul"),l=e(".caldera-editor-fields-list");if(n.length){a=Handlebars.compile(e("#caldera_group_line_templ").html()),r={id:n.split(" ").join("_").split("-").join("_").replace(/[^a-z0-9_]/gi,"").toLowerCase(),name:n},o.append(a(r));var c=e('<ul data-group="'+r.id+'">').hide();c.appendTo(l),s.remove(),i(r.id)}else s.remove()}),e(".caldera-editor-body").on("change keypress",".new-field-input",function(t){if("keypress"===t.type){if(13!==t.which)return;t.preventDefault()}var a,i,r,n=this.value,s=e(this),o=s.parent(),l=e(".caldera-editor-field-config"),c=e(".caldera-config-group-remove");if(n.length){c.hide(),a=Handlebars.compile(e("#caldera_field_line_templ").html()),i=Handlebars.compile(e("#caldera_field_config_wrapper_templ").html()),r={id:n.split(" ").join("_").split("-").join("_").replace(/[^a-z0-9_]/gi,"").toLowerCase(),label:n,slug:n.split(" ").join("_").split("-").join("_").replace(/[^a-z0-9_]/gi,"").toLowerCase(),group:e(".caldera-group-nav.active").data("group")};var d=e(a(r));d.appendTo(o),l.append(i(r)),d.find("a").trigger("click"),s.remove()}else s.remove()}),e(".caldera-editor-body").on("change",".field-slug",function(t){this.value.length?this.value=this.value.split(" ").join("_").split("-").join("_").replace(/[^a-z0-9_]/gi,"").toLowerCase():"change"===t.type&&(this.value=e(this).closest(".caldera-editor-field-config-wrapper").find(".field-label").val().split(" ").join("_").split("-").join("_").replace(/[^a-z0-9_]/gi,"").toLowerCase())}),e(".caldera-editor-body").on("click",".caldera-add-group",function(t){var a=e(this),i=a.data("group"),r=e("#"+i+"_panel_tmpl").html();a.parent().parent().append(r)}),e(".caldera-editor-body").on("click",".caldera-config-group-remove",function(t){var a=e(".active-group-slug").val();e('[data-group="'+a+'"]').hide(0,function(){e(this).remove();var t=e(".caldera-group-nav");t.length?t.first().find("a").trigger("click"):e(".caldera-editor-fields-panel").hide()})}),e("body").on("click",".set-current-field",function(t){t.preventDefault();var a=e(this);e("#"+a.data("field")+"_type").val(a.data("type")).trigger("change"),e("#"+a.data("field")+"_lable").focus(),e("#field_setup_baldrickModalCloser").trigger("click")}),e(".caldera-editor-body").on("change record",".field-config",function(t){var i=e(this),r=i.closest(".caldera-editor-field-config-wrapper");current_form_fields&&(i.prop("id")===r.prop("id")+"_lable"&&(current_form_fields[r.prop("id")].label=this.value),i.prop("id")===r.prop("id")+"_slug"&&(current_form_fields[r.prop("id")].slug=this.value),i.prop("id")===r.prop("id")+"_type"&&(current_form_fields[r.prop("id")].type=this.value),r.length&&a(r.prop("id")))}),e(".caldera-editor-body").on("focus",".caldera-field-bind",function(t){var a=e(this),i=this.value;if(t.type&&"focusin"===t.type)return a.removeClass("bound_field").addClass("reload-binding"),rebind_field_bindings(),void(this.value=i)}),e(".caldera-editor-body").on("change",".caldera-conditional-field-set",function(t){var a,i,r=e(this),n=r.parent().find(".compare-type"),s=r.data("condition"),o=r.data("id"),l="config["+s+"]["+o+"][conditions][group]["+r.data("row")+"]["+r.data("line")+"]",c=r.data("line"),d=e("#"+c+"_value"),p=d.find(".caldera-conditional-value-field").first(),h=[],u=this.value;if("{"!==u.substr(0,1)&&(a=e("#"+u),i=a.find(".field-button-type"),h=a.find(".caldera-config-group-toggle-options")),r.hasClass(".bind_init")&&r.addClass("bound_triggered"),p.length&&p.val().length&&d.data("value",p.val()),n.show(),h.length){var f=h.find(".toggle_option_row"),g='<select name="'+l+'[value]" class="caldera-processor-value-bind caldera-conditional-value-field" data-field="'+u+'" style="max-width: 220px; width: 220px;">';g+='<option value=""></option>',f.each(function(t,a){var i=e(a).find(".toggle_label_field"),r=i.data("option"),n="";d.data("value")&&(d.data("value").toString()!==r&&d.data("value").toString()!==e(a).find(".toggle_value_field").val()||(n=' selected="selected"')),g+='<option value="'+r+'"'+n+">"+i.val()+"</option>"}),g+="</select>"}else i&&"button"==i.val()?(n.val("is").hide(),g='<select name="'+l+'[value]" class="caldera-processor-value-bind caldera-conditional-value-field" data-field="'+u+'" style="max-width: 220px; width: 220px;">',g+='<option value="click" '+("click"===d.data("value")?'selected="selected"':"")+">Click</option>",g+='<option value="dblclick" '+("dblclick"===d.data("value")?'selected="selected"':"")+">Double Click</option>",g+="</select>"):g='<input name="'+l+'[value]" type="text" class="caldera-conditional-value-field magic-tag-enabled" value="'+(d.data("value")?d.data("value"):"")+'" style="max-width: 205px;">';d.html(g),init_magic_tags()}),e(".caldera-editor-body").on("change",".caldera-conditionals-usetype",function(t){var a=e(this);"show"===this.value||"hide"===this.value||"disable"===this.value||"use"===this.value||"not"===this.value?(e("#"+a.data("id")+"_condition_group_add").show(),e("#"+a.data("id")+"_conditional_wrap").show()):(e("#"+a.data("id")+"_condition_group_add").hide(),e("#"+a.data("id")+"_conditional_wrap").hide())}),e(".caldera-editor-body").on("click",".remove-conditional-line",function(t){t.preventDefault();var a=e(this),i=a.closest(".caldera-condition-line"),r=a.closest(".caldera-condition-group");i.remove(),r.find(".caldera-condition-line").length||r.remove()}),e(".caldera-group-nav").first().find("a").trigger("click"),e(".caldera-editor-body").on("change",".toggle_show_values",function(t){var a=e(this),i=a.closest(".caldera-config-group-toggle-options");values=i.find(".toggle_value_field"),lables=i.find(".toggle_label_field"),field_lables=i.find(".caldera-config-group-option-labels"),a.prop("checked")?(values.show().parent().show(),values.show().parent().parent().show(),lables.css("width",""),field_lables.show()):(values.hide().parent().hide(),lables.css("width",245),field_lables.hide()),lables.trigger("toggle.values"),init_magic_tags()}),e(".caldera-editor-body").on("change",".auto-populate-type",function(){e(this).closest(".wrapper-instance-pane").find(".auto-populate-options").trigger("change")}),e(".caldera-editor-body").on("change",".auto-populate-options",function(){var t=e(this),a=t.closest(".wrapper-instance-pane"),i=a.find(".caldera-config-group-toggle-options"),r=a.find(".caldera-config-group-auto-options"),n=r.find(".auto-populate-type");r.find(".auto-populate-type-panel").hide(),t.prop("checked")?(i.hide(),r.show()):(i.show(),r.hide()),r.find(".caldera-config-group-auto-"+n.val()).show()}),e("body").on("change",".pin-toggle-roles",function(){var t=e(this),a=e("#caldera-pin-rules");"1"===t.val()?a.show():a.hide()}),e("body").on("click",".magic-tag-init",function(t){var a=e(this),i=a.prev();i.focus().trigger("init.magic")}),e("body").on("keyup  focus select click init.magic",".magic-tag-enabled",function(t){init_magic_tags();var a=e(this),i=a.parent(),r=i.closest(".wrapper-instance-pane").find(".caldera-select-field-type").val()?i.closest(".wrapper-instance-pane").find(".caldera-select-field-type").val():"hidden",n=i.find(".magic-tags-autocomplete"),s=n.find("ul"),o=this.value,l=[],c="",d=this.selectionStart,p=this.selectionEnd;if(n.length&&n.data("focus"))return void t.preventDefault();if(a.data("tag",""),this.selectionEnd>this.selectionStart)c=this.value.substr(this.selectionStart,this.selectionEnd-this.selectionStart);else if(("select"===t.type||"keyup"===t.type)&&40!==t.which&&38!==t.which&&39!==t.which&&37!==t.which){for(d=this.selectionStart;d>0;d--){var h=o.substr(d-1,1);if(" "===h||"\n"===h||("%"===h||"}"===h)&&this.selectionStart===d)break}for(p=this.selectionStart;p<o.length;p++){var h=o.substr(p,1);if(" "===h||"\n"===h||("%"===h||"{"===h)&&this.selectionStart===p)break}c=o.substr(d,p-d)}if("focusout"!==t.type){"init"!==t.type&&c.length<3&&n.length&&n.remove(),n.length||(n=e('<div class="magic-tags-autocomplete"></div>'),s=e("<ul></ul>"),s.appendTo(n),n.insertAfter(a),n.on("mouseenter",function(){e(this).data("focus",!0)}),n.on("mouseleave",function(){e(this).data("focus",!1),setTimeout(function(){n.remove()},200),a.is(":focus")||a.trigger("focusout")})),s.empty();var u="system",f=!1;"hidden"===r||"dropdown"===r||"radio"===r||"toggle_switch"===r||"checkbox"===r?(f=!0,r="text",u="all"):"paragraph"!==r&&"html"!==r||(r="text"),a.data("type")&&(r=a.data("type")),r=r.split(","),r.push("vars");for(var g=0;g<r.length;g++)for(var m in system_values)if("undefined"!=typeof system_values[m].tags&&"undefined"!=typeof system_values[m].tags[r[g]]){if(l=[m],"system"!==m&&"variable"!==m&&"field"!==m){var v=jQuery(".processor-"+m),y=a.closest(".caldera-editor-processor-config-wrapper"),k=y.prop("id");l=[];for(var b=0;b<v.length;b++)if(y.length||f!==!0){if(k===v[b].id)continue;jQuery("li."+v[b].id).index()<jQuery("li."+k).index()&&l.push(v[b].id)}else l.push(v[b].id)}for(var _=0;_<l.length;_++)if("all"===u||u===m||"variable"===m){var w=e('<li class="header">'+system_values[m].type+(_>0?" ["+(_+1)+"]":"")+"</li>"),x=0;w.appendTo(s);for(var C=0;C<system_values[m].tags[r[g]].length;C++)if(!a.data("parent")||"variable:"+a.data("parent")!==system_values[m].tags[r[g]][C]){var S=system_values[m].wrap[0]+system_values[m].tags[r[g]][C]+system_values[m].wrap[1];if(l[_]!==m&&l.length>1&&(S=system_values[m].wrap[0]+system_values[m].tags[r[g]][C]+":"+l[_]+system_values[m].wrap[1]),S.indexOf(c)>=0||"init"===t.type){x+=1;var P=S.replace(c,"<strong>"+c+"</strong>"),D=e('<li class="tag" data-tag="'+S+'">'+P+"</li>");D.on("click",function(){var t=e(this).data("tag");a.val(o.substr(0,d)+t+o.substr(p)).trigger("change").focus(),a[0].selectionStart=d+t.length-(t.indexOf("*")>0?2:0),a[0].selectionEnd=d+t.length-(t.indexOf("*")>0?1:0),p=d=a[0].selectionEnd,o+=t,a.trigger("init.magic")}),D.appendTo(s)}}0===x&&w.remove()}}}s.children().length||n.remove(),"focusout"===t.type&&setTimeout(function(){n.remove()},200)});for(var r=e(".cf-editor-template"),n=0;n<r.length;n++)compiled_templates[r[n].id]=Handlebars.compile(r[n].innerHTML);e(".caldera-select-field-type").not(".field-initialized").each(function(e,a){t(a)})});var rebuild_field_binding,rebind_field_bindings,current_form_fields={},required_errors={},add_new_grid_page,add_page_grid,init_magic_tags,core_form,compiled_templates={};init_magic_tags=function(){var e=jQuery(".magic-tag-enabled");e.each(function(e,t){var a=jQuery(t);if(a.hasClass("magic-tag-init-bound")){var i=a.parent().find(".magic-tag-init");return void(a.is(":visible")?i.show():i.hide())}var r=jQuery('<span class=""></span>'),n=jQuery('<span style="position:relative;display:inline-block; width:100%;"></span>');a.is("input")&&r.css("borderBottom","none"),a.hasClass("caldera-conditional-value-field")&&n.width("auto"),a.wrap(n),r.insertAfter(a),a.addClass("magic-tag-init-bound"),a.is(":visible")?r.show():r.hide()})},rebuild_field_binding=function(){if(core_form||(core_form=jQuery(".caldera-forms-options-form")),core_form.hasClass("builder-loaded")){var e=jQuery(".caldera-editor-field-config-wrapper");system_values.field={tags:{text:[]},type:"Fields",wrap:["%","%"]};for(var t=0;t<e.length;t++){var a=e[t].id,i=jQuery("#"+a+"_lable").val(),r=jQuery("#"+a+"_slug").val(),n=jQuery("#"+a+"_type").val();"undefined"==typeof system_values.field.tags[n]&&(system_values.field.tags[n]=[]),system_values.field.tags[n].push(r),"text"!==n&&system_values.field.tags.text.push(r),current_form_fields[a]={label:i,slug:r,type:n},jQuery("option.bound-field").trigger("change").each(function(e,t){var a=jQuery(t);0!==a.prop("value").indexOf("{")?a.text(jQuery("#"+a.prop("value")+"_lable").val()+" ["+jQuery("#"+a.prop("value")+"_lable").val()+"]"):a.text(a.prop("value").replace("{","").replace("}",""))}).removeClass("bound-field")}}},rebind_field_bindings=function(){var e,t,a=jQuery(".caldera-field-bind").not(".bound_field");if(a.length){a.addClass("bound_field");for(var i=0;i<a.length;i++){var r=jQuery(a[i]),n=r.val(),s=r.data("default"),o=r.data("exclude"),l=0,c=r.closest(".caldera-editor-processor-config-wrapper"),d=c.prop("id"),p="";if(s&&!r.hasClass("reload-binding")&&(n=s),r.is("select")){r.empty();var h=jQuery('<optgroup label="Fields">');for(var u in current_form_fields)r.data("type")&&r.data("type").split(",").indexOf(current_form_fields[u].type)<0||(r.data("id")!==u&&h.append('<option value="'+u+'"'+(n===u?'selected="selected"':"")+">"+current_form_fields[u].label+" ["+current_form_fields[u].slug+"]</option>"),l+=1);h.appendTo(r),0===l&&r.empty();for(var f in system_values)if(e=[],!(o&&o.split(",").indexOf(f)>=0)){if("system"!==f&&"variable"!==f)for(var g=jQuery(".processor-"+f),m=0;m<g.length;m++)d!==g[m].id&&(e.push(g[m].id),g.length>1&&(t=jQuery("li."+g[m].id+" .processor-line-number"))&&t.html("["+(m+1)+"]"));else e.push("__system__");var v=[];r.data("type")?(v=r.data("type").split(","),v.push("vars")):v=["text","vars"];for(var y=0;y<v.length;y++)if(system_values[f].tags&&system_values[f].tags[v[y]])for(var k=0;k<e.length;k++){jQuery("li."+e[k]).index()>jQuery("li."+d).index()&&"__system__"!==e[k]?r.closest(".caldera-editor-processors-panel-wrap").length&&(p=' disabled="disabled"'):p="";for(var h=jQuery('<optgroup label="'+system_values[f].type+("__system__"!==e[k]?" "+jQuery("li."+e[k]).find(".processor-line-number").html():"")+'"'+p+">"),b=0;b<system_values[f].tags[v[y]].length;b++){var _=system_values[f].tags[v[y]][b];"__system__"!==e[k]&&(_=_.replace(f,e[k])),h.append('<option value="{'+_+'}"'+(n==="{"+_+"}"?'selected="selected"':"")+p+">"+system_values[f].tags[v[y]][b]+"</option>"),l+=1}h.children().length&&h.appendTo(r)}}if(0===l){if(r.empty(),r.data("type")){r.append('<option value="">No '+r.data("type").split(",").join(" or ")+" in form</option>");var w=!0}}else r.prop("disabled",!1);r.hasClass("required")||"undefined"!=typeof w||r.prepend('<option value=""></option>'),r.val(n)}}init_magic_tags(),jQuery(document).trigger("bound.fields"),jQuery(".caldera-header-save-button").prop("disabled",!1)}},jQuery(document).ready(function(e){function t(){var t=e(".layout-grid-panel"),a=0;t.each(function(t,i){var r=e(i),n=r.find(".layout-structure"),s=r.find(".row"),o=[];s.each(function(t,i){var r=e(i),n=r.children().not(".column-merge"),s=[];a+=1,n.each(function(t,i){span=e(i).attr("class").split("-"),s.push(span[2]);var r=e(i).find(".field-location");r.length&&r.each(function(i,r){var n=e(r);n.val(a+":"+(t+1)).removeAttr("disabled")})}),o.push(s.join(":"))}),n.val(o.join("|"))})}function a(t,a,r){var n,s,o="fld_"+Math.round(1e7*Math.random()),l=o,c=e("#field_config_panels");t.prop("id","").prop("title",""),n=Handlebars.compile(e("#caldera_field_config_wrapper_templ").html()),s=e.extend({},{id:l,label:"",slug:""},r),s.slug="",c.append(n(s)),t.removeClass("button-small").removeClass("button").removeClass("button-primary").removeClass("ui-draggable").removeClass("layout-new-form-field").addClass("layout-form-field").attr("data-config",o).css({display:"",opacity:""}),t.find(".layout_field_name").remove(),t.find(".field-location").prop("name","config[layout_grid][fields]["+o+"]"),t.find(".settings-panel").show(),t.appendTo(a),i(),t.find(".icon-edit").trigger("click"),e("#"+o+"_lable").focus().select(),baldrickTriggers(),e(document).trigger("field.added"),r?e("#"+l+"_type").data("type",s.type).trigger("change"):e("#"+o).trigger("field.drop"),rebuild_field_binding()}function i(){e(".toggle-options").sortable({handle:".dashicons-sort"}),e("#grid-pages-panel").sortable({placeholder:"row-drop-helper",handle:".sort-handle",items:".first-row-level",axis:"y",stop:function(){t()}}),e(".layout-column").sortable({connectWith:".layout-column",appendTo:"#grid-pages-panel",helper:"clone",items:".layout-form-field",handle:".drag-handle",cursor:"move",opacity:.7,cursorAt:{left:100,top:15},start:function(e,t){t.helper.css({width:"200px",height:"35px",paddingTop:"20px"})},stop:function(e,a){a.item.removeAttr("style"),t()}}),e("h3 .layout-new-form-field").draggable({helper:"clone",appendTo:"body"}),e(".page-toggle.button").droppable({accept:".layout-form-field",over:function(t,a){e(this).trigger("click"),e(".layout-column").sortable("refresh")}}),e(".layout-column").droppable({greedy:!0,activeClass:"ui-state-dropper",hoverClass:"ui-state-hoverable",accept:".layout-new-form-field",drop:function(t,i){var r=i.draggable.clone(),n=e(this);a(r,n)}}),t()}function r(){if(o){var t=e(".column-fieldinsert");t.length?(t.stop().fadeToggle(700),e(".layout-new-form-field").stop().fadeToggle(700)):cf_clear_puler()}}function n(){e(".caldera-editor-processors-panel ul").sortable({update:function(){rebuild_field_binding()}})}function s(t){var a=e(t),i=e("#"+a.val()+"-tmpl").length?e("#"+a.val()+"-tmpl").html():"",r=a.closest(".caldera-editor-processor-config-wrapper"),n=r.find(".caldera-config-processor-setup"),s=Handlebars.compile(i),o=r.find(".processor_config_string").val(),l=a.data("type");o=o.length&&l===a.val()?JSON.parse(o):processor_defaults[a.val()+"_cfg"],o||(o={}),
o._id=r.prop("id"),o._name="config[processors]["+r.prop("id")+"][config]",s=e("<div>").html(s(o)),n.html(s.html()),"function"==typeof window[a.val()+"_init"]&&window[a.val()+"_init"](r.prop("id"),n),r.find(".no-conditions").length&&r.find(".toggle_option_tab").remove(),rebuild_field_binding(),baldrickTriggers(),e(".wp-baldrick").baldrick({request:ajaxurl,method:"POST",before:function(t){var a=e(t);a.data("addNode")&&!a.data("request")&&a.data("request","cf_get_default_setting")}})}add_new_grid_page=function(e){return{page_no:"pg_"+Math.round(1e7*Math.random())}},add_page_grid=function(t){var a=e(".page-toggle").length+1,r=e('<button type="button" data-name="Page '+a+'" data-page="'+t.rawData.page_no+'" class="page-toggle button">'+t.params.trigger.data("addtitle")+" "+a+"</button> "),n=e("#page-toggles");r.appendTo(n),n.show(),i(),r.trigger("click"),1===a&&n.hide(),e(document).trigger("add.page")},e(document).on("remove.page add.page load.page",function(t){var a=e(".page-toggle").length,i=e("#tab_pages");a<=1?i.hide():i.show()}),i(),e("#grid-pages-panel").on("click",".column-fieldinsert .dashicons-plus-alt",function(t){var i=e(this).closest(".column-container"),r=e("#newfield-tool").clone().css("display","");a(r,i)}),e("#grid-pages-panel").on("click",".column-split",function(t){var a=e(this).parent().parent(),r=a.attr("class").split("-"),n=e("<div>").insertAfter(a),s=Math.ceil(r[2]/2),o=Math.floor(r[2]/2);r[2]=s,a.attr("class",r.join("-")),r[2]=o,n.addClass(r.join("-")).append('<div class="layout-column column-container">'),e(this).remove(),i(),jQuery(".column-tools").remove(),jQuery(".column-merge").remove()}),e("#grid-pages-panel").on("click",".column-remove",function(a){var i=e(this).closest(".row"),r=i.find(".layout-form-field"),n=i.closest(".layout-grid-panel");if(r.length){if(!confirm(e("#row-remove-fields-message").text()))return;r.each(function(t,a){var i=e(a).data("config");e("#"+i).remove(),e('option[value="'+i+'"]').remove(),e('[data-bind="'+i+'"]').remove(),delete current_form_fields[i]})}i.slideUp(200,function(){if(e(this).remove(),t(),rebuild_field_binding(),!n.find(".row").length){n.remove();var a=e("#page-toggles .button-primary"),i=a.prev(),r=a.next();a.remove(),i.length?i.trigger("click"):r.trigger("click")}e(document).trigger("remove.page")}),jQuery(".column-tools").remove(),jQuery(".column-merge").remove()}),e(".caldera-config-editor-main-panel").on("click",".caldera-add-row",function(a){a.preventDefault();var r=e(".page-active");if(!r.length)return void e(".caldera-add-page").trigger("click");var n=e('<div style="display:none;" class="first-row-level row"><div class="col-xs-12"><div class="layout-column column-container"></div></div></div>');e(".page-active").append(n),n.slideDown(200),i(),t()}),e("#grid-pages-panel").on("click",".column-join",function(a){var i=e(this).parent().parent().parent(),r=i.prev(),n=r.attr("class").split("-"),s=i.attr("class").split("-");n[2]=parseFloat(n[2])+parseFloat(s[2]),i.find(".layout-column").contents().appendTo(r.find(".layout-column")),r.attr("class",n.join("-")),i.remove(),t(),jQuery(".column-tools").remove(),jQuery(".column-merge").remove()}),e("#grid-pages-panel").on("mouseenter",".row",function(a){var i=jQuery(this);jQuery(".column-tools,.column-merge").remove(),i.children().children().first().append('<div class="column-remove column-tools"><i class="icon-remove"></i></div>'),i.children().children().last().append('<div class="column-sort column-tools" style="text-align:right;"><i class="dashicons dashicons-menu drag-handle sort-handle"></i></div>'),i.children().children().not(":first").prepend('<div class="column-merge"><div class="column-join column-tools"><i class="icon-join"></i></div></div>');var r=i.parent().parent().parent().width()/12-1;i.children().children().each(function(t,a){var i=e(a),r=i.width()/2-5;i.prepend('<div class="column-fieldinsert column-tools"><i class="dashicons dashicons-plus-alt"></i></div>'),i.parent().hasClass("col-xs-1")||(i.prepend('<div class="column-split column-tools"><i class="dashicons dashicons-leftright"></i></div>'),i.find(".column-split").css("left",r))}),jQuery(".column-merge").draggable({axis:"x",helper:"clone",appendTo:i,grid:[r,0],drag:function(a,i){e(this).addClass("dragging"),e(".column-tools").remove(),e(".column-split").remove();var r=e(this).parent().parent(),n=i.helper,s=i.originalPosition.left>n.position().left?"left":"right",o=r.prev(),l=Math.round(r.parent().width()/12-10),c=Math.abs(i.originalPosition.left-n.position().left);if(r.parent().addClass("sizing"),c>=l){var d=o.attr("class").split("-"),p=r.attr("class").split("-");d[2]=parseFloat(d[2]),p[2]=parseFloat(p[2]),"left"===s?(d[2]--,p[2]++,d[2]>0&&d[2]<d[2]+p[2]?(o.attr("class",d.join("-")),r.attr("class",p.join("-")),i.originalPosition.left=n.position().left):e(this).draggable("option","disabled",!0)):(d[2]++,p[2]--,p[2]>0&&p[2]<p[2]+p[2]?(o.attr("class",d.join("-")),r.attr("class",p.join("-")),i.originalPosition.left=n.position().left):e(this).draggable("option","disabled",!0)),t()}},stop:function(){e(this).removeClass("dragging").parent().parent().parent().removeClass("sizing")}})}),e("#grid-pages-panel").on("mouseleave",".row",function(e){jQuery(".column-tools").remove(),jQuery(".column-merge").remove()}),e("#grid-pages-panel").on("click",".layout-form-field .icon-remove",function(){var t=e(this),a=t.parent(),i=e("#"+a.data("config"));a.slideUp(100,function(){e(this).remove()}),i.slideUp(100,function(){e(this).remove()})}),e(document).on("click",".layout-form-field .dashicons-admin-page",function(){var t=e(this),i=t.parent(),r=i.data("config"),n=e("#"+r).formJSON(),s=t.closest(".column-container"),o=i.clone().css("display",""),l={};i.hasClass("field-edit-open")&&(i.removeClass("field-edit-open"),o.removeClass("field-edit-open"),e(".caldera-editor-field-config-wrapper").hide()),n.config.fields[r]&&(l=n.config.fields[r],delete l.ID),a(o,s,l)}),e(document).on("click",".layout-form-field .icon-edit",function(){var t=e(this),a=t.parent(),i=e("#"+a.data("config")+"_type").val();e(".caldera-editor-field-config-wrapper").hide(),a.hasClass("field-edit-open")?a.removeClass("field-edit-open"):(e(".layout-form-field").removeClass("field-edit-open"),a.addClass("field-edit-open"),e("#"+a.data("config")).show()),e(document).trigger("show."+a.data("config")),e(document).trigger("show.fieldedit"),"radio"!==i&&"checkbox"!==i&&"dropdown"!==i&&"toggle_switch"!==i||e("#"+a.data("config")+"_auto").trigger("change")}),e("body").on("click",".layout-modal-edit-closer,.layout-modal-save-action",function(t){t.preventDefault();var a=e(this),i=e(".layout-form-field.edit-open"),r=a.closest(".layout-modal-container");settings=r.find(".settings-panel").first(),e(".edit-open").removeClass("edit-open"),settings.appendTo(i.find(".settings-wrapper")).hide(),r.hide()}),e(".layout-editor-body").on("change",".layout-core-pod-query",function(){e(this).parent().find(".settings-panel-row").remove(),e(".edit-open").find(".drag-handle .set-pod").html(" - "+e(this).val())}),e(".layout-editor-body").on("click",".remove-where",function(){e(this).closest(".settings-panel-row").remove()}),e(".layout-editor-body").on("click",".use-pod-container",function(){var t=e(this),a=t.prev(),i=a.val();if(i.length){e(".edit-open").find(".drag-handle .set-pod").html(" - "+a.val()),t.parent().parent().find(".spinner").css("display","inline-block");var r={action:"pq_loadpod",pod_reference:{pod:i}};e.post(ajaxurl,r,function(a){t.parent().find(".spinner").css("display","none");var i=e("#where-line-tmpl").html(),r="",n=t.closest(".settings-panel").data("container");for(var s in a)r+='<option value="'+a[s]+'">'+a[s]+"</option>";i=i.replace(/{{fields}}/g,r).replace(/{{container_id}}/g,n),t.parent().append(i)})}}),e(".caldera-editor-header").on("click",".column-sort .icon-edit",function(e){}),e(".layout-editor-body").on("tray_loaded",".layout-template-tray",function(){i()}),e(".caldera-editor-header").on("click",".caldera-editor-header-nav a",function(t){t.preventDefault();var a=e(this);e(".caldera-editor-header-nav li").removeClass("active"),e(".caldera-editor-body").hide(),e(a.attr("href")).show(),a.parent().addClass("active"),rebind_field_bindings()}),e("body").on("change",".required",function(){check_required_bindings(this)}),e("body").on("submit",".caldera-forms-options-form",function(t){var a=e(".required.has-error");a.length&&t.preventDefault()}),e(".caldera-editor-body").on("click",".add-toggle-option",function(t){var a=e(this);if(a.data("bulk"))return e(a.data("bulk")).toggle(),void e(a.data("bulk")).find("textarea").focus();var i=a.closest(".caldera-editor-field-config-wrapper"),r=i.find(".toggle-options"),n=e("#field-option-row-tmpl").html(),s=Handlebars.compile(n),o="opt"+parseInt(1048576*(Math.random()+1)),l={_name:"config[fields]["+i.prop("id")+"][config]",option:{}};if(a.data("options")){for(var c=e(a.data("options")),d=c.val().split("\n"),p=!1,h=0;h<d.length;h++){var u=d[h],f=u,g=f.split("|");g.length>1&&(f=g[0],u=g[1],p=!0),l.option["opt"+parseInt(1048576*(Math.random()+h))]={value:f,label:u,"default":!1}}e(a.data("options")).parent().hide(),c.val(""),!0===p?i.find(".toggle_show_values").prop("checked",!0):i.find(".toggle_show_values").prop("checked",!1),r.empty()}else l.option[o]={value:"",label:"","default":!1};e(".preset_options").val(""),r.append(s(l)),i.find(".toggle_show_values").trigger("change"),e(".toggle-options").sortable({handle:".dashicons-sort"}),d||r.find(".toggle_label_field").last().focus()}),e(".caldera-editor-body").on("change",".preset_options",function(t){var a=e(this),i=a.val(),r=e(a.data("bulk"));preset_options&&preset_options[i]&&preset_options[i].data&&("object"==typeof preset_options[i].data&&preset_options[i].data.length&&(preset_options[i].data=preset_options[i].data.join("\n")),r.val(preset_options[i].data))}),e(".caldera-editor-body").on("click",".toggle-remove-option",function(t){var a=e(this).closest(".caldera-editor-field-config-wrapper").find(".field-config").first();e(this).parent().remove(),a.trigger("change"),e(document).trigger("option.remove")}),e(".caldera-editor-body").on("click",".page-toggle",function(t){var a=e(this),i=a.parent(),r=i.find(".button");r.removeClass("button-primary"),e(".layout-grid-panel").hide().removeClass("page-active"),e("#"+a.data("page")).show().addClass("page-active"),a.addClass("button-primary"),r.each(function(t,a){e(a).html(i.data("title")+" "+(t+1))}),1===r.length&&i.hide()}),e(".caldera-editor-body").on("blur toggle.values",".toggle_label_field",function(t){var a=e(this),i=a.prev();i.val().length||i.val(a.val())}),e(document).on("change focusout",".toggle_value_field",function(){e(document).trigger("show.fieldedit")}),e(document).on("show.fieldedit option.remove",function(t){e(".toggle_value_field.has-error").removeClass("has-error");for(var a=e("#"+e(".layout-form-field.field-edit-open").data("config")),i=a.find(".toggle_value_field"),r=a.find(".notice"),n=0,s=0;s<i.length;s++){for(var o=(i[s].value,0),l=0;l<i.length;l++)i[s]!==i[l]&&i[s].value===i[l].value&&(e(i[l]).addClass("has-error"),o++);o>0&&(e(i[s]).addClass("has-error"),n++)}n>0?(r.slideDown(),t.preventDefault()):r.slideUp()});var o=!1;focus_initial_field=function(t){var a=e(".layout-grid-panel .icon-edit").first();a.length?a.trigger("click"):(e(".layout-column.column-container").first().trigger("mouseover"),o=setInterval(r,500)),e(document).off("load.page",focus_initial_field)},e(document).on("load.page",focus_initial_field),cf_clear_puler=function(){o&&(clearTimeout(o),e(document).off("mouseover",".layout-new-form-field, .column-fieldinsert",cf_clear_puler)),e(".layout-new-form-field, .column-fieldinsert").fadeIn()},e(document).on("mouseover",".layout-new-form-field, .column-fieldinsert",cf_clear_puler),rebuild_field_binding(),e(document).trigger("load.page"),e("body").on("click",".caldera-processor-nav a",function(t){t.preventDefault();var a=e(this);e(".caldera-processor-nav").removeClass("active"),e(".caldera-editor-processor-config-wrapper").hide(),e(a.attr("href")).show(),a.parent().addClass("active")}),e("body").on("click",".add-new-processor",function(t){var a=e(this),i=Handlebars.compile(e("#processor-wrapper-tmpl").html());wrap=e(".active-processors-list"),process_conf=e(".caldera-editor-processor-config"),processid=Math.round(1e8*Math.random()),new_templ=Handlebars.compile(e("#processor-line-tmpl").html()),new_proc={id:"fp_"+processid,type:a.data("type")},wrap.append(new_templ(new_proc)),process_conf.append(i(new_proc)),e("#form_processor_baldrickModalCloser").trigger("click"),e(".caldera-processor-nav a").last().trigger("click"),e("#fp_"+processid+"_type").val(a.data("type")).trigger("change"),n(),baldrickTriggers()}),e("body").on("click",".delete-processor",function(t){var a=e(this),i=a.closest(".caldera-editor-processor-config-wrapper");i.data("type");confirm(a.data("confirm"))&&(e("."+i.prop("id")).remove(),i.remove(),e(".caldera-processor-nav a").first().trigger("click"),rebuild_field_binding())}),e("body").on("change",".caldera-select-processor-type",function(t){var a=e(this),i=a.closest(".caldera-editor-processor-config-wrapper"),r=a.find('option[value="'+a.val()+'"]').text(),n=i.find(".caldera-editor-processor-title"),o=e(".caldera-processor-nav.active a");""===r&&(r=n.data("title")),n.html(r),o.html(r+' <span class="processor-line-number"></span>').parent().addClass("processor_type_"+a.val()),s(this),rebuild_field_binding()}),e(document).on("click","#cf-shortcode-preview",function(){e(this).focus().select()}),e(document).on("change",".cf-email-preview-toggle",function(){var t=e(this),a=e(".caldera-header-email-preview-button");t.is(":checked")?a.show().attr("aria-hidden","false").css("visibility","visible"):a.hide().attr("aria-hidden","true").css("visibility","hidden")}),rebuild_field_binding(),e(".caldera-select-processor-type").each(function(e,t){s(t)}),n()}),Handlebars.registerHelper("_field",function(e){var t=this,a="",i="",r="",n=this[e.hash.slug]?' data-default="'+this[e.hash.slug]+'"':"";e.hash.required&&(a=" required"),e.hash.exclude&&(r='data-exclude="'+e.hash.exclude+'"'),e.hash.array&&(i="[]","true"!==e.hash.array&&(n='value="'+e.hash.array+'"')),out="<select "+(e.hash.type?'data-type="'+e.hash.type+'"':"")+n+" "+r+' name="'+this._name+"["+e.hash.slug+"]"+i+'" id="'+this._id+"_"+e.hash.slug+'" class="block-input field-config caldera-field-bind'+a+'">',this[e.hash.slug]?out+='<option class="bound-field" value="'+this[e.hash.slug]+'" class="bound-field"></option>':e.hash.required||(out+='<option value=""></option>');for(var s in current_form_fields){var o="";e.hash.type&&current_form_fields[s].type!==e.hash.type||(t[e.hash.slug]&&t[e.hash.slug]===s&&(o=' selected="selected"'),out+='<option value="'+s+'"'+o+">"+current_form_fields[s].label+" ["+current_form_fields[s].slug+"]</option>")}return out+="</select>",e.hash.required&&(out+='<input class="field-config" name="'+this._name+'[_required_bounds][]" type="hidden" value="'+e.hash.slug+'">'),out}),Handlebars.registerHelper("console",function(e,t){console.log(this)}),jQuery&&function(e){e.extend(e.fn,{miniColors:function(t,a){var i=function(t,a,i){var r=y(t.val());r||(r="ffffff");var n=x(r),c=e('<span class="input-group-addon" style="background-color: #'+r+'" href="#"></span>');c.insertAfter(t),t.addClass("miniColors").data("original-maxlength",t.attr("maxlength")||null).data("original-autocomplete",t.attr("autocomplete")||null).data("letterCase",a.letterCase?a.letterCase:"uppercase").data("trigger",c).data("hsb",n).data("change",a.change?a.change:null).data("close",a.close?a.close:null).data("open",a.open?a.open:null).attr("maxlength",7).attr("autocomplete","off").val("#"+f(r,a.letterCase)).trigger("change"),a.readonly&&t.prop("readonly",!0),a.disabled&&s(t),c.on("click.miniColors",function(e){e.preventDefault(),""===t.val()&&t.val("#").trigger("change"),o(t)}),t.on("focus.miniColors",function(e){""===t.val()&&t.val("#").trigger("change"),o(t)}),t.on("blur.miniColors",function(e){var a=y(C(t.data("hsb")));t.val(a?"#"+f(a,t.data("letterCase")):"").trigger("change")}),t.on("keydown.miniColors",function(e){9===e.keyCode&&l(t)}),t.on("keyup.miniColors",function(e){u(t)}),t.on("paste.miniColors",function(e){setTimeout(function(){u(t)},5)})},r=function(t){l(),t=e(t),t.data("trigger").remove(),t.attr("autocomplete",t.data("original-autocomplete")).attr("maxlength",t.data("original-maxlength")).removeData().removeClass("miniColors").off(".miniColors"),e(document).off(".miniColors")},n=function(e){e.prop("disabled",!1).data("trigger").css("opacity",1)},s=function(e){l(e),e.prop("disabled",!0).data("trigger").css("opacity",.5)},o=function(t){if(t.prop("disabled"))return!1;l();var a=e('<div class="miniColors-selector"></div>');a.append('<div class="miniColors-colors" style="background-color: #FFF;"><div class="miniColors-colorPicker"><div class="miniColors-colorPicker-inner"></div></div>').append('<div class="miniColors-hues"><div class="miniColors-huePicker"></div></div>').css("display","none").addClass(t.attr("class")).removeClass("form-control");var i=t.data("hsb");a.find(".miniColors-colors").css("backgroundColor","#"+C({h:i.h,s:100,b:100}));var r=t.data("colorPosition");r||(r=g(i)),a.find(".miniColors-colorPicker").css("top",r.y+"px").css("left",r.x+"px");var n=t.data("huePosition");n||(n=m(i)),a.find(".miniColors-huePicker").css("top",n.y+"px"),t.data("selector",a).data("huePicker",a.find(".miniColors-huePicker")).data("colorPicker",a.find(".miniColors-colorPicker")).data("mousebutton",0),e("BODY").append(a);var s=t.data("trigger"),o=!t.is(":visible"),p=o?s.offset().top+s.outerHeight():t.offset().top+t.outerHeight(),h=o?s.offset().left:t.offset().left,u=a.outerWidth(),f=a.outerHeight(),v=s.outerWidth(),y=s.outerHeight(),b=e(window).height(),_=e(window).width(),w=e(window).scrollTop(),x=e(window).scrollLeft();p+f>b+w&&(p=p-f-y),h+u>_+x&&(h=h-u+v),a.css({top:p,left:h}).fadeIn(100),a.on("selectstart",function(){return!1}),(!e.browser.msie||e.browser.msie&&e.browser.version>=9)&&e(window).on("resize.miniColors",function(e){l(t)}),e(document).on("mousedown.miniColors touchstart.miniColors",function(a){t.data("mousebutton",1);var i=e(a.target).parents().andSelf();return i.hasClass("miniColors-colors")&&(a.preventDefault(),t.data("moving","colors"),c(t,a)),i.hasClass("miniColors-hues")&&(a.preventDefault(),t.data("moving","hues"),d(t,a)),i.hasClass("miniColors-selector")?void a.preventDefault():void(i.hasClass("miniColors")||l(t))}),e(document).on("mouseup.miniColors touchend.miniColors",function(e){e.preventDefault(),t.data("mousebutton",0).removeData("moving")}).on("mousemove.miniColors touchmove.miniColors",function(e){e.preventDefault(),1===t.data("mousebutton")&&("colors"===t.data("moving")&&c(t,e),"hues"===t.data("moving")&&d(t,e))}),t.data("open")&&t.data("open").call(t.get(0),"#"+C(i),k(i))},l=function(t){t||(t=e(".miniColors")),t.each(function(){var a=e(this).data("selector");e(this).removeData("selector"),e(a).fadeOut(100,function(){if(t.data("close")){var a=t.data("hsb"),i=C(a);t.data("close").call(t.get(0),"#"+i,k(a))}e(this).remove()})}),e(document).off(".miniColors")},c=function(e,t){var a=e.data("colorPicker");a.hide();var i={x:t.pageX,y:t.pageY};t.originalEvent.changedTouches&&(i.x=t.originalEvent.changedTouches[0].pageX,i.y=t.originalEvent.changedTouches[0].pageY),i.x=i.x-e.data("selector").find(".miniColors-colors").offset().left-5,i.y=i.y-e.data("selector").find(".miniColors-colors").offset().top-5,i.x<=-5&&(i.x=-5),i.x>=144&&(i.x=144),i.y<=-5&&(i.y=-5),i.y>=144&&(i.y=144),e.data("colorPosition",i),a.css("left",i.x).css("top",i.y).show();var r=Math.round(.67*(i.x+5));r<0&&(r=0),r>100&&(r=100);var n=100-Math.round(.67*(i.y+5));n<0&&(n=0),n>100&&(n=100);var s=e.data("hsb");s.s=r,s.b=n,p(e,s,!0)},d=function(e,t){var a=e.data("huePicker");a.hide();var i={y:t.pageY};t.originalEvent.changedTouches&&(i.y=t.originalEvent.changedTouches[0].pageY),i.y=i.y-e.data("selector").find(".miniColors-colors").offset().top-1,i.y<=-1&&(i.y=-1),i.y>=149&&(i.y=149),e.data("huePosition",i),a.css("top",i.y).show();var r=Math.round(2.4*(150-i.y-1));r<0&&(r=0),r>360&&(r=360);var n=e.data("hsb");n.h=r,p(e,n,!0)},p=function(e,t,a){e.data("hsb",t);var i=C(t);if(a&&e.val("#"+f(i,e.data("letterCase"))).trigger("change"),e.data("trigger").css("backgroundColor","#"+i),e.data("selector")&&e.data("selector").find(".miniColors-colors").css("backgroundColor","#"+C({h:t.h,s:100,b:100})),e.data("change")){if(i===e.data("lastChange"))return;e.data("change").call(e.get(0),"#"+i,k(t)),e.data("lastChange",i)}},u=function(t){t.val("#"+v(t.val())).trigger("change");var a=y(t.val());if(!a)return!1;var i=x(a),r=t.data("hsb");if(i.h===r.h&&i.s===r.s&&i.b===r.b)return!0;var n=g(i),s=e(t.data("colorPicker"));s.css("top",n.y+"px").css("left",n.x+"px"),t.data("colorPosition",n);var o=m(i),l=e(t.data("huePicker"));return l.css("top",o.y+"px"),t.data("huePosition",o),p(t,i),!0},f=function(e,t){return"lowercase"===t?e.toLowerCase():"uppercase"===t?e.toUpperCase():e},g=function(e){var t=Math.ceil(e.s/.67);t<0&&(t=0),t>150&&(t=150);var a=150-Math.ceil(e.b/.67);return a<0&&(a=0),a>150&&(a=150),{x:t-5,y:a-5}},m=function(e){var t=150-e.h/2.4;return t<0&&(h=0),t>150&&(h=150),{y:t-1}},v=function(e){return e.replace(/[^A-F0-9]/gi,"")},y=function(e){return(e=v(e))?(3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6===e.length?e:null):null},k=function(e){var t={},a=Math.round(e.h),i=Math.round(255*e.s/100),r=Math.round(255*e.b/100);if(0===i)t.r=t.g=t.b=r;else{var n=r,s=(255-i)*r/255,o=(n-s)*(a%60)/60;360===a&&(a=0),a<60?(t.r=n,t.b=s,t.g=s+o):a<120?(t.g=n,t.b=s,t.r=n-o):a<180?(t.g=n,t.r=s,t.b=s+o):a<240?(t.b=n,t.r=s,t.g=n-o):a<300?(t.b=n,t.g=s,t.r=s+o):a<360?(t.r=n,t.g=s,t.b=n-o):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},b=function(t){var a=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(a,function(e,t){1===t.length&&(a[e]="0"+t)}),a.join("")},_=function(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e}},w=function(e){var t={h:0,s:0,b:0},a=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),r=i-a;return t.b=i,t.s=0!==i?255*r/i:0,0!==t.s?e.r===i?t.h=(e.g-e.b)/r:e.g===i?t.h=2+(e.b-e.r)/r:t.h=4+(e.r-e.g)/r:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t},x=function(e){var t=w(_(e));return 0===t.s&&(t.h=360),t},C=function(e){return b(k(e))};switch(t){case"readonly":return e(this).each(function(){e(this).hasClass("miniColors")&&e(this).prop("readonly",a)}),e(this);case"disabled":return e(this).each(function(){e(this).hasClass("miniColors")&&(a?s(e(this)):n(e(this)))}),e(this);case"value":if(void 0===a){if(!e(this).hasClass("miniColors"))return;var S=e(this),P=y(S.val());return P?"#"+f(P,S.data("letterCase")):null}return e(this).each(function(){e(this).hasClass("miniColors")&&(e(this).val(a).trigger("change"),u(e(this)))}),e(this);case"destroy":return e(this).each(function(){e(this).hasClass("miniColors")&&r(e(this))}),e(this);default:return t||(t={}),e(this).each(function(){"input"===e(this)[0].tagName.toLowerCase()&&(e(this).data("trigger")||i(e(this),t,a))}),e(this)}}})}(jQuery),document.addEventListener("load",color_picker_init,!1),jQuery(document).ajaxComplete(function(){color_picker_init()}),function(e,t){function a(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var e=new Date;return a(e.getFullYear(),e.getMonth(),e.getDate())}function r(e){return function(){return this[e].apply(this,arguments)}}function n(t,a){function i(e,t){return t.toLowerCase()}var r,n=e(t).data(),s={},o=new RegExp("^"+a.toLowerCase()+"([A-Z])");a=new RegExp("^"+a.toLowerCase());for(var l in n)a.test(l)&&(r=l.replace(o,i),s[r]=n[l]);return s}function s(t){var a={};if(f[t]||(t=t.split("-")[0],f[t])){var i=f[t];return e.each(u,function(e,t){t in i&&(a[t]=i[t])}),a}}var o=e(window),l=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),a=0,i=this.length;a<i;a++)if(this[a].valueOf()===t)return a;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.splice(0)},copy:function(){var e=new l;return e.replace(this),e}};return function(){var a=[];return a.push.apply(a,arguments),e.extend(a,t),a}}(),c=function(t,a){this.dates=new l,this.viewDate=i(),this.focusDate=null,this._process_options(a),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(g.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("cfdatepicker-inline").appendTo(this.element):this.picker.addClass("cfdatepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("cfdatepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(t){this._o=e.extend({},this._o,t);var a=this.o=e.extend({},this._o),i=a.language;switch(f[i]||(i=i.split("-")[0],f[i]||(i=h.language)),a.language=i,a.startView){case 2:case"decade":a.startView=2;break;case 1:case"year":a.startView=1;break;default:a.startView=0}switch(a.minViewMode){case 1:case"months":a.minViewMode=1;break;case 2:case"years":a.minViewMode=2;break;default:a.minViewMode=0}a.startView=Math.max(a.startView,a.minViewMode),a.multidate!==!0&&(a.multidate=Number(a.multidate)||!1,a.multidate!==!1?a.multidate=Math.max(0,a.multidate):a.multidate=1),a.multidateSeparator=String(a.multidateSeparator),a.weekStart%=7,a.weekEnd=(a.weekStart+6)%7;var r=g.parseFormat(a.format);a.startDate!==-(1/0)&&(a.startDate?a.startDate instanceof Date?a.startDate=this._local_to_utc(this._zero_time(a.startDate)):a.startDate=g.parseDate(a.startDate,r,a.language):a.startDate=-(1/0)),a.endDate!==1/0&&(a.endDate?a.endDate instanceof Date?a.endDate=this._local_to_utc(this._zero_time(a.endDate)):a.endDate=g.parseDate(a.endDate,r,a.language):a.endDate=1/0),a.daysOfWeekDisabled=a.daysOfWeekDisabled||[],e.isArray(a.daysOfWeekDisabled)||(a.daysOfWeekDisabled=a.daysOfWeekDisabled.split(/[,\s]*/)),a.daysOfWeekDisabled=e.map(a.daysOfWeekDisabled,function(e){return parseInt(e,10)});var n=String(a.orientation).toLowerCase().split(/\s+/g),s=a.orientation.toLowerCase();if(n=e.grep(n,function(e){return/^auto|left|right|top|bottom$/.test(e)}),a.orientation={x:"auto",y:"auto"},s&&"auto"!==s)if(1===n.length)switch(n[0]){case"top":case"bottom":a.orientation.y=n[0];break;case"left":case"right":a.orientation.x=n[0]}else s=e.grep(n,function(e){return/^left|right$/.test(e)}),a.orientation.x=s[0]||"auto",s=e.grep(n,function(e){return/^top|bottom$/.test(e)}),a.orientation.y=s[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var a,i,r,n=0;n<e.length;n++)a=e[n][0],2===e[n].length?(i=t,r=e[n][1]):3===e[n].length&&(i=e[n][1],r=e[n][2]),a.on(r,i)},_unapplyEvents:function(e){for(var a,i,r,n=0;n<e.length;n++)a=e[n][0],2===e[n].length?(r=t,i=e[n][1]):3===e[n].length&&(r=e[n][1],i=e[n][2]),a.off(i,r)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,a){var i=a||this.dates.get(-1),r=this._utc_to_local(i);this.element.trigger({type:t,date:r,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var a=this.dates.get(e);return g.formatDate(a,t,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().cfdatepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:r("setDates"),setUTCDate:r("setUTCDates"),setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change()},getFormattedDate:function(a){a===t&&(a=this.o.format);var i=this.o.language;return e.map(this.dates,function(e){return g.formatDate(e,a,i)}).join(this.o.multidateSeparator)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t,a=this.picker.outerWidth(),i=this.picker.outerHeight(),r=10,n=o.width(),s=o.height(),l=o.scrollTop(),c=jQuery(this.element).data("form-id"),d=document.getElementById("modal-"+c+"-content");t=null!==d?1e4:parseInt(this.element.parents().filter(function(){
return"auto"!==e(this).css("z-index")}).first().css("z-index"))+10;var p=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),f=p.left,g=p.top;this.picker.removeClass("cfdatepicker-orient-top cfdatepicker-orient-bottom cfdatepicker-orient-right cfdatepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("cfdatepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(f-=a-u)):(this.picker.addClass("cfdatepicker-orient-left"),p.left<0?f-=p.left-r:p.left+a>n&&(f=n-a-r));var m,v,y=this.o.orientation.y;"auto"===y&&(m=-l+p.top-i,v=l+s-(p.top+h+i),y=Math.max(m,v)===v?"top":"bottom"),this.picker.addClass("cfdatepicker-orient-"+y),"top"===y?g+=h:g-=i+parseInt(this.picker.css("padding-top")),this.picker.css({top:g,left:f,zIndex:t})}},_allow_update:!0,update:function(){if(this._allow_update){var t=this.dates.copy(),a=[],i=!1;arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),a.push(t)},this)),i=!0):(a=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),a=a&&this.o.multidate?a.split(this.o.multidateSeparator):[a],delete this.element.data().date),a=e.map(a,e.proxy(function(e){return g.parseDate(e,this.o.format,this.o.language)},this)),a=e.grep(a,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(a),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():a.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var a='<th class="cw">&nbsp;</th>';t+=a,this.picker.find(".cfdatepicker-days thead tr:first-child").prepend(a)}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+f[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".cfdatepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;t<12;)e+='<span class="month">'+f[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".cfdatepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var a=[],i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),n=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()===i&&t.getUTCMonth()<r?a.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()===i&&t.getUTCMonth()>r)&&a.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&a.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===n.getFullYear()&&t.getUTCMonth()===n.getMonth()&&t.getUTCDate()===n.getDate()&&a.push("today"),this.dates.contains(t)!==-1&&a.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&a.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&a.push("range"),e.inArray(t.valueOf(),this.range)!==-1&&a.push("selected")),a},fill:function(){var i,r=new Date(this.viewDate),n=r.getUTCFullYear(),s=r.getUTCMonth(),o=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,p=f[this.o.language].today||f.en.today||"",h=f[this.o.language].clear||f.en.clear||"";this.picker.find(".cfdatepicker-days thead th.cfdatepicker-switch").text(f[this.o.language].months[s]+" "+n),this.picker.find("tfoot th.today").text(p).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(h).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var u=a(n,s-1,28),m=g.getDaysInMonth(u.getUTCFullYear(),u.getUTCMonth());u.setUTCDate(m),u.setUTCDate(m-(u.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(u);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,k=[];u.valueOf()<v;){if(u.getUTCDay()===this.o.weekStart&&(k.push("<tr>"),this.o.calendarWeeks)){var b=new Date(+u+(this.o.weekStart-u.getUTCDay()-7)%7*864e5),_=new Date(Number(b)+(11-b.getUTCDay())%7*864e5),w=new Date(Number(w=a(_.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864e5),x=(_-w)/864e5/7+1;k.push('<td class="cw">'+x+"</td>")}if(y=this.getClassNames(u),y.push("day"),this.o.beforeShowDay!==e.noop){var C=this.o.beforeShowDay(this._utc_to_local(u));C===t?C={}:"boolean"==typeof C?C={enabled:C}:"string"==typeof C&&(C={classes:C}),C.enabled===!1&&y.push("disabled"),C.classes&&(y=y.concat(C.classes.split(/\s+/))),C.tooltip&&(i=C.tooltip)}y=e.unique(y),k.push('<td class="'+y.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+u.getUTCDate()+"</td>"),u.getUTCDay()===this.o.weekEnd&&k.push("</tr>"),u.setUTCDate(u.getUTCDate()+1)}this.picker.find(".cfdatepicker-days tbody").empty().append(k.join(""));var S=this.picker.find(".cfdatepicker-months").find("th:eq(1)").text(n).end().find("span").removeClass("active");e.each(this.dates,function(e,t){t.getUTCFullYear()===n&&S.eq(t.getUTCMonth()).addClass("active")}),(n<o||n>c)&&S.addClass("disabled"),n===o&&S.slice(0,l).addClass("disabled"),n===c&&S.slice(d+1).addClass("disabled"),k="",n=10*parseInt(n/10,10);var P=this.picker.find(".cfdatepicker-years").find("th:eq(1)").text(n+"-"+(n+9)).end().find("td");n-=1;for(var D,E=e.map(this.dates,function(e){return e.getUTCFullYear()}),T=-1;T<11;T++)D=["year"],T===-1?D.push("old"):10===T&&D.push("new"),e.inArray(n,E)!==-1&&D.push("active"),(n<o||n>c)&&D.push("disabled"),k+='<span class="'+D.join(" ")+'">'+n+"</span>",n+=1;P.html(k)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),a=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()&&a<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&a>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault();var i,r,n,s=e(t.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"cfdatepicker-switch":this.showMode(1);break;case"prev":case"next":var o=g.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=a(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":var d;this.isInput?d=this.element:this.component&&(d=this.element.find("input")),d&&d.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":s.is(".disabled")||(this.viewDate.setUTCDate(1),s.is(".month")?(n=1,r=s.parent().find("span").index(s),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(r),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(a(i,r,n))):(n=1,r=0,i=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(a(i,r,n))),this.showMode(-1),this.fill());break;case"td":s.is(".day")&&!s.is(".disabled")&&(n=parseInt(s.text(),10)||1,i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),s.is(".old")?0===r?(r=11,i-=1):r-=1:s.is(".new")&&(11===r?(r=0,i+=1):r+=1),this._setDate(a(i,r,n)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e?t!==-1?this.dates.remove(t):this.dates.push(e):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,a){if(!e)return t;if(!a)return e;var i,r,n=new Date(e.valueOf()),s=n.getUTCDate(),o=n.getUTCMonth(),l=Math.abs(a);if(a=a>0?1:-1,1===l)r=a===-1?function(){return n.getUTCMonth()===o}:function(){return n.getUTCMonth()!==i},i=o+a,n.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var c=0;c<l;c++)n=this.moveMonth(n,a);i=n.getUTCMonth(),n.setUTCDate(s),r=function(){return i!==n.getUTCMonth()}}for(;r();)n.setUTCDate(--s),n.setUTCMonth(i);return n},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return void(27===e.keyCode&&this.show());var t,a,r,n=!1,s=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(a=this.moveYear(this.dates.get(-1)||i(),t),r=this.moveYear(s,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(a=this.moveMonth(this.dates.get(-1)||i(),t),r=this.moveMonth(s,t),this._trigger("changeMonth",this.viewDate)):(a=new Date(this.dates.get(-1)||i()),a.setUTCDate(a.getUTCDate()+t),r=new Date(s),r.setUTCDate(s.getUTCDate()+t)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(a=this.moveYear(this.dates.get(-1)||i(),t),r=this.moveYear(s,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(a=this.moveMonth(this.dates.get(-1)||i(),t),r=this.moveMonth(s,t),this._trigger("changeMonth",this.viewDate)):(a=new Date(this.dates.get(-1)||i()),a.setUTCDate(a.getUTCDate()+7*t),r=new Date(s),r.setUTCDate(s.getUTCDate()+7*t)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:s=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(s),n=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(n){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".cfdatepicker-"+g.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var d=function(t,a){this.element=e(t),this.inputs=e.map(a.inputs,function(e){return e.jquery?e[0]:e}),delete a.inputs,e(this.inputs).cfdatepicker(a).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("cfdatepicker")}),this.updateDates()};d.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,a){a.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var a=e(t.target).data("cfdatepicker"),i=a.getUTCDate(),r=e.inArray(t.target,this.inputs),n=this.inputs.length;if(r!==-1){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[r])for(;r>=0&&i<this.dates[r];)this.pickers[r--].setUTCDate(i);else if(i>this.dates[r])for(;r<n&&i>this.dates[r];)this.pickers[r++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().cfdatepicker}};var p=e.fn.cfdatepicker;e.fn.cfdatepicker=function(a){var i=Array.apply(null,arguments);i.shift();var r;return this.each(function(){var o=e(this),l=o.data("cfdatepicker"),p="object"==typeof a&&a;if(!l){var u=n(this,"date"),f=e.extend({},h,u,p),g=s(f.language),m=e.extend({},h,g,u,p);if(o.is(".input-daterange")||m.inputs){var v={inputs:m.inputs||o.find("input").toArray()};o.data("cfdatepicker",l=new d(this,e.extend(m,v)))}else o.data("cfdatepicker",l=new c(this,m))}if("string"==typeof a&&"function"==typeof l[a]&&(r=l[a].apply(l,i),r!==t))return!1}),r!==t?r:this};var h=e.fn.cfdatepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},u=e.fn.cfdatepicker.locale_opts=["format","rtl","weekStart"];e.fn.cfdatepicker.Constructor=c;var f=e.fn.cfdatepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,g.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),a=e.match(this.validParts);if(!t||!t.length||!a||0===a.length)throw new Error("Invalid date format.");return{separators:t,parts:a}},parseDate:function(i,r,n){function s(){var e=this.slice(0,h[d].length),t=h[d].slice(0,e.length);return e===t}if(!i)return t;if(i instanceof Date)return i;"string"==typeof r&&(r=g.parseFormat(r));var o,l,d,p=/([\-+]\d+)([dmwy])/,h=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,d=0;d<h.length;d++)switch(o=p.exec(h[d]),l=parseInt(o[1]),o[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=c.prototype.moveMonth.call(c.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=c.prototype.moveYear.call(c.prototype,i,l)}return a(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}h=i&&i.match(this.nonpunctuation)||[],i=new Date;var u,m,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],k={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};k.M=k.MM=k.mm=k.m,k.dd=k.d,i=a(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var b=r.parts.slice();if(h.length!==b.length&&(b=e(b).filter(function(t,a){return e.inArray(a,y)!==-1}).toArray()),h.length===b.length){var _;for(d=0,_=b.length;d<_;d++){if(u=parseInt(h[d],10),o=b[d],isNaN(u))switch(o){case"MM":m=e(f[n].months).filter(s),u=e.inArray(m[0],f[n].months)+1;break;case"M":m=e(f[n].monthsShort).filter(s),u=e.inArray(m[0],f[n].monthsShort)+1}v[o]=u}var w,x;for(d=0;d<y.length;d++)x=y[d],x in v&&!isNaN(v[x])&&(w=new Date(i),k[x](w,v[x]),isNaN(w)||(i=w))}return i},formatDate:function(t,a,i){if(!t)return"";"string"==typeof a&&(a=g.parseFormat(a));var r={d:t.getUTCDate(),D:f[i].daysShort[t.getUTCDay()],DD:f[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:f[i].monthsShort[t.getUTCMonth()],MM:f[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,t=[];for(var n=e.extend([],a.separators),s=0,o=a.parts.length;s<=o;s++)n.length&&t.push(n.shift()),t.push(r[a.parts[s]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="cfdatepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="cfdatepicker"><div class="cfdatepicker-days"><table class=" table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="cfdatepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="cfdatepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",e.fn.cfdatepicker.DPGlobal=g,e.fn.cfdatepicker.noConflict=function(){return e.fn.cfdatepicker=p,this},e(document).on("focus.cfdatepicker.data-api click.cfdatepicker.data-api",'[data-provide="cfdatepicker"]',function(t){var a=e(this);a.data("cfdatepicker")||(t.preventDefault(),a.cfdatepicker("show").on("show",function(){e(this).trigger("blur")}).on("hide",function(){e(this).attr("disabled",!1)}))})}(window.jQuery),!function(e){function t(e){var t=document.createElement("input"),a="on"+e,i=a in t;return i||(t.setAttribute(a,"return;"),i="function"==typeof t[a]),t=null,i}function a(e){var t="text"==e||"tel"==e;if(!t){var a=document.createElement("input");a.setAttribute("type",e),t="text"===a.type,a=null}return t}function i(t,a,r){var n=r.aliases[t];return!!n&&(n.alias&&i(n.alias,void 0,r),e.extend(!0,r,n),e.extend(!0,r,a),!0)}function r(t,a){function i(e){function a(e,t,a,i){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=a||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function i(e,a,i){var r=t.definitions[a],n=0==e.matches.length;if(i=void 0!=i?i:e.matches.length,r&&!p){for(var s=r.prevalidator,o=s?s.length:0,l=1;l<r.cardinality;l++){var c=o>=l?s[l-1]:[],d=c.validator,h=c.cardinality;e.matches.splice(i++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:h?h:1,optionality:e.isOptional,newBlockMarker:n,casing:r.casing,def:r.definitionSymbol||a,placeholder:r.placeholder,mask:a})}e.matches.splice(i++,0,{fn:r.validator?"string"==typeof r.validator?new RegExp(r.validator):new function(){this.test=r.validator}:new RegExp("."),cardinality:r.cardinality,optionality:e.isOptional,newBlockMarker:n,casing:r.casing,def:r.definitionSymbol||a,placeholder:r.placeholder,mask:a})}else e.matches.splice(i++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:n,casing:null,def:a,placeholder:void 0,mask:a}),p=!1}for(var r,n,s,o,l,c,d=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,p=!1,h=new a,u=[],f=[];r=d.exec(e);)switch(n=r[0],n.charAt(0)){case t.optionalmarker.end:case t.groupmarker.end:if(s=u.pop(),u.length>0){if(o=u[u.length-1],o.matches.push(s),o.isAlternator){l=u.pop();for(var g=0;g<l.matches.length;g++)l.matches[g].isGroup=!1;u.length>0?(o=u[u.length-1],o.matches.push(l)):h.matches.push(l)}}else h.matches.push(s);break;case t.optionalmarker.start:u.push(new a((!1),(!0)));break;case t.groupmarker.start:u.push(new a((!0)));break;case t.quantifiermarker.start:var m=new a((!1),(!1),(!0));n=n.replace(/[{}]/g,"");var v=n.split(","),y=isNaN(v[0])?v[0]:parseInt(v[0]),k=1==v.length?y:isNaN(v[1])?v[1]:parseInt(v[1]);if(("*"==k||"+"==k)&&(y="*"==k?0:1),m.quantifier={min:y,max:k},u.length>0){var b=u[u.length-1].matches;if(r=b.pop(),!r.isGroup){var _=new a((!0));_.matches.push(r),r=_}b.push(r),b.push(m)}else{if(r=h.matches.pop(),!r.isGroup){var _=new a((!0));_.matches.push(r),r=_}h.matches.push(r),h.matches.push(m)}break;case t.escapeChar:p=!0;break;case t.alternatormarker:u.length>0?(o=u[u.length-1],c=o.matches.pop()):c=h.matches.pop(),c.isAlternator?u.push(c):(l=new a((!1),(!1),(!1),(!0)),l.matches.push(c),u.push(l));break;default:if(u.length>0){if(o=u[u.length-1],o.matches.length>0&&(c=o.matches[o.matches.length-1],c.isGroup&&(c.isGroup=!1,i(c,t.groupmarker.start,0),i(c,t.groupmarker.end))),i(o,n),o.isAlternator){l=u.pop();for(var g=0;g<l.matches.length;g++)l.matches[g].isGroup=!1;u.length>0?(o=u[u.length-1],o.matches.push(l)):h.matches.push(l)}}else h.matches.length>0&&(c=h.matches[h.matches.length-1],c.isGroup&&(c.isGroup=!1,i(c,t.groupmarker.start,0),i(c,t.groupmarker.end))),i(h,n)}return h.matches.length>0&&(c=h.matches[h.matches.length-1],c.isGroup&&(c.isGroup=!1,i(c,t.groupmarker.start,0),i(c,t.groupmarker.end)),f.push(h)),f}function r(a,r){if(t.numericInput&&t.multi!==!0){a=a.split("").reverse();for(var n=0;n<a.length;n++)a[n]==t.optionalmarker.start?a[n]=t.optionalmarker.end:a[n]==t.optionalmarker.end?a[n]=t.optionalmarker.start:a[n]==t.groupmarker.start?a[n]=t.groupmarker.end:a[n]==t.groupmarker.end&&(a[n]=t.groupmarker.start);a=a.join("")}if(void 0!=a&&""!=a){if(1==a.length&&0==t.greedy&&0!=t.repeat&&(t.placeholder=""),t.repeat>0||"*"==t.repeat||"+"==t.repeat){var s="*"==t.repeat?0:"+"==t.repeat?1:t.repeat;a=t.groupmarker.start+a+t.groupmarker.end+t.quantifiermarker.start+s+","+t.repeat+t.quantifiermarker.end}return void 0==e.inputmask.masksCache[a]&&(e.inputmask.masksCache[a]={mask:a,maskToken:i(a),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:r}),e.extend(!0,{},e.inputmask.masksCache[a])}}var n=void 0;if(e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask))if(a)n=[],e.each(t.mask,function(t,a){n.push(void 0==a.mask||e.isFunction(a.mask)?r(a.toString(),a):r(a.mask.toString(),a))});else{t.keepStatic=void 0==t.keepStatic||t.keepStatic;var s="(";e.each(t.mask,function(t,a){s.length>1&&(s+=")|("),s+=void 0==a.mask||e.isFunction(a.mask)?a.toString():a.mask.toString()}),s+=")",n=r(s,t.mask)}else t.mask&&(n=void 0==t.mask.mask||e.isFunction(t.mask.mask)?r(t.mask.toString(),t.mask):r(t.mask.mask.toString(),t.mask));return n}function n(i,r,n){function o(e,t,a){t=t||0;var i,r,n,s=[],o=0;do{if(e===!0&&f().validPositions[o]){var l=f().validPositions[o];r=l.match,i=l.locator.slice(),s.push(a===!0?l.input:I(o,r))}else{if(t>o){var c=w(o,i,o-1);n=c[0]}else n=k(o,i,o-1);r=n.match,i=n.locator.slice(),s.push(I(o,r))}o++}while((void 0==ne||ne>o-1)&&null!=r.fn||null==r.fn&&""!=r.def||t>=o);return s.pop(),s}function f(){return r}function g(e){var t=f();t.buffer=void 0,t.tests={},e!==!0&&(t._buffer=void 0,t.validPositions={},t.p=0)}function m(e){var t=f(),a=-1,i=t.validPositions;void 0==e&&(e=-1);var r=a,n=a;for(var s in i){var o=parseInt(s);(-1==e||null!=i[o].match.fn)&&(e>o&&(r=o),o>=e&&(n=o))}return a=e-r>1||e>n?r:n}function v(t,a,i){if(n.insertMode&&void 0!=f().validPositions[t]&&void 0==i){var r,s=e.extend(!0,{},f().validPositions),o=m();for(r=t;o>=r;r++)delete f().validPositions[r];f().validPositions[t]=a;var l,c=!0;for(r=t;o>=r;r++){var d=s[r];if(void 0!=d){var p=f().validPositions;l=!n.keepStatic&&(void 0!=p[r+1]&&w(r+1,p[r].locator.slice(),r).length>1||p[r]&&void 0!=p[r].alternation)?r+1:M(r),c=_(l,d.match.def)?c&&D(l,d.input,!0,!0)!==!1:null==d.match.fn}if(!c)break}if(!c)return f().validPositions=e.extend(!0,{},s),!1}else f().validPositions[t]=a;return!0}function y(e,t){var a,i=e;for(void 0!=f().validPositions[e]&&f().validPositions[e].input==n.radixPoint&&(t++,i++),a=i;t>a;a++)void 0==f().validPositions[a]||f().validPositions[a].input==n.radixPoint&&a!=m()||delete f().validPositions[a];for(a=t;a<=m();){var r=f().validPositions[a],s=f().validPositions[i];void 0!=r&&void 0==s?(_(i,r.match.def)&&D(i,r.input,!0)!==!1&&(delete f().validPositions[a],a++),i++):a++}var o=m();o>=e&&void 0!=f().validPositions[o]&&f().validPositions[o].input==n.radixPoint&&delete f().validPositions[o],g(!0)}function k(t,a,i){function r(t,a,i){for(var r=!1,n=t.locator[a].toString().split(","),s=0;s<n.length;s++)if(-1!=e.inArray(n[s],i)){r=!0;break}return r}for(var s,o=w(t,a,i),l=m(),c=f().validPositions[l]||w(0)[0],d=void 0!=c.alternation?c.locator[c.alternation].split(","):[],p=0;p<o.length&&(s=o[p],!(n.greedy||s.match&&(s.match.optionality===!1||s.match.newBlockMarker===!1)&&s.match.optionalQuantifier!==!0&&(void 0==c.alternation||void 0!=s.locator[c.alternation]&&r(s,c.alternation,d))));p++);return s}function b(e){return f().validPositions[e]?f().validPositions[e].match:w(e)[0].match}function _(e,t){for(var a=!1,i=w(e),r=0;r<i.length;r++)if(i[r].match&&i[r].match.def==t){a=!0;break}return a}function w(t,a,i){function r(a,i,s,l){function p(s,l,u){if(o>1e4)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+f().mask),!0;if(o==t&&void 0==s.matches)return c.push({match:s,locator:l.reverse()}),!0;if(void 0!=s.matches){if(s.isGroup&&u!==!0){if(s=p(a.matches[h+1],l))return!0}else if(s.isOptional){var g=s;if(s=r(s,i,l,u)){var m=c[c.length-1].match,v=0==e.inArray(m,g.matches);v&&(d=!0),o=t}}else if(s.isAlternator){var y,k=s,b=[],_=c.slice(),w=l.length,x=i.length>0?i.shift():-1;if(-1==x||"string"==typeof x){var C,S=o,P=i.slice();"string"==typeof x&&(C=x.split(","));for(var D=0;D<k.matches.length;D++){c=[],s=p(k.matches[D],[D].concat(l),u)||s,y=c.slice(),o=S,c=[];for(var E=0;E<P.length;E++)i[E]=P[E];for(var T=0;T<y.length;T++)for(var M=y[T],j=0;j<b.length;j++){var O=b[j];if(M.match.mask==O.match.mask&&("string"!=typeof x||-1!=e.inArray(M.locator[w].toString(),C))){y.splice(T,1),O.locator[w]=O.locator[w]+","+M.locator[w],O.alternation=w;break}}b=b.concat(y)}"string"==typeof x&&(b=e.map(b,function(t,a){if(isFinite(a)){var i,r=t.locator[w].toString().split(",");t.locator[w]=void 0,t.alternation=void 0;for(var n=0;n<r.length;n++)i=-1!=e.inArray(r[n],C),i&&(void 0!=t.locator[w]?(t.locator[w]+=",",t.alternation=w,t.locator[w]+=r[n]):t.locator[w]=parseInt(r[n]));if(void 0!=t.locator[w])return t}})),c=_.concat(b),d=!0}else s=p(k.matches[x],[x].concat(l),u);if(s)return!0}else if(s.isQuantifier&&u!==!0){var A=s;n.greedy=n.greedy&&isFinite(A.quantifier.max);for(var I=i.length>0&&u!==!0?i.shift():0;I<(isNaN(A.quantifier.max)?I+1:A.quantifier.max)&&t>=o;I++){var N=a.matches[e.inArray(A,a.matches)-1];if(s=p(N,[I].concat(l),!0)){var m=c[c.length-1].match;m.optionalQuantifier=I>A.quantifier.min-1;var v=0==e.inArray(m,N.matches);if(v){if(I>A.quantifier.min-1){d=!0,o=t;break}return!0}return!0}}}else if(s=r(s,i,l,u))return!0}else o++}for(var h=i.length>0?i.shift():0;h<a.matches.length;h++)if(a.matches[h].isQuantifier!==!0){var u=p(a.matches[h],[h].concat(s),l);if(u&&o==t)return u;if(o>t)break}}var s=f().maskToken,o=a?i:0,l=a||[0],c=[],d=!1;if(void 0==a){for(var p,h=t-1;void 0==(p=f().validPositions[h])&&h>-1;)h--;if(void 0!=p&&h>-1)o=h,l=p.locator.slice();else{for(h=t-1;void 0==(p=f().tests[h])&&h>-1;)h--;void 0!=p&&h>-1&&(o=h,l=p[0].locator.slice())}}for(var u=l.shift();u<s.length;u++){var g=r(s[u],l,[u]);if(g&&o==t||o>t)break}return(0==c.length||d)&&c.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),f().tests[t]=e.extend(!0,[],c),f().tests[t]}function x(){return void 0==f()._buffer&&(f()._buffer=o(!1,1)),f()._buffer}function C(){return void 0==f().buffer&&(f().buffer=o(!0,m(),!0)),f().buffer}function S(e,t){var a=C().slice();if(e===!0)g(),e=0,t=a.length;else for(var i=e;t>i;i++)delete f().validPositions[i],delete f().tests[i];for(var i=e;t>i;i++)a[i]!=n.skipOptionalPartCharacter&&D(i,a[i],!0,!0)}function P(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}function D(t,a,i,r){function s(t,a,i,r){var s=!1;return e.each(w(t),function(o,l){for(var c=l.match,d=a?1:0,p="",h=(C(),c.cardinality);h>d;h--)p+=O(t-(h-1));if(a&&(p+=a),s=null!=c.fn?c.fn.test(p,f(),t,i,n):(a==c.def||a==n.skipOptionalPartCharacter)&&""!=c.def&&{c:c.def,pos:t},s!==!1){var u=void 0!=s.c?s.c:a;u=u==n.skipOptionalPartCharacter&&null===c.fn?c.def:u;var k=t;if(void 0!=s.remove&&y(s.remove,s.remove+1),s.refreshFromBuffer){var b=s.refreshFromBuffer;if(i=!0,S(b===!0?b:b.start,b.end),void 0==s.pos&&void 0==s.c)return s.pos=m(),!1;if(k=void 0!=s.pos?s.pos:t,k!=t)return s=e.extend(s,D(k,u,!0)),!1}else if(s!==!0&&void 0!=s.pos&&s.pos!=t&&(k=s.pos,S(t,k),k!=t))return s=e.extend(s,D(k,u,!0)),!1;return(1==s||void 0!=s.pos||void 0!=s.c)&&(o>0&&g(!0),v(k,e.extend({},l,{input:P(u,c)}),r)||(s=!1),!1)}}),s}function o(t,a,i,r){var s,o,l=e.extend(!0,{},f().validPositions);for(s=m();s>=0;s--)if(f().validPositions[s]&&void 0!=f().validPositions[s].alternation){o=f().validPositions[s].alternation;break}if(void 0!=o)for(var c in f().validPositions)if(parseInt(c)>parseInt(s)&&void 0===f().validPositions[c].alternation){for(var d=f().validPositions[c],p=d.locator[o],h=f().validPositions[s].locator[o].split(","),u=0;u<h.length;u++)if(p<h[u]){for(var v,y,k=c-1;k>=0;k--)if(v=f().validPositions[k],void 0!=v){y=v.locator[o],v.locator[o]=h[u];break}if(p!=v.locator[o]){for(var b=C().slice(),_=c;_<m()+1;_++)delete f().validPositions[_],delete f().tests[_];g(!0),n.keepStatic=!n.keepStatic;for(var _=c;_<b.length;_++)b[_]!=n.skipOptionalPartCharacter&&D(m()+1,b[_],!1,!0);v.locator[o]=y;var w=D(t,a,i,r);if(n.keepStatic=!n.keepStatic,w)return w;g(),f().validPositions=e.extend(!0,{},l)}}break}return!1}i=i===!0;for(var l=C(),c=t-1;c>-1&&(!f().validPositions[c]||null!=f().validPositions[c].match.fn);c--)void 0==f().validPositions[c]&&(!E(c)||l[c]!=I(c))&&w(c).length>1&&s(c,l[c],!0);var d=t,p=!1;if(r&&d>=T()&&g(!0),d<T()&&(p=s(d,a,i,r),!i&&p===!1)){var h=f().validPositions[d];if(!h||null!=h.match.fn||h.match.def!=a&&a!=n.skipOptionalPartCharacter){if((n.insertMode||void 0==f().validPositions[M(d)])&&!E(d))for(var u=d+1,k=M(d);k>=u;u++)if(p=s(u,a,i,r),p!==!1){d=u;break}}else p={caret:M(d)}}return p===!1&&n.keepStatic&&q(l)&&(p=o(t,a,i,r)),p===!0&&(p={pos:d}),p}function E(e){var t=b(e);return null!=t.fn&&t.fn}function T(){var e;if(ne=re.prop("maxLength"),-1==ne&&(ne=void 0),0==n.greedy){var t,a=m(),i=f().validPositions[a],r=void 0!=i?i.locator.slice():void 0;for(t=a+1;void 0==i||null!=i.match.fn||null==i.match.fn&&""!=i.match.def;t++)i=k(t,r,t-1),r=i.locator.slice();e=t}else e=C().length;return void 0==ne||ne>e?e:ne}function M(e){var t=T();if(e>=t)return t;for(var a=e;++a<t&&!E(a)&&(n.nojumps!==!0||n.nojumpsThreshold>a););return a}function j(e){var t=e;if(0>=t)return 0;for(;--t>0&&!E(t););return t}function O(e){return void 0==f().validPositions[e]?I(e):f().validPositions[e].input}function A(e,t,a){e._valueSet(t.join("")),void 0!=a&&U(e,a)}function I(t,a){a=a||b(t);var i=e.isFunction(a.placeholder)?a.placeholder.call(this,n):a.placeholder;return void 0!=i?i:null==a.fn?a.def:n.placeholder.charAt(t%n.placeholder.length)}function N(t,a,i,r,s){var o=void 0!=r?r.slice():R(t._valueGet()).split("");if(g(),a&&t._valueSet(""),e.each(o,function(a,r){if(s===!0){var n=m(),o=-1==n?a:M(n);
-1==e.inArray(r,x().slice(n+1,o))&&z.call(t,void 0,!0,r.charCodeAt(0),!1,i,i?a:f().p)}else z.call(t,void 0,!0,r.charCodeAt(0),!1,i,i?a:f().p),i=i||a>0&&a>f().p}),a){var l=n.onKeyPress.call(this,void 0,C(),0,n);Y(t,l),A(t,C(),e(t).is(":focus")?M(m(0)):void 0)}}function F(t){return e.inputmask.escapeRegex.call(this,t)}function R(e){return e.replace(new RegExp("("+F(x().join(""))+")*$"),"")}function H(t){if(t.data("_inputmask")&&!t.hasClass("hasDatepicker")){var a=[],i=f().validPositions;for(var r in i)i[r].match&&null!=i[r].match.fn&&a.push(i[r].input);var s=(se?a.reverse():a).join(""),o=(se?C().slice().reverse():C()).join("");return e.isFunction(n.onUnMask)&&(s=n.onUnMask.call(t,o,s,n)||s),s}return t[0]._valueGet()}function L(e){if(se&&"number"==typeof e&&(!n.greedy||""!=n.placeholder)){var t=C().length;e=t-e}return e}function U(t,a,i){var r,s=t.jquery&&t.length>0?t[0]:t;if("number"!=typeof a){var o=e(s).data("_inputmask");return!e(s).is(":visible")&&o&&void 0!=o.caret?(a=o.caret.begin,i=o.caret.end):s.setSelectionRange?(a=s.selectionStart,i=s.selectionEnd):document.selection&&document.selection.createRange&&(r=document.selection.createRange(),a=0-r.duplicate().moveStart("character",-1e5),i=a+r.text.length),a=L(a),i=L(i),{begin:a,end:i}}a=L(a),i=L(i),i="number"==typeof i?i:a;var o=e(s).data("_inputmask")||{};o.caret={begin:a,end:i},e(s).data("_inputmask",o),e(s).is(":visible")&&(s.scrollLeft=s.scrollWidth,0==n.insertMode&&a==i&&i++,s.setSelectionRange?(s.selectionStart=a,s.selectionEnd=i):s.createTextRange&&(r=s.createTextRange(),r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",a),r.select()))}function B(t){var a,i,r=C(),n=r.length,s=m(),o={},l=f().validPositions[s],c=void 0!=l?l.locator.slice():void 0;for(a=s+1;a<r.length;a++)i=k(a,c,a-1),c=i.locator.slice(),o[a]=e.extend(!0,{},i);var d=l&&void 0!=l.alternation?l.locator[l.alternation].split(","):[];for(a=n-1;a>s&&(i=o[a].match,(i.optionality||i.optionalQuantifier||l&&void 0!=l.alternation&&void 0!=o[a].locator[l.alternation]&&-1!=e.inArray(o[a].locator[l.alternation].toString(),d))&&r[a]==I(a,i));a--)n--;return t?{l:n,def:o[n]?o[n].match:void 0}:n}function $(e){for(var t=C(),a=t.slice(),i=B(),r=a.length-1;r>i&&!E(r);r--);a.splice(i,r+1-i),A(e,a)}function q(t){if(e.isFunction(n.isComplete))return n.isComplete.call(re,t,n);if("*"!=n.repeat){var a=!1,i=B(!0),r=j(i.l),s=m();if(s==r&&(void 0==i.def||i.def.newBlockMarker||i.def.optionalQuantifier)){a=!0;for(var o=0;r>=o;o++){var l=E(o);if(l&&(void 0==t[o]||t[o]==I(o))||!l&&t[o]!=I(o)){a=!1;break}}}return a}}function Q(e,t){return se?e-t>1||e-t==1&&n.insertMode:t-e>1||t-e==1&&n.insertMode}function G(t){var a=e._data(t).events;e.each(a,function(t,a){e.each(a,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var a=t.handler;t.handler=function(e){return this.readOnly||this.disabled?void e.preventDefault:a.apply(this,arguments)}}})})}function K(t){function a(t){if(void 0==e.valHooks[t]||1!=e.valHooks[t].inputmaskpatch){var a=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},i=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(t){var i=e(t);if(i.data("_inputmask")){if(i.data("_inputmask").opts.autoUnmask)return i.inputmask("unmaskedvalue");var r=a(t),n=i.data("_inputmask"),s=n.maskset,o=s._buffer;return o=o?o.join(""):"",r!=o?r:""}return a(t)},set:function(t,a){var r,n=e(t),s=n.data("_inputmask");return s?(r=i(t,e.isFunction(s.opts.onBeforeMask)?s.opts.onBeforeMask.call(fe,a,s.opts)||a:a),n.triggerHandler("setvalue.inputmask")):r=i(t,a),r},inputmaskpatch:!0}}}function i(){var t=e(this),a=e(this).data("_inputmask");return a?a.opts.autoUnmask?t.inputmask("unmaskedvalue"):s.call(this)!=x().join("")?s.call(this):"":s.call(this)}function r(t){var a=e(this).data("_inputmask");a?(o.call(this,e.isFunction(a.opts.onBeforeMask)?a.opts.onBeforeMask.call(fe,t,a.opts)||t:t),e(this).triggerHandler("setvalue.inputmask")):o.call(this,t)}function n(t){e(t).bind("mouseenter.inputmask",function(){var t=e(this),a=this,i=a._valueGet();""!=i&&i!=C().join("")&&t.trigger("setvalue")});var a=e._data(t).events,i=a.mouseover;if(i){for(var r=i[i.length-1],n=i.length-1;n>0;n--)i[n]=i[n-1];i[0]=r}}var s,o;t._valueGet||(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(t,"value"),document.__lookupGetter__&&t.__lookupGetter__("value")?(s=t.__lookupGetter__("value"),o=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",r)):(s=function(){return t.value},o=function(e){t.value=e},a(t.type),n(t)),t._valueGet=function(){return se?s.call(this).split("").reverse().join(""):s.call(this)},t._valueSet=function(e){o.call(this,se?e.split("").reverse().join(""):e)})}function V(t,a,i){function r(){if(n.keepStatic){g(!0);var e,a=[];for(e=m();e>=0;e--)if(f().validPositions[e]){if(void 0!=f().validPositions[e].alternation)break;a.push(f().validPositions[e].input),delete f().validPositions[e]}if(e>0)for(;a.length>0;)f().p=M(m()),z.call(t,void 0,!0,a.pop().charCodeAt(0),!1,!1,f().p)}}if((n.numericInput||se)&&(a==e.inputmask.keyCode.BACKSPACE?a=e.inputmask.keyCode.DELETE:a==e.inputmask.keyCode.DELETE&&(a=e.inputmask.keyCode.BACKSPACE),se)){var s=i.end;i.end=i.begin,i.begin=s}a==e.inputmask.keyCode.BACKSPACE&&i.end-i.begin<=1?i.begin=j(i.begin):a==e.inputmask.keyCode.DELETE&&i.begin==i.end&&i.end++,y(i.begin,i.end),r();var o=m(i.begin);o<i.begin?(-1==o&&g(),f().p=M(o)):f().p=i.begin}function Y(e,t,a){if(t&&t.refreshFromBuffer){var i=t.refreshFromBuffer;S(i===!0?i:i.start,i.end),g(!0),void 0!=a&&(A(e,C()),U(e,t.caret||a.begin,t.caret||a.end))}}function W(a){oe=!1;var i=this,r=e(i),s=a.keyCode,o=U(i);s==e.inputmask.keyCode.BACKSPACE||s==e.inputmask.keyCode.DELETE||l&&127==s||a.ctrlKey&&88==s&&!t("cut")?(a.preventDefault(),88==s&&(ie=C().join("")),V(i,s,o),A(i,C(),f().p),i._valueGet()==x().join("")&&r.trigger("cleared"),n.showTooltip&&r.prop("title",f().mask)):s==e.inputmask.keyCode.END||s==e.inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var e=M(m());n.insertMode||e!=T()||a.shiftKey||e--,U(i,a.shiftKey?o.begin:e,e)},0):s==e.inputmask.keyCode.HOME&&!a.shiftKey||s==e.inputmask.keyCode.PAGE_UP?U(i,0,a.shiftKey?o.begin:0):s==e.inputmask.keyCode.ESCAPE||90==s&&a.ctrlKey?(N(i,!0,!1,ie.split("")),r.click()):s!=e.inputmask.keyCode.INSERT||a.shiftKey||a.ctrlKey?0!=n.insertMode||a.shiftKey||(s==e.inputmask.keyCode.RIGHT?setTimeout(function(){var e=U(i);U(i,e.begin)},0):s==e.inputmask.keyCode.LEFT&&setTimeout(function(){var e=U(i);U(i,se?e.begin+1:e.begin-1)},0)):(n.insertMode=!n.insertMode,U(i,n.insertMode||o.begin!=T()?o.begin:o.begin-1));var c=U(i),d=n.onKeyDown.call(this,a,C(),c.begin,n);Y(i,d,c),ce=-1!=e.inArray(s,n.ignorables)}function z(t,a,i,r,s,o){if(void 0==i&&oe)return!1;oe=!0;var l=this,c=e(l);t=t||window.event;var i=a?i:t.which||t.charCode||t.keyCode;if(!(a===!0||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||ce))return!0;if(i){a!==!0&&46==i&&0==t.shiftKey&&","==n.radixPoint&&(i=44);var d,p=a?{begin:o,end:o}:U(l),h=String.fromCharCode(i),u=Q(p.begin,p.end);u&&(f().undoPositions=e.extend(!0,{},f().validPositions),V(l,e.inputmask.keyCode.DELETE,p),n.insertMode||(n.insertMode=!n.insertMode,v(p.begin,s),n.insertMode=!n.insertMode),u=!n.multi),f().writeOutBuffer=!0;var m=se&&!u?p.end:p.begin,y=D(m,h,s);if(y!==!1){if(y!==!0&&(m=void 0!=y.pos?y.pos:m,h=void 0!=y.c?y.c:h),g(!0),void 0!=y.caret)d=y.caret;else{var k=f().validPositions;d=!n.keepStatic&&(void 0!=k[m+1]&&w(m+1,k[m].locator.slice(),m).length>1||void 0!=k[m].alternation)?m+1:M(m)}f().p=d}if(r!==!1){var b=this;if(setTimeout(function(){n.onKeyValidation.call(b,y,n)},0),f().writeOutBuffer&&y!==!1){var _=C();A(l,_,a?void 0:n.numericInput?j(d):d),a!==!0&&setTimeout(function(){q(_)===!0&&c.trigger("complete"),le=!0,c.trigger("input")},0)}else u&&(f().buffer=void 0,f().validPositions=f().undoPositions)}else u&&(f().buffer=void 0,f().validPositions=f().undoPositions);if(n.showTooltip&&c.prop("title",f().mask),t&&1!=a){t.preventDefault();var x=U(l),S=n.onKeyPress.call(this,t,C(),x.begin,n);Y(l,S,x)}}}function J(t){var a=e(this),i=this,r=t.keyCode,s=C(),o=U(i),l=n.onKeyUp.call(this,t,s,o.begin,n);Y(i,l,o),r==e.inputmask.keyCode.TAB&&n.showMaskOnFocus&&(a.hasClass("focus-inputmask")&&0==i._valueGet().length?(g(),s=C(),A(i,s),U(i,0),ie=C().join("")):(A(i,s),U(i,L(0),L(T()))))}function X(t){if(le===!0&&"input"==t.type)return le=!1,!0;var a=this,i=e(a),r=a._valueGet(),s=U(a);if("propertychange"==t.type&&a._valueGet().length<=T())return!0;"paste"==t.type&&(window.clipboardData&&window.clipboardData.getData?r=r.substr(0,s.begin)+window.clipboardData.getData("Text")+r.substr(s.end,r.length):t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.getData&&(r=r.substr(0,s.begin)+t.originalEvent.clipboardData.getData("text/plain")+r.substr(s.end,r.length)));var o=e.isFunction(n.onBeforePaste)?n.onBeforePaste.call(a,r,n)||r:r;return N(a,!0,!1,se?o.split("").reverse():o.split(""),!0),i.click(),q(C())===!0&&i.trigger("complete"),!1}function Z(t){if(le===!0&&"input"==t.type)return le=!1,!0;var a=this,i=U(a),r=a._valueGet();r=r.replace(new RegExp("("+F(x().join(""))+")*"),""),i.begin>r.length&&(U(a,r.length),i=U(a)),C().length-r.length!=1||r.charAt(i.begin)==C()[i.begin]||r.charAt(i.begin+1)==C()[i.begin]||E(i.begin)||(t.keyCode=e.inputmask.keyCode.BACKSPACE,W.call(a,t)),t.preventDefault()}function ee(t){if(le===!0&&"input"==t.type)return le=!1,!0;var a=this,i=U(a),r=a._valueGet();U(a,i.begin-1);var s=e.Event("keypress");s.which=r.charCodeAt(i.begin-1),oe=!1,ce=!1,z.call(a,s,void 0,void 0,!1);var o=f().p;A(a,C(),n.numericInput?j(o):o),t.preventDefault()}function te(t){le=!0;var a=this;return setTimeout(function(){U(a,U(a).begin-1);var i=e.Event("keypress");i.which=t.originalEvent.data.charCodeAt(0),oe=!1,ce=!1,z.call(a,i,void 0,void 0,!1);var r=f().p;A(a,C(),n.numericInput?j(r):r)},0),!1}function ae(t){if(re=e(t),re.is(":input")&&a(re.attr("type"))){if(re.data("_inputmask",{maskset:r,opts:n,isRTL:!1}),n.showTooltip&&re.prop("title",f().mask),("rtl"==t.dir||n.rightAlign)&&re.css("text-align","right"),"rtl"==t.dir||n.numericInput){t.dir="ltr",re.removeAttr("dir");var i=re.data("_inputmask");i.isRTL=!0,re.data("_inputmask",i),se=!0}re.unbind(".inputmask"),re.removeClass("focus-inputmask"),re.closest("form").bind("submit",function(){ie!=C().join("")&&re.change(),re[0]._valueGet&&re[0]._valueGet()==x().join("")&&re[0]._valueSet(""),n.autoUnmask&&n.removeMaskOnSubmit&&re.inputmask("remove")}).bind("reset",function(){setTimeout(function(){re.trigger("setvalue")},0)}),re.bind("mouseenter.inputmask",function(){var t=e(this),a=this;!t.hasClass("focus-inputmask")&&n.showMaskOnHover&&a._valueGet()!=C().join("")&&A(a,C())}).bind("blur.inputmask",function(){var t=e(this),a=this;if(t.data("_inputmask")){var i=a._valueGet(),r=C();t.removeClass("focus-inputmask"),ie!=C().join("")&&t.change(),n.clearMaskOnLostFocus&&""!=i&&(i==x().join("")?a._valueSet(""):$(a)),q(r)===!1&&(t.trigger("incomplete"),n.clearIncomplete&&(g(),n.clearMaskOnLostFocus?a._valueSet(""):(r=x().slice(),A(a,r))))}}).bind("focus.inputmask",function(){var t=e(this),a=this,i=a._valueGet();n.showMaskOnFocus&&!t.hasClass("focus-inputmask")&&(!n.showMaskOnHover||n.showMaskOnHover&&""==i)&&a._valueGet()!=C().join("")&&A(a,C(),M(m())),t.addClass("focus-inputmask"),ie=C().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),a=this;n.clearMaskOnLostFocus&&(t.hasClass("focus-inputmask")||a._valueGet()==t.attr("placeholder")||(a._valueGet()==x().join("")||""==a._valueGet()?a._valueSet(""):$(a)))}).bind("click.inputmask",function(){var t=this;e(t).is(":focus")&&setTimeout(function(){var a=U(t);if(a.begin==a.end)if(n.radixFocus&&""!=n.radixPoint&&-1!=e.inArray(n.radixPoint,C())&&C().join("")==x().join(""))U(t,e.inArray(n.radixPoint,C()));else{var i=se?L(a.begin):a.begin,r=M(m(i));r>i?U(t,E(i)?i:M(i)):U(t,r)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){U(e,0,M(m()))},0)}).bind(u+".inputmask dragdrop.inputmask drop.inputmask",X).bind("setvalue.inputmask",function(){var e=this;N(e,!0,!1,void 0,!0),ie=C().join(""),(n.clearMaskOnLostFocus||n.clearIncomplete)&&e._valueGet()==x().join("")&&e._valueSet("")}).bind("cut.inputmask",function(t){le=!0;var a=this,i=e(a),r=U(a);V(a,e.inputmask.keyCode.DELETE,r);var s=n.onKeyPress.call(this,t,C(),f().p,n);Y(a,s,{begin:f().p,end:f().p}),a._valueGet()==x().join("")&&i.trigger("cleared"),n.showTooltip&&i.prop("title",f().mask)}).bind("complete.inputmask",n.oncomplete).bind("incomplete.inputmask",n.onincomplete).bind("cleared.inputmask",n.oncleared),re.bind("keydown.inputmask",W).bind("keypress.inputmask",z).bind("keyup.inputmask",J).bind("compositionupdate.inputmask",te),"paste"!==u||s||re.bind("input.inputmask",ee),s&&re.bind("input.inputmask",X),(c||p||d||h)&&("input"==u&&re.unbind(u+".inputmask"),re.bind("input.inputmask",Z)),K(t);var o=e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(t,t._valueGet(),n)||t._valueGet():t._valueGet();N(t,!0,!1,o.split(""),!0),ie=C().join("");var l;try{l=document.activeElement}catch(v){}q(C())===!1&&n.clearIncomplete&&g(),n.clearMaskOnLostFocus?C().join("")==x().join("")?t._valueSet(""):$(t):A(t,C()),l===t&&(re.addClass("focus-inputmask"),U(t,M(m()))),G(t)}}var ie,re,ne,se=!1,oe=!1,le=!1,ce=!1;if(void 0!=i)switch(i.action){case"isComplete":return re=e(i.el),r=re.data("_inputmask").maskset,n=re.data("_inputmask").opts,q(i.buffer);case"unmaskedvalue":return re=i.$input,r=re.data("_inputmask").maskset,n=re.data("_inputmask").opts,se=i.$input.data("_inputmask").isRTL,H(i.$input);case"mask":ie=C().join(""),ae(i.el);break;case"format":re=e({}),re.data("_inputmask",{maskset:r,opts:n,isRTL:n.numericInput}),n.numericInput&&(se=!0);var de=(e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(re,i.value,n)||i.value:i.value).split("");return N(re,!1,!1,se?de.reverse():de,!0),n.onKeyPress.call(this,void 0,C(),0,n),i.metadata?{value:se?C().slice().reverse().join(""):C().join(""),metadata:re.inputmask("getmetadata")}:se?C().slice().reverse().join(""):C().join("");case"isValid":re=e({}),re.data("_inputmask",{maskset:r,opts:n,isRTL:n.numericInput}),n.numericInput&&(se=!0);var de=i.value.split("");N(re,!1,!0,se?de.reverse():de);for(var pe=C(),he=B(),ue=pe.length-1;ue>he&&!E(ue);ue--);return pe.splice(he,ue+1-he),q(pe)&&i.value==pe.join("");case"getemptymask":return re=e(i.el),r=re.data("_inputmask").maskset,n=re.data("_inputmask").opts,x();case"remove":var fe=i.el;re=e(fe),r=re.data("_inputmask").maskset,n=re.data("_inputmask").opts,fe._valueSet(H(re)),re.unbind(".inputmask"),re.removeClass("focus-inputmask"),re.removeData("_inputmask");var ge;Object.getOwnPropertyDescriptor&&(ge=Object.getOwnPropertyDescriptor(fe,"value")),ge&&ge.get?fe._valueGet&&Object.defineProperty(fe,"value",{get:fe._valueGet,set:fe._valueSet}):document.__lookupGetter__&&fe.__lookupGetter__("value")&&fe._valueGet&&(fe.__defineGetter__("value",fe._valueGet),fe.__defineSetter__("value",fe._valueSet));try{delete fe._valueGet,delete fe._valueSet}catch(me){fe._valueGet=void 0,fe._valueSet=void 0}break;case"getmetadata":if(re=e(i.el),r=re.data("_inputmask").maskset,n=re.data("_inputmask").opts,e.isArray(r.metadata)){for(var ve,ye=m(),ke=ye;ke>=0;ke--)if(f().validPositions[ke]&&void 0!=f().validPositions[ke].alternation){ve=f().validPositions[ke].alternation;break}return void 0!=ve?r.metadata[f().validPositions[ye].locator[ve]]:r.metadata[0]}return r.metadata}}if(void 0===e.fn.inputmask){var s="function"==typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():new Function("/*@cc_on return @_jscript_version; @*/")()>=10,o=navigator.userAgent,l=null!==o.match(new RegExp("iphone","i")),c=null!==o.match(new RegExp("android.*safari.*","i")),d=null!==o.match(new RegExp("android.*chrome.*","i")),p=null!==o.match(new RegExp("android.*firefox.*","i")),h=/Kindle/i.test(o)||/Silk/i.test(o)||/KFTT/i.test(o)||/KFOT/i.test(o)||/KFJWA/i.test(o)||/KFJWI/i.test(o)||/KFSOWI/i.test(o)||/KFTHWA/i.test(o)||/KFTHWI/i.test(o)||/KFAPWA/i.test(o)||/KFAPWI/i.test(o),u=t("paste")?"paste":t("input")?"input":"propertychange";e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!0,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:e.noop,onKeyPress:e.noop,onKeyDown:e.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,a,s){var o=e.extend(!0,{},e.inputmask.defaults,a);return i(o.alias,a,o),n({action:"format",value:t,metadata:s},r(o),o)},isValid:function(t,a){var s=e.extend(!0,{},e.inputmask.defaults,a);return i(s.alias,a,s),n({action:"isValid",value:t},r(s),s)}},e.fn.inputmask=function(t,a,s,o,l){function c(t,a,r){var n=e(t);n.data("inputmask-alias")&&i(n.data("inputmask-alias"),{},a);for(var s in a){var o=n.data("inputmask-"+s.toLowerCase());void 0!=o&&("mask"==s&&0==o.indexOf("[")?(a[s]=o.replace(/[\s[\]]/g,"").split("','"),a[s][0]=a[s][0].replace("'",""),a[s][a[s].length-1]=a[s][a[s].length-1].replace("'","")):a[s]="boolean"==typeof o?o:o.toString(),r&&(r[s]=a[s]))}return a}s=s||n,o=o||"_inputmask";var d,p=e.extend(!0,{},e.inputmask.defaults,a);if("string"==typeof t)switch(t){case"mask":return i(p.alias,a,p),d=r(p,s!==n),void 0==d?this:this.each(function(){s({action:"mask",el:this},e.extend(!0,{},d),c(this,p))});case"unmaskedvalue":var h=e(this);return h.data(o)?s({action:"unmaskedvalue",$input:h}):h.val();case"remove":return this.each(function(){var t=e(this);t.data(o)&&s({action:"remove",el:this})});case"getemptymask":return this.data(o)?s({action:"getemptymask",el:this}):"";case"hasMaskedValue":return!!this.data(o)&&!this.data(o).opts.autoUnmask;case"isComplete":return!this.data(o)||s({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this});case"getmetadata":return this.data(o)?s({action:"getmetadata",el:this}):void 0;case"_detectScope":return i(p.alias,a,p),void 0==l||i(l,a,p)||-1!=e.inArray(l,["mask","unmaskedvalue","remove","getemptymask","hasMaskedValue","isComplete","getmetadata","_detectScope"])||(p.mask=l),e.isFunction(p.mask)&&(p.mask=p.mask.call(this,p)),e.isArray(p.mask);default:return i(p.alias,a,p),i(t,a,p)||(p.mask=t),d=r(p,s!==n),void 0==d?this:this.each(function(){s({action:"mask",el:this},e.extend(!0,{},d),c(this,p))})}else{if("object"==typeof t)return p=e.extend(!0,{},e.inputmask.defaults,t),i(p.alias,t,p),d=r(p,s!==n),void 0==d?this:this.each(function(){s({action:"mask",el:this},e.extend(!0,{},d),c(this,p))});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var r=e.parseJSON("{"+t+"}");e.extend(!0,r,a),p=e.extend(!0,{},e.inputmask.defaults,r),p=c(this,p),i(p.alias,r,p),p.alias=void 0,e(this).inputmask("mask",p,s)}catch(n){}if(e(this).attr("data-inputmask-mask")||e(this).attr("data-inputmask-alias")){p=e.extend(!0,{},e.inputmask.defaults,{});var o={};p=c(this,p,o),i(p.alias,o,p),p.alias=void 0,e(this).inputmask("mask",p,s)}})}}}return e.fn.inputmask}(jQuery),function(e){return e.extend(e.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),e.extend(e.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(t){var a=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+a+"[01])")},val2:function(t){var a=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9])"+a+"(0[1-9]|1[012]))|(30"+a+"(0[13-9]|1[012]))|(31"+a+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,a){if(isNaN(e))return!1;var i=parseInt(e.concat(t.toString().slice(e.length))),r=parseInt(e.concat(a.toString().slice(e.length)));return!isNaN(i)&&(i>=t&&a>=i)||!isNaN(r)&&(r>=t&&a>=r)},determinebaseyear:function(e,t,a){var i=(new Date).getFullYear();if(e>i)return e;if(i>t){for(var r=t.toString().slice(0,2),n=t.toString().slice(2,4);r+a>t;)r--;var s=r+n;return e>s?e:s}return i},onKeyUp:function(t){var a=e(this);if(t.ctrlKey&&t.keyCode==e.inputmask.keyCode.RIGHT){var i=new Date;a.val(i.getDate().toString()+(i.getMonth()+1).toString()+i.getFullYear().toString())}},definitions:{1:{validator:function(e,t,a,i,r){var n=r.regex.val1.test(e);return i||n||e.charAt(1)!=r.separator&&-1=="-./".indexOf(e.charAt(1))||!(n=r.regex.val1.test("0"+e.charAt(0)))?n:(t.buffer[a-1]="0",{refreshFromBuffer:{start:a-1,end:a},pos:a,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,a,i,r){isNaN(t.buffer[a+1])||(e+=t.buffer[a+1]);var n=1==e.length?r.regex.val1pre.test(e):r.regex.val1.test(e);return i||n||!(n=r.regex.val1.test("0"+e))?n:(t.buffer[a]="0",a++,{pos:a})},cardinality:1}]},2:{validator:function(e,t,a,i,r){var n=r.mask.indexOf("2")==r.mask.length-1?t.buffer.join("").substr(5,3):t.buffer.join("").substr(0,3);-1!=n.indexOf(r.placeholder[0])&&(n="01"+r.separator);var s=r.regex.val2(r.separator).test(n+e);if(!i&&!s&&(e.charAt(1)==r.separator||-1!="-./".indexOf(e.charAt(1)))&&(s=r.regex.val2(r.separator).test(n+"0"+e.charAt(0))))return t.buffer[a-1]="0",{refreshFromBuffer:{start:a-1,end:a},pos:a,c:e.charAt(0)};if(r.mask.indexOf("2")==r.mask.length-1&&s){var o=t.buffer.join("").substr(4,4)+e;if(o!=r.leapday)return!0;var l=parseInt(t.buffer.join("").substr(0,4),10);return l%4===0&&(l%100!==0||l%400===0)}return s},cardinality:2,prevalidator:[{validator:function(e,t,a,i,r){isNaN(t.buffer[a+1])||(e+=t.buffer[a+1]);var n=r.mask.indexOf("2")==r.mask.length-1?t.buffer.join("").substr(5,3):t.buffer.join("").substr(0,3);-1!=n.indexOf(r.placeholder[0])&&(n="01"+r.separator);var s=1==e.length?r.regex.val2pre(r.separator).test(n+e):r.regex.val2(r.separator).test(n+e);return i||s||!(s=r.regex.val2(r.separator).test(n+"0"+e))?s:(t.buffer[a]="0",a++,{pos:a})},cardinality:1}]},y:{validator:function(e,t,a,i,r){if(r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear)){var n=t.buffer.join("").substr(0,6);if(n!=r.leapday)return!0;var s=parseInt(e,10);return s%4===0&&(s%100!==0||s%400===0)}return!1},cardinality:4,prevalidator:[{validator:function(e,t,a,i,r){var n=r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear);if(!i&&!n){var s=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e+"0").toString().slice(0,1);if(n=r.isInYearRange(s+e,r.yearrange.minyear,r.yearrange.maxyear))return t.buffer[a++]=s.charAt(0),{pos:a};if(s=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e+"0").toString().slice(0,2),n=r.isInYearRange(s+e,r.yearrange.minyear,r.yearrange.maxyear))return t.buffer[a++]=s.charAt(0),t.buffer[a++]=s.charAt(1),{pos:a}}return n},cardinality:1},{validator:function(e,t,a,i,r){var n=r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear);if(!i&&!n){var s=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e).toString().slice(0,2);if(n=r.isInYearRange(e[0]+s[1]+e[1],r.yearrange.minyear,r.yearrange.maxyear))return t.buffer[a++]=s.charAt(1),{pos:a};if(s=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e).toString().slice(0,2),r.isInYearRange(s+e,r.yearrange.minyear,r.yearrange.maxyear)){var o=t.buffer.join("").substr(0,6);if(o!=r.leapday)n=!0;else{var l=parseInt(e,10);n=l%4===0&&(l%100!==0||l%400===0)}}else n=!1;if(n)return t.buffer[a-1]=s.charAt(0),t.buffer[a++]=s.charAt(1),t.buffer[a++]=e.charAt(0),{refreshFromBuffer:{start:a-3,end:a},pos:a}}return n},cardinality:2},{validator:function(e,t,a,i,r){return r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(t){var a=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+a+"[0-3])|(02"+a+"[0-2])")},val2:function(t){var a=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+a+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+a+"30)|((0[13578]|1[02])"+a+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyUp:function(t){var a=e(this);if(t.ctrlKey&&t.keyCode==e.inputmask.keyCode.RIGHT){var i=new Date;a.val((i.getMonth()+1).toString()+i.getDate().toString()+i.getFullYear().toString())}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(t){var a=e(this);if(t.ctrlKey&&t.keyCode==e.inputmask.keyCode.RIGHT){var i=new Date;a.val(i.getFullYear().toString()+(i.getMonth()+1).toString()+i.getDate().toString())}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,a,i,r){if("24"==r.hourFormat&&24==parseInt(e,10))return t.buffer[a-1]="0",t.buffer[a]="0",{refreshFromBuffer:{start:a-1,end:a},c:"0"};var n=r.regex.hrs.test(e);if(!i&&!n&&(e.charAt(1)==r.timeseparator||-1!="-.:".indexOf(e.charAt(1)))&&(n=r.regex.hrs.test("0"+e.charAt(0))))return t.buffer[a-1]="0",t.buffer[a]=e.charAt(0),a++,{refreshFromBuffer:{start:a-2,end:a},pos:a,c:r.timeseparator};if(n&&"24"!==r.hourFormat&&r.regex.hrs24.test(e)){var s=parseInt(e,10);return 24==s?(t.buffer[a+5]="a",t.buffer[a+6]="m"):(t.buffer[a+5]="p",t.buffer[a+6]="m"),s-=12,10>s?(t.buffer[a]=s.toString(),t.buffer[a-1]="0"):(t.buffer[a]=s.toString().charAt(1),t.buffer[a-1]=s.toString().charAt(0)),{refreshFromBuffer:{start:a-1,end:a+6},c:t.buffer[a]}}return n},cardinality:2,prevalidator:[{validator:function(e,t,a,i,r){var n=r.regex.hrspre.test(e);return i||n||!(n=r.regex.hrs.test("0"+e))?n:(t.buffer[a]="0",a++,{pos:a})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,t,a,i,r){var n=r.regex.mspre.test(e);return i||n||!(n=r.regex.ms.test("0"+e))?n:(t.buffer[a]="0",a++,{pos:a})},cardinality:1}]},t:{validator:function(e,t,a,i,r){return r.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}}),e.fn.inputmask}(jQuery),function(e){return e.extend(e.inputmask.defaults.definitions,{A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"}}),e.extend(e.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(){return!0},cardinality:8,prevalidator:function(){for(var e=[],t=8,a=0;t>a;a++)e[a]=function(){var e=a;return{validator:function(t,a,i,r,n){if(n.regex["urlpre"+(e+1)]){var s,o=t;e+1-t.length>0&&(o=a.buffer.join("").substring(0,e+1-t.length)+""+o);var l=n.regex["urlpre"+(e+1)].test(o);if(!r&&!l){for(i-=e,s=0;s<n.defaultPrefix.length;s++)a.buffer[i]=n.defaultPrefix[s],i++;for(s=0;s<o.length-1;s++)a.buffer[i]=o[s],i++;return{pos:i}}return l}return!1},cardinality:e}}();return e}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,a){return a-1>-1&&"."!=t.buffer[a-1]?(e=t.buffer[a-1]+e,e=a-2>-1&&"."!=t.buffer[a-2]?t.buffer[a-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(e){return e=e.toLowerCase(),e.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}}}}),e.fn.inputmask}(jQuery),function(e){return e.extend(e.inputmask.defaults.aliases,{numeric:{mask:function(e){if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator==e.radixPoint&&(e.groupSeparator="."==e.radixPoint?",":","==e.radixPoint?".":"")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!=e.groupSeparator,e.autoGroup&&isFinite(e.integerDigits)){var t=Math.floor(e.integerDigits/e.groupSize),a=e.integerDigits%e.groupSize;e.integerDigits+=0==a?t-1:t}e.definitions[";"]=e.definitions["~"];var i=e.prefix;return i+="[+]",i+="~{1,"+e.integerDigits+"}",void 0!=e.digits&&(isNaN(e.digits)||parseInt(e.digits)>0)&&(i+=e.digitsOptional?"["+(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}]":(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}"),i+=e.suffix},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,groupSeparator:"",radixPoint:".",radixFocus:!0,groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,integerDigits:"+",prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,postFormat:function(t,a,i,r){var n=!1,s=t[a];if(""==r.groupSeparator||-1!=e.inArray(r.radixPoint,t)&&a>=e.inArray(r.radixPoint,t)||new RegExp("[-+]").test(s))return{
pos:a};var o=t.slice();s==r.groupSeparator&&(o.splice(a--,1),s=o[a]),i?o[a]="?":o.splice(a,0,"?");var l=o.join("");if(r.autoGroup||i&&-1!=l.indexOf(r.groupSeparator)){var c=e.inputmask.escapeRegex.call(this,r.groupSeparator);n=0==l.indexOf(r.groupSeparator),l=l.replace(new RegExp(c,"g"),"");var d=l.split(r.radixPoint);if(l=d[0],l!=r.prefix+"?0"&&l.length>=r.groupSize+r.prefix.length){n=!0;for(var p=new RegExp("([-+]?[\\d?]+)([\\d?]{"+r.groupSize+"})");p.test(l);)l=l.replace(p,"$1"+r.groupSeparator+"$2"),l=l.replace(r.groupSeparator+r.groupSeparator,r.groupSeparator)}d.length>1&&(l+=r.radixPoint+d[1])}t.length=l.length;for(var h=0,u=l.length;u>h;h++)t[h]=l.charAt(h);var f=e.inArray("?",t);return i?t[f]=s:t.splice(f,1),{pos:f,refreshFromBuffer:n}},onKeyDown:function(t,a,i,r){if(t.keyCode==e.inputmask.keyCode.TAB&&"0"!=r.placeholder.charAt(0)){var n=e.inArray(r.radixPoint,a);if(-1!=n&&isFinite(r.digits)){for(var s=1;s<=r.digits;s++)(void 0==a[n+s]||a[n+s]==r.placeholder.charAt(0))&&(a[n+s]="0");return{refreshFromBuffer:{start:++n,end:n+r.digits}}}}else if(r.autoGroup&&(t.keyCode==e.inputmask.keyCode.DELETE||t.keyCode==e.inputmask.keyCode.BACKSPACE)){var o=r.postFormat(a,i-1,!0,r);return o.caret=o.pos+1,o}},onKeyPress:function(e,t,a,i){if(i.autoGroup){var r=i.postFormat(t,a-1,!0,i);return r.caret=r.pos+1,r}},regex:{integerPart:function(){return new RegExp("[-+]?\\d+")},integerNPart:function(){return new RegExp("\\d+")}},signHandler:function(e,t,a,i,r){if(!i&&(r.allowMinus&&"-"===e||r.allowPlus&&"+"===e)){var n=t.join("").match(r.regex.integerPart(r));if(n&&n.length>0&&"0"!==n[n.index])return t[n.index]==("-"===e?"+":"-")?{pos:n.index,c:e,remove:n.index,caret:a}:t[n.index]==("-"===e?"-":"+")?{remove:n.index,caret:a-1}:{pos:n.index,c:e,caret:a+1}}return!1},radixHandler:function(t,a,i,r,n){if(!r&&t===n.radixPoint){var s=e.inArray(n.radixPoint,a.buffer),o=a.buffer.join("").match(n.regex.integerPart(n));if(-1!=s)return a.validPositions[s-1]?{caret:s+1}:{pos:o.index,c:o[0],caret:s+1}}return!1},leadingZeroHandler:function(t,a,i,r,n){var s=a.buffer.join("").match(n.regex.integerNPart(n)),o=e.inArray(n.radixPoint,a.buffer);if(s&&!r&&(-1==o||s.index<o))if(0==s[0].indexOf("0")&&i>=n.prefix.length){if(-1==o||o>=i&&void 0==a.validPositions[o])return a.buffer.splice(s.index,1),i=i>s.index?i-1:s.index,{pos:i,remove:s.index};if(i>s.index&&o>=i)return a.buffer.splice(s.index,1),i=i>s.index?i-1:s.index,{pos:i,remove:s.index}}else if("0"==t&&i<=s.index)return!1;return!0},definitions:{"~":{validator:function(t,a,i,r,n){var s=n.signHandler(t,a.buffer,i,r,n);if(!s&&(s=n.radixHandler(t,a,i,r,n),!s&&(s=r?new RegExp("[0-9"+e.inputmask.escapeRegex.call(this,n.groupSeparator)+"]").test(t):new RegExp("[0-9]").test(t),s===!0&&(s=n.leadingZeroHandler(t,a,i,r,n),s===!0)))){var o=e.inArray(n.radixPoint,a.buffer);n.digitsOptional===!1&&i>o&&!r&&(s={pos:i,remove:i}),s={pos:i}}return s},cardinality:1,prevalidator:null},"+":{validator:function(e,t,a,i,r){var n=r.signHandler(e,t.buffer,a,i,r);return n||(n=r.allowMinus&&"-"==e||r.allowPlus&&"+"==e),n},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(t,a,i,r,n){var s=n.signHandler(t,a.buffer,i,r,n);if(!s){var o="["+e.inputmask.escapeRegex.call(this,n.radixPoint)+"]";s=new RegExp(o).test(t),s&&a.validPositions[i]&&a.validPositions[i].match.placeholder==n.radixPoint&&(s={pos:i,remove:i})}return s},cardinality:1,prevalidator:null,placeholder:function(e){return e.radixPoint}}},insertMode:!0,autoUnmask:!1,onUnMask:function(t,a,i){var r=t.replace(i.prefix,"");return r=r.replace(i.suffix,""),r=r.replace(new RegExp(e.inputmask.escapeRegex.call(this,i.groupSeparator),"g"),"")},isComplete:function(t,a){var i=t.join(""),r=t.slice();if(a.postFormat(r,0,!0,a),r.join("")!=i)return!1;var n=i.replace(a.prefix,"");return n=n.replace(a.suffix,""),n=n.replace(new RegExp(e.inputmask.escapeRegex.call(this,a.groupSeparator),"g"),""),n=n.replace(e.inputmask.escapeRegex.call(this,a.radixPoint),"."),isFinite(n)},onBeforeMask:function(t,a){if(isFinite(t))return t.toString().replace(".",a.radixPoint);var i=t.match(/,/g),r=t.match(/\./g);return r&&i?r.length>i.length?(t=t.replace(/\./g,""),t=t.replace(",",a.radixPoint)):i.length>r.length&&(t=t.replace(/,/g,""),t=t.replace(".",a.radixPoint)):t=t.replace(new RegExp(e.inputmask.escapeRegex.call(this,a.groupSeparator),"g"),""),t}},currency:{prefix:"$ ",groupSeparator:",",radixPoint:".",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1,decimalProtect:!0},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0"}}),e.fn.inputmask}(jQuery),function(e){return e.extend(e.inputmask.defaults.aliases,{phone:{url:"phone-codes/phone-codes.js",maskInit:"+pp(pp)pppppppp",mask:function(t){t.definitions={p:{validator:function(){return!1},cardinality:1},"#":{validator:"[0-9]",cardinality:1}};var a=[];return e.ajax({url:t.url,async:!1,dataType:"json",success:function(e){a=e}}),a=a.sort(function(e,t){return(e.mask||e)<(t.mask||t)?-1:1}),a.splice(0,0,t.maskInit),a},nojumps:!0,nojumpsThreshold:1},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",maskInit:"+32(pp)pppppppp",nojumpsThreshold:4}}),e.fn.inputmask}(jQuery),function(e){return e.extend(e.inputmask.defaults.aliases,{Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(e,t){return new RegExp(t.regex).test(e.join(""))},definitions:{r:{validator:function(t,a,i,r,n){function s(e,t){this.matches=[],this.isGroup=e||!1,this.isQuantifier=t||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function o(){var e,t,a=new s,i=[];for(n.regexTokens=[];e=n.tokenizer.exec(n.regex);)switch(t=e[0],t.charAt(0)){case"(":i.push(new s((!0)));break;case")":var r=i.pop();i.length>0?i[i.length-1].matches.push(r):a.matches.push(r);break;case"{":case"+":case"*":var o=new s((!1),(!0));t=t.replace(/[{}]/g,"");var l=t.split(","),c=isNaN(l[0])?l[0]:parseInt(l[0]),d=1==l.length?c:isNaN(l[1])?l[1]:parseInt(l[1]);if(o.quantifier={min:c,max:d},i.length>0){var p=i[i.length-1].matches;if(e=p.pop(),!e.isGroup){var r=new s((!0));r.matches.push(e),e=r}p.push(e),p.push(o)}else{if(e=a.matches.pop(),!e.isGroup){var r=new s((!0));r.matches.push(e),e=r}a.matches.push(e),a.matches.push(o)}break;default:i.length>0?i[i.length-1].matches.push(t):a.matches.push(t)}a.matches.length>0&&n.regexTokens.push(a)}function l(t,a){var i=!1;a&&(d+="(",h++);for(var r=0;r<t.matches.length;r++){var n=t.matches[r];if(1==n.isGroup)i=l(n,!0);else if(1==n.isQuantifier){var s=e.inArray(n,t.matches),o=t.matches[s-1],c=d;if(isNaN(n.quantifier.max)){for(;n.repeaterPart&&n.repeaterPart!=d&&n.repeaterPart.length>d.length&&!(i=l(o,!0)););i=i||l(o,!0),i&&(n.repeaterPart=d),d=c+n.quantifier.max}else{for(var p=0,f=n.quantifier.max-1;f>p&&!(i=l(o,!0));p++);d=c+"{"+n.quantifier.min+","+n.quantifier.max+"}"}}else if(void 0!=n.matches)for(var g=0;g<n.length&&!(i=l(n[g],a));g++);else{var m;if("["==n.charAt(0)){m=d,m+=n;for(var v=0;h>v;v++)m+=")";var y=new RegExp("^("+m+")$");i=y.test(u)}else for(var k=0,b=n.length;b>k;k++)if("\\"!=n.charAt(k)){m=d,m+=n.substr(0,k+1),m=m.replace(/\|$/,"");for(var v=0;h>v;v++)m+=")";var y=new RegExp("^("+m+")$");if(i=y.test(u))break}d+=n}if(i)break}return a&&(d+=")",h--),i}null==n.regexTokens&&o();var c=a.buffer.slice(),d="",p=!1,h=0;c.splice(i,0,t);for(var u=c.join(""),f=0;f<n.regexTokens.length;f++){var s=n.regexTokens[f];if(p=l(s,s.isGroup))break}return p},cardinality:1}}}}),e.fn.inputmask}(jQuery),jQuery(document).ready(function(e){jQuery(document).on("cf.add",function(){e("[data-inputmask]").inputmask()}),jQuery(document).trigger("cf.add")}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(){var e=document.createElement("input");return e.setAttribute("type","range"),"text"!==e.type}function a(e,t){var a=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return e.apply(null,a)},t)}function i(e,t){return t=t||100,function(){if(!e.debouncing){var a=Array.prototype.slice.apply(arguments);e.lastReturnVal=e.apply(window,a),e.debouncing=!0}return clearTimeout(e.debounceTimeout),e.debounceTimeout=setTimeout(function(){e.debouncing=!1},t),e.lastReturnVal}}function r(t,r){if(this.$window=e(window),this.$document=e(document),this.$element=e(t),this.options=e.extend({},l,r),this._defaults=l,this._name=n,this.startEvent=this.options.startEvent.join("."+n+" ")+"."+n,this.moveEvent=this.options.moveEvent.join("."+n+" ")+"."+n,this.endEvent=this.options.endEvent.join("."+n+" ")+"."+n,this.polyfill=this.options.polyfill,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.polyfill&&o)return!1;this.identifier="js-"+n+"-"+ +new Date,this.min=parseFloat(this.$element[0].getAttribute("min")||0),this.max=parseFloat(this.$element[0].getAttribute("max")||100),this.value=parseFloat(this.$element[0].value||this.min+(this.max-this.min)/2),this.step=parseFloat(this.$element[0].getAttribute("step")||1),this.$fill=e('<div class="'+this.options.fillClass+'" />'),this.$handle=e('<div class="'+this.options.handleClass+'" />'),this.$range=e('<div class="'+this.options.rangeClass+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle),this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this.handleDown=e.proxy(this.handleDown,this),this.handleMove=e.proxy(this.handleMove,this),this.handleEnd=e.proxy(this.handleEnd,this),this.init();var s=this;this.$window.on("resize."+n,i(function(){a(function(){s.update()},300)},20)),this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown),this.$element.on("change."+n,function(e,t){if(!t||t.origin!==n){var a=e.target.value,i=s.getPositionFromValue(a);s.setPosition(i)}})}var n="rangeslider",s=[],o=t(),l={polyfill:!0,rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]};r.prototype.init=function(){this.onInit&&"function"==typeof this.onInit&&this.onInit(),this.update()},r.prototype.update=function(){this.handleWidth=this.$handle[0].offsetWidth,this.rangeWidth=this.$range[0].offsetWidth,this.maxHandleX=this.rangeWidth-this.handleWidth,this.grabX=this.handleWidth/2,this.position=this.getPositionFromValue(this.value),this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass),this.setPosition(this.position)},r.prototype.handleDown=function(e){if(e.preventDefault(),this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),!((" "+e.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass)>-1)){var t=this.getRelativePosition(this.$range[0],e),a=this.getPositionFromNode(this.$handle[0])-this.getPositionFromNode(this.$range[0]);this.setPosition(t-this.grabX),t>=a&&t<a+this.handleWidth&&(this.grabX=t-a)}},r.prototype.handleMove=function(e){e.preventDefault();var t=this.getRelativePosition(this.$range[0],e);this.setPosition(t-this.grabX)},r.prototype.handleEnd=function(e){e.preventDefault(),this.$document.off(this.moveEvent,this.handleMove),this.$document.off(this.endEvent,this.handleEnd);var t=this.getRelativePosition(this.$range[0],e);this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(t-this.grabX,this.value)},r.prototype.cap=function(e,t,a){return e<t?t:e>a?a:e},r.prototype.setPosition=function(e){var t,a;t=this.getValueFromPosition(this.cap(e,0,this.maxHandleX))/this.step*this.step,a=this.getPositionFromValue(t),this.$fill[0].style.width=a+this.grabX+"px",this.$handle[0].style.left=a+"px",this.setValue(t),this.position=a,this.value=t,this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(a,t)},r.prototype.getPositionFromNode=function(e){for(var t=0;null!==e;)t+=e.offsetLeft,e=e.offsetParent;return t},r.prototype.getRelativePosition=function(e,t){return(t.pageX||t.originalEvent.clientX||t.originalEvent.touches[0].clientX||t.currentPoint.x)-this.getPositionFromNode(e)},r.prototype.getPositionFromValue=function(e){var t,a;return t=(e-this.min)/(this.max-this.min),a=t*this.maxHandleX},r.prototype.getValueFromPosition=function(e){var t,a;return t=e/(this.maxHandleX||1),a=this.step*Math.ceil((t*(this.max-this.min)+this.min)/this.step),Number(a.toFixed(2))},r.prototype.setValue=function(e){e!==this.value&&this.$element.val(e).trigger("change",{origin:n})},r.prototype.destroy=function(){this.$document.off(this.startEvent,"#"+this.identifier,this.handleDown),this.$element.off("."+n).removeAttr("style").removeData("plugin_"+n),this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0]),s.splice(s.indexOf(this.$element[0]),1),s.length||this.$window.off("."+n)},e.fn[n]=function(t){return this.each(function(){var a=e(this),i=a.data("plugin_"+n);i||(a.data("plugin_"+n,i=new r(this,t)),s.push(this)),"string"==typeof t&&i[t]()})}}),function(e){"use strict";var t={init:function(a){return this.each(function(){this.self=e(this),t.destroy.call(this.self),this.opt=e.extend(!0,{},e.fn.raty.defaults,a),t._adjustCallback.call(this),t._adjustNumber.call(this),"img"!==this.opt.starType&&t._adjustStarType.call(this),t._adjustPath.call(this),t._createStars.call(this),this.opt.cancel&&t._createCancel.call(this),this.opt.precision&&t._adjustPrecision.call(this),t._createScore.call(this),t._apply.call(this,this.opt.score),t._target.call(this,this.opt.score),this.opt.readOnly?t._lock.call(this):(this.style.cursor="pointer",t._binds.call(this)),this.self.data("options",this.opt)})},_adjustCallback:function(){for(var e=["number","readOnly","score","scoreName"],t=0;t<e.length;t++)"function"==typeof this.opt[e[t]]&&(this.opt[e[t]]=this.opt[e[t]].call(this))},_adjustNumber:function(){this.opt.number=t._between(this.opt.number,1,this.opt.numberMax)},_adjustPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/")},_adjustPrecision:function(){this.opt.half=!0,this.opt.targetType="score"},_adjustStarType:function(){this.opt.path="";for(var e=["cancelOff","cancelOn","starHalf","starOff","starOn"],t=0;t<e.length;t++)this.opt[e[t]]=this.opt[e[t]].replace(".","-")},_apply:function(e){t._fill.call(this,e),e&&(e>0&&this.score.val(t._between(e,0,this.opt.number)),t._roundStars.call(this,e))},_between:function(e,t,a){return Math.min(Math.max(parseFloat(e),t),a)},_binds:function(){this.cancel&&(t._bindOverCancel.call(this),t._bindClickCancel.call(this),t._bindOutCancel.call(this)),t._bindOver.call(this),t._bindClick.call(this),t._bindOut.call(this)},_bindClick:function(){var t=this;t.stars.on("click.raty",function(a){var i=e(this);t.score.val(t.opt.half||t.opt.precision?t.self.data("score"):this.alt||i.data("alt")),t.opt.click&&t.opt.click.call(t,+t.score.val(),a)})},_bindClickCancel:function(){var e=this;e.cancel.on("click.raty",function(t){e.score.removeAttr("value"),e.opt.click&&e.opt.click.call(e,null,t)})},_bindOut:function(){var e=this;e.self.on("mouseleave.raty",function(a){var i=+e.score.val()||void 0;t._apply.call(e,i),t._target.call(e,i,a),e.opt.mouseout&&e.opt.mouseout.call(e,i,a)})},_bindOutCancel:function(){var t=this;t.cancel.on("mouseleave.raty",function(a){var i=e(this),r=t.opt.path+t.opt.cancelOff;if("img"===t.opt.starType)i.attr("src",r);else{var n=t.opt.path+t.opt.cancelOn;i.removeClass(n).addClass(r)}if(t.opt.mouseout){var s=+t.score.val()||void 0;t.opt.mouseout.call(t,s,a)}})},_bindOver:function(){var e=this,a=e.opt.half?"mousemove.raty":"mouseover.raty";e.stars.on(a,function(a){var i=t._getScoreByPosition.call(e,a,this);t._fill.call(e,i),e.opt.half&&(t._roundStars.call(e,i),e.self.data("score",i)),t._target.call(e,i,a),e.opt.mouseover&&e.opt.mouseover.call(e,i,a)})},_bindOverCancel:function(){var a=this;a.cancel.on("mouseover.raty",function(i){var r=a.opt.path+a.opt.cancelOn,n=e(this),s=a.opt.path+a.opt.starOff;if("img"===a.opt.starType)n.attr("src",r),a.stars.attr("src",s);else{a.stars.attr("class",s);var o=a.opt.path+a.opt.cancelOff;n.removeClass(o).addClass(r).css("color",a.opt.starColor)}t._target.call(a,null,i),a.opt.mouseover&&a.opt.mouseover.call(a,null)})},_buildScoreField:function(){return e("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this)},_createCancel:function(){var t=this.opt.path+this.opt.cancelOff,a=e("<"+this.opt.starType+" />",{title:this.opt.cancelHint,"class":"raty-cancel"}).css("marginRight",this.opt.space?this.opt.spaceWidth+"px":"0");"img"===this.opt.starType?a.attr({src:t,alt:"x"}):a.attr("data-alt","x").addClass(t),"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(a):this.self.append("&#160;").append(a),this.cancel=a},_createScore:function(){var a=e(this.opt.targetScore);this.score=a.length?a:t._buildScoreField.call(this)},_createStars:function(){for(var a=1;a<=this.opt.number;a++){var i,r=this.opt.score&&this.opt.score>=a?"starOn":"starOff",n=t._getHint.call(this,a);r=this.opt.path+this.opt[r],i="img"!==this.opt.starType?{"data-alt":a,"class":r}:{src:r,alt:a},i.title=n,e("<"+this.opt.starType+" />",i).css("marginRight",a<this.opt.number&&this.opt.space?this.opt.spaceWidth+"px":"0").appendTo(this),this.opt.space}this.stars=this.self.children(this.opt.starType)},_error:function(t){e(this).text(t),e.error(t)},_fill:function(e){for(var a=0,i=1;i<=this.stars.length;i++){var r,n=this.stars.eq(i-1),s=t._turnOn.call(this,i,e);if(this.opt.iconRange&&this.opt.iconRange.length>a){var o=this.opt.iconRange[a];r=t._getIconRange.call(this,o,s),i<=o.range&&("img"===this.opt.starType?n.attr("src",r):n.attr("class",r)),i===o.range&&a++}else r=this.opt.path+this.opt[s?"starOn":"starOff"],"img"===this.opt.starType?n.attr("src",r):n.attr("class",r),s?n.css("color",this.opt.starColor):n.css("color","")}},_getIconRange:function(e,t){return this.opt.path+(t?e.on||this.opt.starOn:e.off||this.opt.starOff)},_getScoreByPosition:function(a,i){var r=e(i),n=parseInt(i.alt||r.data("alt"),10);if(this.opt.half){var s=t._getSize.call(this),o=parseFloat((a.pageX-r.offset().left)/s);n=this.opt.precision?n-1+o:n-1+(o>.5?1:.5)}return n},_getSize:function(){var e;return e="img"===this.opt.starType?this.stars[0].width:parseFloat(this.stars.eq(0).css("font-size")),e||t._error.call(this,"Could not be possible get the icon size!"),e},_turnOn:function(e,t){return this.opt.single?e===t:e<=t},_getHint:function(e){var t=this.opt.hints[e-1];return""===t?"":t||e},_lock:function(){var e=parseInt(this.score.val(),10),a=e?t._getHint.call(this,e):this.opt.noRatedMsg;this.style.cursor="",this.title=a,this.score.prop("readonly",!0),this.stars.prop("title",a),this.cancel&&this.cancel.hide(),this.self.data("readonly",!0)},_roundStars:function(e){var t=(e%1).toFixed(2);if(t>this.opt.round.down){var a="starOn";this.opt.halfShow&&t<this.opt.round.up?a="starHalf":t<this.opt.round.full&&(a="starOff");var i=this.stars[Math.ceil(e)-1];"img"===this.opt.starType?i.src=this.opt.path+this.opt[a]:i.style.className=this.opt[a]}},_target:function(a,i){if(this.opt.target){var r=e(this.opt.target);r.length||t._error.call(this,"Target selector invalid or missing!");var n=i&&"mouseover"===i.type;if(void 0===a)a=this.opt.targetText;else if(null===a)a=n?this.opt.cancelHint:this.opt.targetText;else{"hint"===this.opt.targetType?a=t._getHint.call(this,Math.ceil(a)):this.opt.precision&&(a=parseFloat(a).toFixed(1));var s=i&&"mousemove"===i.type;n||s||this.opt.targetKeep||(a=this.opt.targetText)}a&&(a=this.opt.targetFormat.toString().replace("{score}",a)),r.is(":input")?r.val(a):r.html(a)}},_unlock:function(){this.style.cursor="pointer",this.removeAttribute("title"),this.score.removeAttr("readonly"),this.self.data("readonly",!1);for(var e=0;e<this.opt.number;e++)this.stars[e].title=t._getHint.call(this,e+1);this.cancel&&this.cancel.css("display","")},cancel:function(a){return this.each(function(){var i=e(this);i.data("readonly")!==!0&&(t[a?"click":"score"].call(i,null),this.score.removeAttr("value"))})},click:function(a){return this.each(function(){e(this).data("readonly")!==!0&&(t._apply.call(this,a),this.opt.click&&this.opt.click.call(this,a,e.Event("click")),t._target.call(this,a))})},destroy:function(){return this.each(function(){var t=e(this),a=t.data("raw");a?t.off(".raty").empty().css({cursor:a.style.cursor}).removeData("readonly"):t.data("raw",t.clone()[0])})},getScore:function(){var e,t=[];return this.each(function(){e=this.score.val(),t.push(e?+e:void 0)}),t.length>1?t:t[0]},move:function(a){return this.each(function(){var i=parseInt(a,10),r=e(this).data("options"),n=(+a).toFixed(1).split(".")[1];i>=r.number&&(i=r.number-1,n=10);var s=t._getSize.call(this),o=s/10,l=e(this.stars[i]),c=l.offset().left+o*parseInt(n,10),d=e.Event("mousemove",{pageX:c});l.trigger(d)})},readOnly:function(a){return this.each(function(){var i=e(this);i.data("readonly")!==a&&(a?(i.off(".raty").children("img").off(".raty"),t._lock.call(this)):(t._binds.call(this),t._unlock.call(this)),i.data("readonly",a))})},reload:function(){return t.set.call(this,{})},score:function(){var a=e(this);return arguments.length?t.setScore.apply(a,arguments):t.getScore.call(a)},set:function(t){return this.each(function(){var a=e(this),i=a.data("options"),r=e.extend({},i,t);a.raty(r)})},setScore:function(a){return this.each(function(){e(this).data("readonly")!==!0&&(t._apply.call(this,a),t._target.call(this,a))})}};e.fn.raty=function(a){return t[a]?t[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void e.error("Method "+a+" does not exist!"):t.init.apply(this,arguments)},e.fn.raty.defaults={cancel:!1,cancelHint:"Cancel this rating!",cancelOff:"raty-cancel-off",cancelOn:"raty-cancel-on",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["1"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:void 0,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,space:!0,spaceWidth:3,starColor:"#ff00aa",starHalf:"star-half.png",starOff:"raty-dot-off",starOn:"raty-dot-on",starType:"img",target:void 0,targetFormat:"{score}",targetKeep:!1,targetScore:void 0,targetText:"",targetType:"hint"}}(jQuery),jQuery(function(e){e("body").on("click",".cf-toggle-group-buttons a",function(){var t=e(this),a=t.closest(".caldera-config-field"),i=a.find('[data-ref="'+t.attr("id")+'"]');a.find(".btn").removeClass(t.data("active")).addClass(t.data("default")),t.addClass(t.data("active")).removeClass(t.data("default")),i.prop("checked",!0).trigger("change")})}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Handlebars=t()}(this,function(){var e=function(){"use strict";function e(e){return l[e]}function t(e){for(var t=1;t<arguments.length;t++)for(var a in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],a)&&(e[a]=arguments[t][a]);return e}function a(e,t){for(var a=0,i=e.length;a<i;a++)if(e[a]===t)return a;return-1}function i(t){return t&&t.toHTML?t.toHTML():null==t?"":t?(t=""+t,d.test(t)?t.replace(c,e):t):t+""}function r(e){return!e&&0!==e||!(!u(e)||0!==e.length)}function n(e,t){return e.path=t,e}function s(e,t){return(e?e+".":"")+t}var o={},l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,d=/[&<>"'`]/;o.extend=t;var p=Object.prototype.toString;o.toString=p;var h=function(e){return"function"==typeof e};h(/x/)&&(h=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)});var h;o.isFunction=h;var u=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===p.call(e)};return o.isArray=u,o.indexOf=a,o.escapeExpression=i,o.isEmpty=r,o.blockParams=n,o.appendContextPath=s,o}(),t=function(){"use strict";function e(e,t){var i,r,n=t&&t.loc;n&&(i=n.start.line,r=n.start.column,e+=" - "+i+":"+r);for(var s=Error.prototype.constructor.call(this,e),o=0;o<a.length;o++)this[a[o]]=s[a[o]];n&&(this.lineNumber=i,this.column=r)}var t,a=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),a=function(e,t){"use strict";function a(e,t){this.helpers=e||{},this.partials=t||{},i(this)}function i(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new s("Missing helper: '"+arguments[arguments.length-1].name+"'")}),e.registerHelper("blockHelperMissing",function(t,a){var i=a.inverse,r=a.fn;if(t===!0)return r(this);if(t===!1||null==t)return i(this);if(d(t))return t.length>0?(a.ids&&(a.ids=[a.name]),e.helpers.each(t,a)):i(this);if(a.data&&a.ids){var s=m(a.data);s.contextPath=n.appendContextPath(a.data.contextPath,a.name),a={data:s}}return r(t,a)}),e.registerHelper("each",function(e,t){function a(t,a,s){i&&(i.key=t,i.index=a,i.first=0===a,i.last=!!s,r&&(i.contextPath=r+t)),h+=o(e[t],{data:i,blockParams:n.blockParams([e[t],t],[r+t,null])})}if(!t)throw new s("Must pass iterator to #each");var i,r,o=t.fn,l=t.inverse,c=0,h="";if(t.data&&t.ids&&(r=n.appendContextPath(t.data.contextPath,t.ids[0])+"."),p(e)&&(e=e.call(this)),t.data&&(i=m(t.data)),e&&"object"==typeof e)if(d(e))for(var u=e.length;c<u;c++)a(c,c,c===e.length-1);else{var f;for(var g in e)e.hasOwnProperty(g)&&(f&&a(f,c-1),f=g,c++);f&&a(f,c-1,!0)}return 0===c&&(h=l(this)),h}),e.registerHelper("if",function(e,t){return p(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||n.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,a){return e.helpers["if"].call(this,t,{fn:a.inverse,inverse:a.fn,hash:a.hash})}),e.registerHelper("with",function(e,t){p(e)&&(e=e.call(this));var a=t.fn;if(n.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var i=m(t.data);i.contextPath=n.appendContextPath(t.data.contextPath,t.ids[0]),t={data:i}}return a(e,t)}),e.registerHelper("log",function(t,a){var i=a.data&&null!=a.data.level?parseInt(a.data.level,10):1;e.log(i,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}var r={},n=e,s=t,o="3.0.0";r.VERSION=o;var l=6;r.COMPILER_REVISION=l;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};r.REVISION_CHANGES=c;var d=n.isArray,p=n.isFunction,h=n.toString,u="[object Object]";r.HandlebarsEnvironment=a,a.prototype={constructor:a,logger:f,log:g,registerHelper:function(e,t){if(h.call(e)===u){if(t)throw new s("Arg not supported with multiple helpers");n.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(h.call(e)===u)n.extend(this.partials,e);else{if("undefined"==typeof t)throw new s("Attempting to register a partial as undefined");this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]}};var f={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(e,t){if("undefined"!=typeof console&&f.level<=e){var a=f.methodMap[e];(console[a]||console.log).call(console,t)}}};r.logger=f;var g=f.log;r.log=g;var m=function(e){var t=n.extend({},e);return t._parent=e,t};return r.createFrame=m,r}(e,t),i=function(){"use strict";function e(e){this.string=e}var t;return e.prototype.toString=e.prototype.toHTML=function(){return""+this.string},t=e}(),r=function(e,t,a){"use strict";function i(e){var t=e&&e[0]||1,a=u;if(t!==a){if(t<a){var i=f[a],r=f[t];throw new h("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new h("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){if(!t)throw new h("No environment passed to template");if(!e||!e.main)throw new h("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var a=function(a,i,r){r.hash&&(i=p.extend({},i,r.hash)),a=t.VM.resolvePartial.call(this,a,i,r);var n=t.VM.invokePartial.call(this,a,i,r);if(null==n&&t.compile&&(r.partials[r.name]=t.compile(a,e.compilerOptions,t),n=r.partials[r.name](i,r)),null!=n){if(r.indent){for(var s=n.split("\n"),o=0,l=s.length;o<l&&(s[o]||o+1!==l);o++)s[o]=r.indent+s[o];n=s.join("\n")}return n}throw new h("The partial "+r.name+" could not be compiled when running in runtime-only mode")},i={strict:function(e,t){if(!(t in e))throw new h('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var a=e.length,i=0;i<a;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:p.escapeExpression,invokePartial:a,fn:function(t){return e[t]},programs:[],program:function(e,t,a,i,r){var s=this.programs[e],o=this.fn(e);return t||r||i||a?s=n(this,e,o,t,a,i,r):s||(s=this.programs[e]=n(this,e,o)),s},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var a=e||t;return e&&t&&e!==t&&(a=p.extend({},t,e)),a},noop:t.VM.noop,compilerInfo:e.compiler},r=function(t,a){a=a||{};var n=a.data;r._setup(a),!a.partial&&e.useData&&(n=c(t,n));var s,o=e.useBlockParams?[]:void 0;return e.useDepths&&(s=a.depths?[t].concat(a.depths):[t]),e.main.call(i,t,i.helpers,i.partials,n,o,s)};return r.isTop=!0,r._setup=function(a){a.partial?(i.helpers=a.helpers,i.partials=a.partials):(i.helpers=i.merge(a.helpers,t.helpers),e.usePartial&&(i.partials=i.merge(a.partials,t.partials)))},r._child=function(t,a,r,s){if(e.useBlockParams&&!r)throw new h("must pass block params");if(e.useDepths&&!s)throw new h("must pass parent depths");return n(i,t,e[t],a,0,r,s)},r}function n(e,t,a,i,r,n,s){var o=function(t,r){return r=r||{},a.call(e,t,e.helpers,e.partials,r.data||i,n&&[r.blockParams].concat(n),s&&[t].concat(s))};return o.program=t,o.depth=s?s.length:0,o.blockParams=r||0,o}function s(e,t,a){return e?e.call||a.name||(a.name=e,e=a.partials[e]):e=a.partials[a.name],e}function o(e,t,a){if(a.partial=!0,void 0===e)throw new h("The partial "+a.name+" could not be found");if(e instanceof Function)return e(t,a)}function l(){return""}function c(e,t){return t&&"root"in t||(t=t?g(t):{},t.root=e),t}var d={},p=e,h=t,u=a.COMPILER_REVISION,f=a.REVISION_CHANGES,g=a.createFrame;return d.checkRevision=i,d.template=r,d.program=n,d.resolvePartial=s,d.invokePartial=o,d.noop=l,d}(e,t,a),n=function(e,t,a,i,r){"use strict";var n,s=e,o=t,l=a,c=i,d=r,p=function(){var e=new s.HandlebarsEnvironment;return c.extend(e,s),e.SafeString=o,e.Exception=l,e.Utils=c,e.escapeExpression=c.escapeExpression,e.VM=d,e.template=function(t){return d.template(t,e)},e},h=p();h.create=p;var u="undefined"!=typeof global?global:window,f=u.Handlebars;return h.noConflict=function(){u.Handlebars===h&&(u.Handlebars=f)},h["default"]=h,n=h}(a,i,t,e,r),s=function(){"use strict";var e,t={Program:function(e,t,a,i){this.loc=i,this.type="Program",this.body=e,this.blockParams=t,this.strip=a},MustacheStatement:function(e,t,a,i,r,n){this.loc=n,this.type="MustacheStatement",this.path=e,this.params=t||[],this.hash=a,this.escaped=i,this.strip=r},BlockStatement:function(e,t,a,i,r,n,s,o,l){this.loc=l,this.type="BlockStatement",this.path=e,this.params=t||[],this.hash=a,this.program=i,this.inverse=r,this.openStrip=n,this.inverseStrip=s,this.closeStrip=o},PartialStatement:function(e,t,a,i,r){this.loc=r,this.type="PartialStatement",this.name=e,this.params=t||[],this.hash=a,this.indent="",this.strip=i},ContentStatement:function(e,t){this.loc=t,this.type="ContentStatement",this.original=this.value=e},CommentStatement:function(e,t,a){this.loc=a,this.type="CommentStatement",
this.value=e,this.strip=t},SubExpression:function(e,t,a,i){this.loc=i,this.type="SubExpression",this.path=e,this.params=t||[],this.hash=a},PathExpression:function(e,t,a,i,r){this.loc=r,this.type="PathExpression",this.data=e,this.original=i,this.parts=a,this.depth=t},StringLiteral:function(e,t){this.loc=t,this.type="StringLiteral",this.original=this.value=e},NumberLiteral:function(e,t){this.loc=t,this.type="NumberLiteral",this.original=this.value=Number(e)},BooleanLiteral:function(e,t){this.loc=t,this.type="BooleanLiteral",this.original=this.value="true"===e},Hash:function(e,t){this.loc=t,this.type="Hash",this.pairs=e},HashPair:function(e,t,a){this.loc=a,this.type="HashPair",this.key=e,this.value=t},helpers:{helperExpression:function(e){return!("SubExpression"!==e.type&&!e.params.length&&!e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!t.helpers.scopedId(e)&&!e.depth}}};return e=t}(),o=function(){"use strict";var e,t=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,content:12,COMMENT:13,CONTENT:14,openRawBlock:15,END_RAW_BLOCK:16,OPEN_RAW_BLOCK:17,helperName:18,openRawBlock_repetition0:19,openRawBlock_option0:20,CLOSE_RAW_BLOCK:21,openBlock:22,block_option0:23,closeBlock:24,openInverse:25,block_option1:26,OPEN_BLOCK:27,openBlock_repetition0:28,openBlock_option0:29,openBlock_option1:30,CLOSE:31,OPEN_INVERSE:32,openInverse_repetition0:33,openInverse_option0:34,openInverse_option1:35,openInverseChain:36,OPEN_INVERSE_CHAIN:37,openInverseChain_repetition0:38,openInverseChain_option0:39,openInverseChain_option1:40,inverseAndProgram:41,INVERSE:42,inverseChain:43,inverseChain_option0:44,OPEN_ENDBLOCK:45,OPEN:46,mustache_repetition0:47,mustache_option0:48,OPEN_UNESCAPED:49,mustache_repetition1:50,mustache_option1:51,CLOSE_UNESCAPED:52,OPEN_PARTIAL:53,partialName:54,partial_repetition0:55,partial_option0:56,param:57,sexpr:58,OPEN_SEXPR:59,sexpr_repetition0:60,sexpr_option0:61,CLOSE_SEXPR:62,hash:63,hash_repetition_plus0:64,hashSegment:65,ID:66,EQUALS:67,blockParams:68,OPEN_BLOCK_PARAMS:69,blockParams_repetition_plus0:70,CLOSE_BLOCK_PARAMS:71,path:72,dataName:73,STRING:74,NUMBER:75,BOOLEAN:76,DATA:77,pathSegments:78,SEP:79,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",13:"COMMENT",14:"CONTENT",16:"END_RAW_BLOCK",17:"OPEN_RAW_BLOCK",21:"CLOSE_RAW_BLOCK",27:"OPEN_BLOCK",31:"CLOSE",32:"OPEN_INVERSE",37:"OPEN_INVERSE_CHAIN",42:"INVERSE",45:"OPEN_ENDBLOCK",46:"OPEN",49:"OPEN_UNESCAPED",52:"CLOSE_UNESCAPED",53:"OPEN_PARTIAL",59:"OPEN_SEXPR",62:"CLOSE_SEXPR",66:"ID",67:"EQUALS",69:"OPEN_BLOCK_PARAMS",71:"CLOSE_BLOCK_PARAMS",74:"STRING",75:"NUMBER",76:"BOOLEAN",77:"DATA",79:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[12,1],[10,3],[15,5],[9,4],[9,4],[22,6],[25,6],[36,6],[41,2],[43,3],[43,1],[24,3],[8,5],[8,5],[11,5],[57,1],[57,1],[58,5],[63,1],[65,3],[68,3],[18,1],[18,1],[18,1],[18,1],[18,1],[54,1],[54,1],[73,2],[72,1],[78,3],[78,1],[6,0],[6,2],[19,0],[19,2],[20,0],[20,1],[23,0],[23,1],[26,0],[26,1],[28,0],[28,2],[29,0],[29,1],[30,0],[30,1],[33,0],[33,2],[34,0],[34,1],[35,0],[35,1],[38,0],[38,2],[39,0],[39,1],[40,0],[40,1],[44,0],[44,1],[47,0],[47,2],[48,0],[48,1],[50,0],[50,2],[51,0],[51,1],[55,0],[55,2],[56,0],[56,1],[60,0],[60,2],[61,0],[61,1],[64,1],[64,2],[70,1],[70,2]],performAction:function(e,t,a,i,r,n,s){var o=n.length-1;switch(r){case 1:return n[o-1];case 2:this.$=new i.Program(n[o],null,{},i.locInfo(this._$));break;case 3:this.$=n[o];break;case 4:this.$=n[o];break;case 5:this.$=n[o];break;case 6:this.$=n[o];break;case 7:this.$=n[o];break;case 8:this.$=new i.CommentStatement(i.stripComment(n[o]),i.stripFlags(n[o],n[o]),i.locInfo(this._$));break;case 9:this.$=new i.ContentStatement(n[o],i.locInfo(this._$));break;case 10:this.$=i.prepareRawBlock(n[o-2],n[o-1],n[o],this._$);break;case 11:this.$={path:n[o-3],params:n[o-2],hash:n[o-1]};break;case 12:this.$=i.prepareBlock(n[o-3],n[o-2],n[o-1],n[o],!1,this._$);break;case 13:this.$=i.prepareBlock(n[o-3],n[o-2],n[o-1],n[o],!0,this._$);break;case 14:this.$={path:n[o-4],params:n[o-3],hash:n[o-2],blockParams:n[o-1],strip:i.stripFlags(n[o-5],n[o])};break;case 15:this.$={path:n[o-4],params:n[o-3],hash:n[o-2],blockParams:n[o-1],strip:i.stripFlags(n[o-5],n[o])};break;case 16:this.$={path:n[o-4],params:n[o-3],hash:n[o-2],blockParams:n[o-1],strip:i.stripFlags(n[o-5],n[o])};break;case 17:this.$={strip:i.stripFlags(n[o-1],n[o-1]),program:n[o]};break;case 18:var l=i.prepareBlock(n[o-2],n[o-1],n[o],n[o],!1,this._$),c=new i.Program([l],null,{},i.locInfo(this._$));c.chained=!0,this.$={strip:n[o-2].strip,program:c,chain:!0};break;case 19:this.$=n[o];break;case 20:this.$={path:n[o-1],strip:i.stripFlags(n[o-2],n[o])};break;case 21:this.$=i.prepareMustache(n[o-3],n[o-2],n[o-1],n[o-4],i.stripFlags(n[o-4],n[o]),this._$);break;case 22:this.$=i.prepareMustache(n[o-3],n[o-2],n[o-1],n[o-4],i.stripFlags(n[o-4],n[o]),this._$);break;case 23:this.$=new i.PartialStatement(n[o-3],n[o-2],n[o-1],i.stripFlags(n[o-4],n[o]),i.locInfo(this._$));break;case 24:this.$=n[o];break;case 25:this.$=n[o];break;case 26:this.$=new i.SubExpression(n[o-3],n[o-2],n[o-1],i.locInfo(this._$));break;case 27:this.$=new i.Hash(n[o],i.locInfo(this._$));break;case 28:this.$=new i.HashPair(n[o-2],n[o],i.locInfo(this._$));break;case 29:this.$=n[o-1];break;case 30:this.$=n[o];break;case 31:this.$=n[o];break;case 32:this.$=new i.StringLiteral(n[o],i.locInfo(this._$));break;case 33:this.$=new i.NumberLiteral(n[o],i.locInfo(this._$));break;case 34:this.$=new i.BooleanLiteral(n[o],i.locInfo(this._$));break;case 35:this.$=n[o];break;case 36:this.$=n[o];break;case 37:this.$=i.preparePath(!0,n[o],this._$);break;case 38:this.$=i.preparePath(!1,n[o],this._$);break;case 39:n[o-2].push({part:n[o],separator:n[o-1]}),this.$=n[o-2];break;case 40:this.$=[{part:n[o]}];break;case 41:this.$=[];break;case 42:n[o-1].push(n[o]);break;case 43:this.$=[];break;case 44:n[o-1].push(n[o]);break;case 51:this.$=[];break;case 52:n[o-1].push(n[o]);break;case 57:this.$=[];break;case 58:n[o-1].push(n[o]);break;case 63:this.$=[];break;case 64:n[o-1].push(n[o]);break;case 71:this.$=[];break;case 72:n[o-1].push(n[o]);break;case 75:this.$=[];break;case 76:n[o-1].push(n[o]);break;case 79:this.$=[];break;case 80:n[o-1].push(n[o]);break;case 83:this.$=[];break;case 84:n[o-1].push(n[o]);break;case 87:this.$=[n[o]];break;case 88:n[o-1].push(n[o]);break;case 89:this.$=[n[o]];break;case 90:n[o-1].push(n[o])}},table:[{3:1,4:2,5:[2,41],6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],46:[2,41],49:[2,41],53:[2,41]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:[1,11],14:[1,18],15:16,17:[1,21],22:14,25:15,27:[1,19],32:[1,20],37:[2,2],42:[2,2],45:[2,2],46:[1,12],49:[1,13],53:[1,17]},{1:[2,1]},{5:[2,42],13:[2,42],14:[2,42],17:[2,42],27:[2,42],32:[2,42],37:[2,42],42:[2,42],45:[2,42],46:[2,42],49:[2,42],53:[2,42]},{5:[2,3],13:[2,3],14:[2,3],17:[2,3],27:[2,3],32:[2,3],37:[2,3],42:[2,3],45:[2,3],46:[2,3],49:[2,3],53:[2,3]},{5:[2,4],13:[2,4],14:[2,4],17:[2,4],27:[2,4],32:[2,4],37:[2,4],42:[2,4],45:[2,4],46:[2,4],49:[2,4],53:[2,4]},{5:[2,5],13:[2,5],14:[2,5],17:[2,5],27:[2,5],32:[2,5],37:[2,5],42:[2,5],45:[2,5],46:[2,5],49:[2,5],53:[2,5]},{5:[2,6],13:[2,6],14:[2,6],17:[2,6],27:[2,6],32:[2,6],37:[2,6],42:[2,6],45:[2,6],46:[2,6],49:[2,6],53:[2,6]},{5:[2,7],13:[2,7],14:[2,7],17:[2,7],27:[2,7],32:[2,7],37:[2,7],42:[2,7],45:[2,7],46:[2,7],49:[2,7],53:[2,7]},{5:[2,8],13:[2,8],14:[2,8],17:[2,8],27:[2,8],32:[2,8],37:[2,8],42:[2,8],45:[2,8],46:[2,8],49:[2,8],53:[2,8]},{18:22,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:31,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{4:32,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],37:[2,41],42:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{4:33,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],42:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{12:34,14:[1,18]},{18:36,54:35,58:37,59:[1,38],66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{5:[2,9],13:[2,9],14:[2,9],16:[2,9],17:[2,9],27:[2,9],32:[2,9],37:[2,9],42:[2,9],45:[2,9],46:[2,9],49:[2,9],53:[2,9]},{18:39,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:40,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:41,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{31:[2,71],47:42,59:[2,71],66:[2,71],74:[2,71],75:[2,71],76:[2,71],77:[2,71]},{21:[2,30],31:[2,30],52:[2,30],59:[2,30],62:[2,30],66:[2,30],69:[2,30],74:[2,30],75:[2,30],76:[2,30],77:[2,30]},{21:[2,31],31:[2,31],52:[2,31],59:[2,31],62:[2,31],66:[2,31],69:[2,31],74:[2,31],75:[2,31],76:[2,31],77:[2,31]},{21:[2,32],31:[2,32],52:[2,32],59:[2,32],62:[2,32],66:[2,32],69:[2,32],74:[2,32],75:[2,32],76:[2,32],77:[2,32]},{21:[2,33],31:[2,33],52:[2,33],59:[2,33],62:[2,33],66:[2,33],69:[2,33],74:[2,33],75:[2,33],76:[2,33],77:[2,33]},{21:[2,34],31:[2,34],52:[2,34],59:[2,34],62:[2,34],66:[2,34],69:[2,34],74:[2,34],75:[2,34],76:[2,34],77:[2,34]},{21:[2,38],31:[2,38],52:[2,38],59:[2,38],62:[2,38],66:[2,38],69:[2,38],74:[2,38],75:[2,38],76:[2,38],77:[2,38],79:[1,43]},{66:[1,30],78:44},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],79:[2,40]},{50:45,52:[2,75],59:[2,75],66:[2,75],74:[2,75],75:[2,75],76:[2,75],77:[2,75]},{23:46,36:48,37:[1,50],41:49,42:[1,51],43:47,45:[2,47]},{26:52,41:53,42:[1,51],45:[2,49]},{16:[1,54]},{31:[2,79],55:55,59:[2,79],66:[2,79],74:[2,79],75:[2,79],76:[2,79],77:[2,79]},{31:[2,35],59:[2,35],66:[2,35],74:[2,35],75:[2,35],76:[2,35],77:[2,35]},{31:[2,36],59:[2,36],66:[2,36],74:[2,36],75:[2,36],76:[2,36],77:[2,36]},{18:56,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{28:57,31:[2,51],59:[2,51],66:[2,51],69:[2,51],74:[2,51],75:[2,51],76:[2,51],77:[2,51]},{31:[2,57],33:58,59:[2,57],66:[2,57],69:[2,57],74:[2,57],75:[2,57],76:[2,57],77:[2,57]},{19:59,21:[2,43],59:[2,43],66:[2,43],74:[2,43],75:[2,43],76:[2,43],77:[2,43]},{18:63,31:[2,73],48:60,57:61,58:64,59:[1,38],63:62,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{66:[1,68]},{21:[2,37],31:[2,37],52:[2,37],59:[2,37],62:[2,37],66:[2,37],69:[2,37],74:[2,37],75:[2,37],76:[2,37],77:[2,37],79:[1,43]},{18:63,51:69,52:[2,77],57:70,58:64,59:[1,38],63:71,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{24:72,45:[1,73]},{45:[2,48]},{4:74,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],37:[2,41],42:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{45:[2,19]},{18:75,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{4:76,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{24:77,45:[1,73]},{45:[2,50]},{5:[2,10],13:[2,10],14:[2,10],17:[2,10],27:[2,10],32:[2,10],37:[2,10],42:[2,10],45:[2,10],46:[2,10],49:[2,10],53:[2,10]},{18:63,31:[2,81],56:78,57:79,58:64,59:[1,38],63:80,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{59:[2,83],60:81,62:[2,83],66:[2,83],74:[2,83],75:[2,83],76:[2,83],77:[2,83]},{18:63,29:82,31:[2,53],57:83,58:64,59:[1,38],63:84,64:65,65:66,66:[1,67],69:[2,53],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:63,31:[2,59],34:85,57:86,58:64,59:[1,38],63:87,64:65,65:66,66:[1,67],69:[2,59],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:63,20:88,21:[2,45],57:89,58:64,59:[1,38],63:90,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{31:[1,91]},{31:[2,72],59:[2,72],66:[2,72],74:[2,72],75:[2,72],76:[2,72],77:[2,72]},{31:[2,74]},{21:[2,24],31:[2,24],52:[2,24],59:[2,24],62:[2,24],66:[2,24],69:[2,24],74:[2,24],75:[2,24],76:[2,24],77:[2,24]},{21:[2,25],31:[2,25],52:[2,25],59:[2,25],62:[2,25],66:[2,25],69:[2,25],74:[2,25],75:[2,25],76:[2,25],77:[2,25]},{21:[2,27],31:[2,27],52:[2,27],62:[2,27],65:92,66:[1,93],69:[2,27]},{21:[2,87],31:[2,87],52:[2,87],62:[2,87],66:[2,87],69:[2,87]},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],67:[1,94],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],79:[2,40]},{21:[2,39],31:[2,39],52:[2,39],59:[2,39],62:[2,39],66:[2,39],69:[2,39],74:[2,39],75:[2,39],76:[2,39],77:[2,39],79:[2,39]},{52:[1,95]},{52:[2,76],59:[2,76],66:[2,76],74:[2,76],75:[2,76],76:[2,76],77:[2,76]},{52:[2,78]},{5:[2,12],13:[2,12],14:[2,12],17:[2,12],27:[2,12],32:[2,12],37:[2,12],42:[2,12],45:[2,12],46:[2,12],49:[2,12],53:[2,12]},{18:96,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{36:48,37:[1,50],41:49,42:[1,51],43:98,44:97,45:[2,69]},{31:[2,63],38:99,59:[2,63],66:[2,63],69:[2,63],74:[2,63],75:[2,63],76:[2,63],77:[2,63]},{45:[2,17]},{5:[2,13],13:[2,13],14:[2,13],17:[2,13],27:[2,13],32:[2,13],37:[2,13],42:[2,13],45:[2,13],46:[2,13],49:[2,13],53:[2,13]},{31:[1,100]},{31:[2,80],59:[2,80],66:[2,80],74:[2,80],75:[2,80],76:[2,80],77:[2,80]},{31:[2,82]},{18:63,57:102,58:64,59:[1,38],61:101,62:[2,85],63:103,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{30:104,31:[2,55],68:105,69:[1,106]},{31:[2,52],59:[2,52],66:[2,52],69:[2,52],74:[2,52],75:[2,52],76:[2,52],77:[2,52]},{31:[2,54],69:[2,54]},{31:[2,61],35:107,68:108,69:[1,106]},{31:[2,58],59:[2,58],66:[2,58],69:[2,58],74:[2,58],75:[2,58],76:[2,58],77:[2,58]},{31:[2,60],69:[2,60]},{21:[1,109]},{21:[2,44],59:[2,44],66:[2,44],74:[2,44],75:[2,44],76:[2,44],77:[2,44]},{21:[2,46]},{5:[2,21],13:[2,21],14:[2,21],17:[2,21],27:[2,21],32:[2,21],37:[2,21],42:[2,21],45:[2,21],46:[2,21],49:[2,21],53:[2,21]},{21:[2,88],31:[2,88],52:[2,88],62:[2,88],66:[2,88],69:[2,88]},{67:[1,94]},{18:63,57:110,58:64,59:[1,38],66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{5:[2,22],13:[2,22],14:[2,22],17:[2,22],27:[2,22],32:[2,22],37:[2,22],42:[2,22],45:[2,22],46:[2,22],49:[2,22],53:[2,22]},{31:[1,111]},{45:[2,18]},{45:[2,70]},{18:63,31:[2,65],39:112,57:113,58:64,59:[1,38],63:114,64:65,65:66,66:[1,67],69:[2,65],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{5:[2,23],13:[2,23],14:[2,23],17:[2,23],27:[2,23],32:[2,23],37:[2,23],42:[2,23],45:[2,23],46:[2,23],49:[2,23],53:[2,23]},{62:[1,115]},{59:[2,84],62:[2,84],66:[2,84],74:[2,84],75:[2,84],76:[2,84],77:[2,84]},{62:[2,86]},{31:[1,116]},{31:[2,56]},{66:[1,118],70:117},{31:[1,119]},{31:[2,62]},{14:[2,11]},{21:[2,28],31:[2,28],52:[2,28],62:[2,28],66:[2,28],69:[2,28]},{5:[2,20],13:[2,20],14:[2,20],17:[2,20],27:[2,20],32:[2,20],37:[2,20],42:[2,20],45:[2,20],46:[2,20],49:[2,20],53:[2,20]},{31:[2,67],40:120,68:121,69:[1,106]},{31:[2,64],59:[2,64],66:[2,64],69:[2,64],74:[2,64],75:[2,64],76:[2,64],77:[2,64]},{31:[2,66],69:[2,66]},{21:[2,26],31:[2,26],52:[2,26],59:[2,26],62:[2,26],66:[2,26],69:[2,26],74:[2,26],75:[2,26],76:[2,26],77:[2,26]},{13:[2,14],14:[2,14],17:[2,14],27:[2,14],32:[2,14],37:[2,14],42:[2,14],45:[2,14],46:[2,14],49:[2,14],53:[2,14]},{66:[1,123],71:[1,122]},{66:[2,89],71:[2,89]},{13:[2,15],14:[2,15],17:[2,15],27:[2,15],32:[2,15],42:[2,15],45:[2,15],46:[2,15],49:[2,15],53:[2,15]},{31:[1,124]},{31:[2,68]},{31:[2,29]},{66:[2,90],71:[2,90]},{13:[2,16],14:[2,16],17:[2,16],27:[2,16],32:[2,16],37:[2,16],42:[2,16],45:[2,16],46:[2,16],49:[2,16],53:[2,16]}],defaultActions:{4:[2,1],47:[2,48],49:[2,19],53:[2,50],62:[2,74],71:[2,78],76:[2,17],80:[2,82],90:[2,46],97:[2,18],98:[2,70],103:[2,86],105:[2,56],108:[2,62],109:[2,11],121:[2,68],122:[2,29]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return e=a.lexer.lex()||1,"number"!=typeof e&&(e=a.symbols_[e]||e),e}var a=this,i=[0],r=[null],n=[],s=this.table,o="",l=0,c=0,d=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;n.push(p);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var u,f,g,m,v,y,k,b,_,w={};;){if(g=i[i.length-1],this.defaultActions[g]?m=this.defaultActions[g]:(null!==u&&"undefined"!=typeof u||(u=t()),m=s[g]&&s[g][u]),"undefined"==typeof m||!m.length||!m[0]){var x="";if(!d){_=[];for(y in s[g])this.terminals_[y]&&y>2&&_.push("'"+this.terminals_[y]+"'");x=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[u]||u)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[u]||u,line:this.lexer.yylineno,loc:p,expected:_})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+u);switch(m[0]){case 1:i.push(u),r.push(this.lexer.yytext),n.push(this.lexer.yylloc),i.push(m[1]),u=null,f?(u=f,f=null):(c=this.lexer.yyleng,o=this.lexer.yytext,l=this.lexer.yylineno,p=this.lexer.yylloc,d>0&&d--);break;case 2:if(k=this.productions_[m[1]][1],w.$=r[r.length-k],w._$={first_line:n[n.length-(k||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(k||1)].first_column,last_column:n[n.length-1].last_column},h&&(w._$.range=[n[n.length-(k||1)].range[0],n[n.length-1].range[1]]),v=this.performAction.call(w,o,c,l,this.yy,m[1],r,n),"undefined"!=typeof v)return v;k&&(i=i.slice(0,-1*k*2),r=r.slice(0,-1*k),n=n.slice(0,-1*k)),i.push(this.productions_[m[1]][0]),r.push(w.$),n.push(w._$),b=s[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},a=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,a=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),a.length-1&&(this.yylineno-=a.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:a?(a.length===i.length?this.yylloc.first_column:0)+i[i.length-a.length].length-a[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,a,i,r;this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),s=0;s<n.length&&(a=this._input.match(this.rules[n[s]]),!a||t&&!(a[0].length>t[0].length)||(t=a,i=s,this.options.flex));s++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,n[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,a,i){function r(e,a){return t.yytext=t.yytext.substr(e,t.yyleng-a)}switch(a){case 0:if("\\\\"===t.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return t.yytext=t.yytext.substr(5,t.yyleng-9),this.popState(),16;case 4:return 14;case 5:return this.popState(),13;case 6:return 59;case 7:return 62;case 8:return 17;case 9:return this.popState(),this.begin("raw"),21;case 10:return 53;case 11:return 27;case 12:return 45;case 13:return this.popState(),42;case 14:return this.popState(),42;case 15:return 32;case 16:return 37;case 17:return 49;case 18:return 46;case 19:this.unput(t.yytext),this.popState(),this.begin("com");break;case 20:return this.popState(),13;case 21:return 46;case 22:return 67;case 23:return 66;case 24:return 66;case 25:return 79;case 26:break;case 27:return this.popState(),52;case 28:return this.popState(),31;case 29:return t.yytext=r(1,2).replace(/\\"/g,'"'),74;case 30:return t.yytext=r(1,2).replace(/\\'/g,"'"),74;case 31:return 77;case 32:return 76;case 33:return 76;case 34:return 75;case 35:return 69;case 36:return 71;case 37:return 66;case 38:return t.yytext=r(1,2),66;case 39:return"INVALID";case 40:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,40],inclusive:!0}},e}();return t.lexer=a,e.prototype=t,t.Parser=e,new e}();return e=t}(),l=function(e,t){"use strict";function a(){this.parents=[]}var i,r=e,n=t;return a.prototype={constructor:a,mutating:!1,acceptKey:function(e,t){var a=this.accept(e[t]);if(this.mutating){if(a&&(!a.type||!n[a.type]))throw new r('Unexpected node type "'+a.type+'" found when accepting '+t+" on "+e.type);e[t]=a}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new r(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,a=e.length;t<a;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,a--)},accept:function(e){if(e){this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:t!==!1?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:function(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")},BlockStatement:function(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash"),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")},PartialStatement:function(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:function(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")},PartialExpression:function(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")},PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},i=a}(t,s),c=function(e){"use strict";function t(){}function a(e,t,a){void 0===t&&(t=e.length);var i=e[t-1],r=e[t-2];return i?"ContentStatement"===i.type?(r||!a?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:a}function i(e,t,a){void 0===t&&(t=-1);var i=e[t+1],r=e[t+2];return i?"ContentStatement"===i.type?(r||!a?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:a}function r(e,t,a){var i=e[null==t?0:t+1];if(i&&"ContentStatement"===i.type&&(a||!i.rightStripped)){var r=i.value;i.value=i.value.replace(a?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function n(e,t,a){var i=e[null==t?e.length-1:t-1];if(i&&"ContentStatement"===i.type&&(a||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(a?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var s,o=e;return t.prototype=new o,t.prototype.Program=function(e){var t=!this.isRootSeen;this.isRootSeen=!0;for(var s=e.body,o=0,l=s.length;o<l;o++){var c=s[o],d=this.accept(c);if(d){var p=a(s,o,t),h=i(s,o,t),u=d.openStandalone&&p,f=d.closeStandalone&&h,g=d.inlineStandalone&&p&&h;d.close&&r(s,o,!0),d.open&&n(s,o,!0),g&&(r(s,o),n(s,o)&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(s[o-1].original)[1])),u&&(r((c.program||c.inverse).body),n(s,o)),f&&(r(s,o),n((c.inverse||c.program).body))}}return e},t.prototype.BlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,s=e.program&&e.inverse,o=s,l=s;if(s&&s.chained)for(o=s.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var c={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:i(t.body),closeStandalone:a((o||t).body)};if(e.openStrip.close&&r(t.body,null,!0),s){var d=e.inverseStrip;d.open&&n(t.body,null,!0),d.close&&r(o.body,null,!0),e.closeStrip.open&&n(l.body,null,!0),a(t.body)&&i(o.body)&&(n(t.body),r(o.body))}else e.closeStrip.open&&n(t.body,null,!0);return c},t.prototype.MustacheStatement=function(e){return e.strip},t.prototype.PartialStatement=t.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},s=t}(l),d=function(e){"use strict";function t(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function a(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function i(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function r(e,t,a){a=this.locInfo(a);for(var i=e?"@":"",r=[],n=0,s="",o=0,l=t.length;o<l;o++){var d=t[o].part;if(i+=(t[o].separator||"")+d,".."===d||"."===d||"this"===d){if(r.length>0)throw new c("Invalid path: "+i,{loc:a});".."===d&&(n++,s+="../")}else r.push(d)}return new this.PathExpression(e,n,r,i,a)}function n(e,t,a,i,r,n){var s=i.charAt(3)||i.charAt(2),o="{"!==s&&"&"!==s;return new this.MustacheStatement(e,t,a,o,r,this.locInfo(n))}function s(e,t,a,i){if(e.path.original!==a){var r={loc:e.path.loc};throw new c(e.path.original+" doesn't match "+a,r)}i=this.locInfo(i);var n=new this.Program([t],null,{},i);return new this.BlockStatement(e.path,e.params,e.hash,n,(void 0),{},{},{},i)}function o(e,t,a,i,r,n){if(i&&i.path&&e.path.original!==i.path.original){var s={loc:e.path.loc};throw new c(e.path.original+" doesn't match "+i.path.original,s)}t.blockParams=e.blockParams;var o,l;return a&&(a.chain&&(a.program.body[0].closeStrip=i.strip),l=a.strip,o=a.program),r&&(r=o,o=t,t=r),new this.BlockStatement(e.path,e.params,e.hash,t,o,e.strip,l,i&&i.strip,this.locInfo(n))}var l={},c=e;return l.SourceLocation=t,l.stripFlags=a,l.stripComment=i,l.preparePath=r,l.prepareMustache=n,l.prepareRawBlock=s,l.prepareBlock=o,l}(t),p=function(e,t,a,i,r){"use strict";function n(e,t){if("Program"===e.type)return e;o.yy=h,h.locInfo=function(e){return new h.SourceLocation(t&&t.srcName,e)};var a=new c;return a.accept(o.parse(e))}var s={},o=e,l=t,c=a,d=i,p=r.extend;s.parser=o;var h={};return p(h,d,l),s.parse=n,s}(o,s,c,d,e),h=function(e,t,a){"use strict";function i(){}function r(e,t,a){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new c("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var i=a.parse(e,t),r=(new a.Compiler).compile(i,t);return(new a.JavaScriptCompiler).compile(r,t)}function n(e,t,a){function i(){var i=a.parse(e,t),r=(new a.Compiler).compile(i,t),n=(new a.JavaScriptCompiler).compile(r,t,void 0,!0);return a.template(n)}if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new c("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var r,n=function(e,t){return r||(r=i()),r.call(this,e,t)};return n._setup=function(e){return r||(r=i()),r._setup(e)},n._child=function(e,t,a,n){return r||(r=i()),r._child(e,t,a,n)},n}function s(e,t){if(e===t)return!0;if(d(e)&&d(t)&&e.length===t.length){for(var a=0;a<e.length;a++)if(!s(e[a],t[a]))return!1;return!0}}function o(e){if(!e.path.parts){var t=e.path;e.path=new h.PathExpression((!1),0,[t.original+""],t.original+"",t.log)}}var l={},c=e,d=t.isArray,p=t.indexOf,h=a,u=[].slice;return l.Compiler=i,i.prototype={compiler:i,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var a=0;a<t;a++){var i=this.opcodes[a],r=e.opcodes[a];if(i.opcode!==r.opcode||!s(i.args,r.args))return!1}for(t=this.children.length,a=0;a<t;a++)if(!this.children[a].equals(e.children[a]))return!1;return!0},guid:0,compile:function(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var a=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},a)for(var i in a)t.knownHelpers[i]=a[i];return this.accept(e)},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),a=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[a]=t,this.useDepths=this.useDepths||t.useDepths,a},accept:function(e){this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,a=0,i=t.length;a<i;a++)this.accept(t[a]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){o(e);var t=e.program,a=e.inverse;t=t&&this.compileProgram(t),a=a&&this.compileProgram(a);var i=this.classifySexpr(e);"helper"===i?this.helperSexpr(e,t,a):"simple"===i?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",a),this.opcode("emptyHash"),
this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,a),this.opcode("pushProgram",t),this.opcode("pushProgram",a),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},PartialStatement:function(e){this.usePartial=!0;var t=e.params;if(t.length>1)throw new c("Unsupported number of partial arguments: "+t.length,e);t.length||t.push({type:"PathExpression",parts:[],depth:0});var a=e.name.original,i="SubExpression"===e.name.type;i&&this.accept(e.name),this.setupFullMustacheParams(e,void 0,void 0,!0);var r=e.indent||"";this.options.preventIndent&&r&&(this.opcode("appendContent",r),r=""),this.opcode("invokePartial",i,a,r),this.opcode("append")},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){o(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,a){var i=e.path,r=i.parts[0],n=null!=t||null!=a;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",a),this.accept(i),this.opcode("invokeAmbiguous",r,n)},simpleSexpr:function(e){this.accept(e.path),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,a){var i=this.setupFullMustacheParams(e,t,a),r=e.path,n=r.parts[0];if(this.options.knownHelpers[n])this.opcode("invokeKnownHelper",i.length,n);else{if(this.options.knownHelpersOnly)throw new c("You specified knownHelpersOnly, but used the unknown helper "+n,e);r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,h.helpers.simpleId(r))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],a=h.helpers.scopedId(e),i=!e.depth&&!a&&this.blockParamIndex(t);i?this.opcode("lookupBlockParam",i,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts)):this.opcode("lookupOnContext",e.parts,e.falsy,a):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},Hash:function(e){var t,a,i=e.pairs;for(this.opcode("pushHash"),t=0,a=i.length;t<a;t++)this.pushParam(i[t].value);for(;t--;)this.opcode("assignToHash",i[t].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:u.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=h.helpers.simpleId(e.path),a=t&&!!this.blockParamIndex(e.path.parts[0]),i=!a&&h.helpers.helperExpression(e),r=!a&&(i||t),n=this.options;if(r&&!i){var s=e.path.parts[0];n.knownHelpers[s]?i=!0:n.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(e){for(var t=0,a=e.length;t<a;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var a;if(!e.parts||h.helpers.scopedId(e)||e.depth||(a=this.blockParamIndex(e.parts[0])),a){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",a,i)}else t=e.original||t,t.replace&&(t=t.replace(/^\.\//g,"").replace(/^\.$/g,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,a,i){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",a),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(e){for(var t=0,a=this.options.blockParams.length;t<a;t++){var i=this.options.blockParams[t],r=i&&p(i,e);if(i&&r>=0)return[t,r]}}},l.precompile=r,l.compile=n,l}(t,e,s),u=function(e){"use strict";function t(e,t,a){if(r(e)){for(var i=[],n=0,s=e.length;n<s;n++)i.push(t.wrap(e[n],a));return i}return"boolean"==typeof e||"number"==typeof e?e+"":e}function a(e){this.srcFile=e,this.source=[]}var i,r=e.isArray;try{var n=require("source-map"),s=n.SourceNode}catch(o){s=function(e,t,a,i){this.src="",i&&this.add(i)},s.prototype={add:function(e){r(e)&&(e=e.join("")),this.src+=e},prepend:function(e){r(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}}return a.prototype={prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(e){for(var t=0,a=this.source.length;t<a;t++)e(this.source[t])},empty:function(e){return e=e||this.currentLocation||{start:{}},new s(e.start.line,e.start.column,this.srcFile)},wrap:function(e,a){return e instanceof s?e:(a=a||this.currentLocation||{start:{}},e=t(e,this,a),new s(a.start.line,a.start.column,this.srcFile,e))},functionCall:function(e,t,a){return a=this.generateList(a),this.wrap([e,t?"."+t+"(":"(",a,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var a=[];for(var i in e)if(e.hasOwnProperty(i)){var r=t(e[i],this);"undefined"!==r&&a.push([this.quotedString(i),":",r])}var n=this.generateList(a);return n.prepend("{"),n.add("}"),n},generateList:function(e,a){for(var i=this.empty(a),r=0,n=e.length;r<n;r++)r&&i.add(","),i.add(t(e[r],this,a));return i},generateArray:function(e,t){var a=this.generateList(e,t);return a.prepend("["),a.add("]"),a}},i=a}(e),f=function(e,t,a,i){"use strict";function r(e){this.value=e}function n(){}function s(e,t,a,i){var r=t.popStack(),n=0,s=a.length;for(e&&s--;n<s;n++)r=t.nameLookup(r,a[n],i);return e?[t.aliasable("this.strict"),"(",r,", ",t.quotedString(a[n]),")"]:r}var o,l=e.COMPILER_REVISION,c=e.REVISION_CHANGES,d=t,p=a.isArray,h=i;n.prototype={nameLookup:function(e,t){return n.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"['",t,"']"]},depthedLookup:function(e){return[this.aliasable("this.lookup"),'(depths, "',e,'")']},compilerInfo:function(){var e=l,t=c[e];return[e,t]},appendToBuffer:function(e,t,a){return p(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:a?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},compile:function(e,t,a,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!a,this.context=a||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var r,n,s,o,l=e.opcodes;for(s=0,o=l.length;s<o;s++)r=l[s],this.source.currentLocation=r.loc,n=n||r.loc,this[r.opcode].apply(this,r.args);if(this.source.currentLocation=n,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new d("Compile completed with content left on stack");var c=this.createFunctionContext(i);if(this.isChild)return c;var p={compiler:this.compilerInfo(),main:c},h=this.context.programs;for(s=0,o=h.length;s<o;s++)h[s]&&(p[s]=h[s]);return this.environment.usePartial&&(p.usePartial=!0),this.options.data&&(p.useData=!0),this.useDepths&&(p.useDepths=!0),this.useBlockParams&&(p.useBlockParams=!0),this.options.compat&&(p.compat=!0),i?p.compilerOptions=this.options:(p.compiler=JSON.stringify(p.compiler),this.source.currentLocation={start:{line:1,column:0}},p=this.objectLiteral(p),t.srcName?(p=p.toStringWithSourceMap({file:t.destName}),p.map=p.map&&p.map.toString()):p=p.toString()),p},preamble:function(){this.lastContext=0,this.source=new h(this.options.srcName)},createFunctionContext:function(e){var t="",a=this.stackVars.concat(this.registers.list);a.length>0&&(t+=", "+a.join(", "));var i=0;for(var r in this.aliases){var n=this.aliases[r];this.aliases.hasOwnProperty(r)&&n.children&&n.referenceCount>1&&(t+=", alias"+ ++i+"="+r,n.children[0]="alias"+i)}var s=["depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");var o=this.mergeSource(t);return e?(s.push(o),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",o,"}"])},mergeSource:function(e){var t,a,i,r,n=this.environment.isSimple,s=!this.forceBuffer;return this.source.each(function(e){e.appendToBuffer?(i?e.prepend("  + "):i=e,r=e):(i&&(a?i.prepend("buffer += "):t=!0,r.add(";"),i=r=void 0),a=!0,n||(s=!1))}),s?i?(i.prepend("return "),r.add(";")):a||this.source.push('return "";'):(e+=", buffer = "+(t?"":this.initializeBuffer()),i?(i.prepend("return buffer + "),r.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(t?"":";\n")),this.source.merge()},blockValue:function(e){var t=this.aliasable("helpers.blockHelperMissing"),a=[this.contextName(0)];this.setupHelperArgs(e,0,a);var i=this.popStack();a.splice(1,0,i),this.push(this.source.functionCall(t,"call",a))},ambiguousBlockValue:function(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var a=this.topStack();t.splice(1,0,a),this.pushSource(["if (!",this.lastHelper,") { ",a," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,a){var i=0;a||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[i++])),this.resolvePath("context",e,i,t)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t){e?this.pushStackLiteral("this.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0)},resolvePath:function(e,t,a,i){if(this.options.strict||this.options.assumeObjects)return void this.push(s(this.options.strict,this,t,e));for(var r=t.length;a<r;a++)this.replaceStack(function(r){var n=this.nameLookup(r,t[a],e);return i?[" && ",n]:[" != null ? ",n," : ",r]})},resolvePossibleLambda:function(){this.push([this.aliasable("this.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t,a){var i=this.popStack(),r=this.setupHelper(e,t),n=a?[r.name," || "]:"",s=["("].concat(n,i);this.options.strict||s.push(" || ",this.aliasable("helpers.helperMissing")),s.push(")"),this.push(this.source.functionCall(s,"call",r.callParams))},invokeKnownHelper:function(e,t){var a=this.setupHelper(e,t);this.push(this.source.functionCall(a.name,"call",a.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var a=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,t),r=this.lastHelper=this.nameLookup("helpers",e,"helper"),n=["(","(helper = ",r," || ",a,")"];this.options.strict||(n[0]="(helper = ",n.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",n,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(e,t,a){var i=[],r=this.setupParams(t,1,i,!1);e&&(t=this.popStack(),delete r.name),a&&(r.indent=JSON.stringify(a)),r.helpers="helpers",r.partials="partials",e?i.unshift(t):i.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("this.invokePartial","",i))},assignToHash:function(e){var t,a,i,r=this.popStack();this.trackIds&&(i=this.popStack()),this.stringParams&&(a=this.popStack(),t=this.popStack());var n=this.hash;t&&(n.contexts[e]=t),a&&(n.types[e]=a),i&&(n.ids[e]=i),n.values[e]=r},pushId:function(e,t,a){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(a?" + "+JSON.stringify("."+a):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:n,compileChildren:function(e,t){for(var a,i,r=e.children,n=0,s=r.length;n<s;n++){a=r[n],i=new this.compiler;var o=this.matchExistingProgram(a);null==o?(this.context.programs.push(""),o=this.context.programs.length,a.index=o,a.name="program"+o,this.context.programs[o]=i.compile(a,t,this.context,!this.precompile),this.context.environments[o]=a,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams):(a.index=o,a.name="program"+o,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams)}},matchExistingProgram:function(e){for(var t=0,a=this.context.environments.length;t<a;t++){var i=this.context.environments[t];if(i&&i.equals(e))return t}},programExpression:function(e){var t=this.environment.children[e],a=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths"),"this.program("+a.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof r||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new r(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t,a,i,n=["("];if(!this.isInline())throw new d("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof r)t=[s.value],n=["(",t],i=!0;else{a=!0;var o=this.incrStack();n=["((",this.push(o)," = ",s,")"],t=this.topStack()}var l=e.call(this,t);i||this.popStack(),a&&this.stackSlot--,this.push(n.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,a=e.length;t<a;t++){var i=e[t];if(i instanceof r)this.compileStack.push(i);else{var n=this.incrStack();this.pushSource([n," = ",i,";"]),this.compileStack.push(n)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),a=(t?this.inlineStack:this.compileStack).pop();if(!e&&a instanceof r)return a.value;if(!t){if(!this.stackSlot)throw new d("Invalid stack pop");this.stackSlot--}return a},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof r?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):(t=this.aliases[e]=this.source.wrap(e),t.aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,a){var i=[],r=this.setupHelperArgs(t,e,i,a),n=this.nameLookup("helpers",t,"helper");return{params:i,paramsInit:r,name:n,callParams:[this.contextName(0)].concat(i)}},setupParams:function(e,t,a){var i,r={},n=[],s=[],o=[];r.name=this.quotedString(e),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var l=this.popStack(),c=this.popStack();(c||l)&&(r.fn=c||"this.noop",r.inverse=l||"this.noop");for(var d=t;d--;)i=this.popStack(),a[d]=i,this.trackIds&&(o[d]=this.popStack()),this.stringParams&&(s[d]=this.popStack(),n[d]=this.popStack());return this.trackIds&&(r.ids=this.source.generateArray(o)),this.stringParams&&(r.types=this.source.generateArray(s),r.contexts=this.source.generateArray(n)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(e,t,a,i){var r=this.setupParams(e,t,a,!0);return r=this.objectLiteral(r),i?(this.useRegister("options"),a.push("options"),["options=",r]):(a.push(r),"")}};for(var u="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),f=n.RESERVED_WORDS={},g=0,m=u.length;g<m;g++)f[u[g]]=!0;return n.isValidJavaScriptVariableName=function(e){return!n.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},o=n}(a,t,e,u),g=function(e,t,a,i,r){"use strict";var n,s=e,o=t,l=a.parser,c=a.parse,d=i.Compiler,p=i.compile,h=i.precompile,u=r,f=s.create,g=function(){var e=f();return e.compile=function(t,a){return p(t,a,e)},e.precompile=function(t,a){return h(t,a,e)},e.AST=o,e.Compiler=d,e.JavaScriptCompiler=u,e.Parser=l,e.parse=c,e};s=g(),s.create=g;var m="undefined"!=typeof global?global:window,v=m.Handlebars;return s.noConflict=function(){m.Handlebars===s&&(m.Handlebars=v)},s["default"]=s,n=s}(n,s,p,h,f);return g}),Handlebars.registerHelper("find",function(e,t,a){if("undefined"==typeof e||"undefined"==typeof e[t]){for(var i in e){if("undefined"!=typeof e[i]&&"undefined"!=typeof e[i][t])return"string"!=typeof e[i][t]||""!==e[i][t]&&null!==e[i][t]&&e[i][t]!==!1?a.fn(e[i]):a.inverse(this);if(e[i]===t)return a.fn(e[i])}return a.inverse(this)}return a.fn(e[t])}),Handlebars.registerHelper("is_single",function(e,t){return 1===Object.keys(e).length&&t.fn(this)}),Handlebars.registerHelper("script",function(e){var t=[];for(var a in e.hash)t.push(a+'="'+e.hash[a]+'"');return"<script "+t.join(" ")+">"+e.fn(this)+"</script>"}),Handlebars.registerHelper("is",function(e,t){return t.hash.value?("@key"===t.hash.value&&(t.hash.value=t.data.key),t.hash.value===e?t.fn(this):this[t.hash.value]&&this[t.hash.value]===e?t.fn(this):t.inverse(this)):t.hash.not?("@key"===t.hash.not&&(t.hash.not=t.data.key),t.hash.not!==e?t.fn(this):this[t.hash.not]&&this[t.hash.not]!==e?t.fn(this):t.inverse(this)):void 0}),function(e){if(!t){e.fn.formJSON=function(){for(var t=e(this),a=t.find("[name]"),i={},r={},n=0;n<a.length;n++){var s=e(a[n]),o=s.prop("name").replace(/\]/gi,"").split("["),l=s.val(),c={};if(!s.is(":radio")&&!s.is(":checkbox")||s.is(":checked")){for(var d=o.length-1;d>=0;d--){var p=o[d];if(0===p.length&&(c=[],"undefined"==typeof r[o[d-1]]?r[o[d-1]]=0:r[o[d-1]]+=1,p=r[o[d-1]]),d===o.length-1){if(l)if("true"===l)l=!0;else if("false"===l)l=!1;else if(isNaN(parseFloat(l))||parseFloat(l).toString()!==l){if("{"===l.substr(0,1)||"["===l.substr(0,1))try{l=JSON.parse(l)}catch(h){}}else l=parseFloat(l);c[p]=l}else{var u=c;c={},c[p]=u}}e.extend(!0,i,c)}}return i};var t={},a={},i={_plugins:{},load:{},bind:{},event:function(e,t){return e},pre_filter:function(e){return e.data},filter:function(e){return e},target:function(e){if("string"==typeof e.params.success?"function"==typeof window[e.params.success]&&window[e.params.success](e):"function"==typeof e.params.success&&e.params.success(e),e.params.target)if(e.params.target.is("textarea,input")&&"object"==typeof e.data?e.params.target.val(JSON.stringify(e.data)).trigger("change"):e.params.target[e.params.targetInsert](e.data),"string"==typeof e.params.callback){if("function"==typeof window[e.params.callback])return window[e.params.callback](e)}else if("function"==typeof e.params.callback)return e.params.callback(e)},request_data:function(e){return e.data},request:function(i){if((i.params.trigger.data("cacheLocal")||i.params.trigger.data("cacheSession"))&&!i.params.trigger.data("cachePurge")){var r;if(i.params.trigger.data("cacheLocal")?r=i.params.trigger.data("cacheLocal"):i.params.trigger.data("cacheSession")&&(r=i.params.trigger.data("cacheSession")),"undefined"!=typeof t[r])return{data:t[r]};if("undefined"!=typeof Storage){var n;if(i.params.trigger.data("cacheLocal")?n=localStorage.getItem(r):i.params.trigger.data("cacheSession")&&(n=sessionStorage.getItem(r)),n){try{n=JSON.parse(n)}catch(s){n=n}return{data:n}}}}return a[i.params.trigger.prop("id")]&&a[i.params.trigger.prop("id")].abort(),a[i.params.trigger.prop("id")]=e.ajax(i.request),a[i.params.trigger.prop("id")]},request_complete:function(e){e.params.complete(e),e.params.loadElement.removeClass(e.params.loadClass),a[e.params.trigger.prop("id")]&&delete a[e.params.trigger.prop("id")]},request_error:function(e){e.params.error(e),e.params.complete(e.jqxhr,e.textStatus)},refresh:function(t,a){e(a.triggerClass).baldrick(a)}};e.fn.baldrick=function(t){var a=function(e,t,a){var i;for(var r in o.helpers._plugins)if("function"==typeof o.helpers._plugins[r][e]&&(i=o.helpers._plugins[r][e](t,o,a),"undefined"!=typeof i&&(t=i),t===!1))return!1;if("function"==typeof o.helpers[e]&&(i=o.helpers[e](t,o,a),"undefined"!=typeof i&&(t=i),!t))return!1;for(var n in o.helpers._plugins)if("function"==typeof o.helpers._plugins[n]["after_"+e]&&(i=o.helpers._plugins[n]["after_"+e](t,o,a),"undefined"!=typeof i&&(t=i),t===!1))return!1;return t},r=function(t){var a={},i=t.find("input,radio,checkbox,select,textarea,file"),r={};if(i.length){for(var n=0;n<i.length;n++)if(null!==i[n].getAttribute("name")){for(var s=e(i[n]),o=s.prop("name").replace(/\[/gi,":").replace(/\]/gi,""),l=o.split(":"),c=s.is(":checkbox,:radio")?s.filter(":checked").val():s.val(),d={},p=l.length-1;p>=0;p--){var h=l[p];if(0===h.length&&("undefined"==typeof r[l[p-1]]?r[l[p-1]]=0:r[l[p-1]]+=1,h=r[l[p-1]]),p===l.length-1)d[h]=c;else{var u=d;d={},d[h]=u}}e.extend(!0,a,d)}return a}},n=this.selector,s=this.not("._tisBound");s.addClass("_tisBound"),"undefined"!=typeof t&&"object"==typeof t.helper&&(i._plugins._params_helpers_=t.helper);var o=e.extend(!0,t,{helpers:i},{triggerClass:n}),l=function(){return!0},c={before:l,callback:!1,success:!1,complete:l,error:l};for(var d in c)"string"==typeof o[d]?c[d]="function"==typeof window[o[d]]?window[o[d]]:l:"function"==typeof o[d]&&(c[d]=o[d]);return s=a("bind",s),s===!1?this:a("ready",s.each(function(t){this.id||(this.id="baldrick_trigger_"+((new Date).getTime()+t));var i=e(this),n=i.data("event")?i.data("event"):o.event?o.event:i.is("form")?"submit":"click";return i.on(n,function(t){var i=e(a("event",this,t));if(i.data("for")){var l=e(i.data("for")),d=e.extend({},l.data(),i.data());return delete d["for"],l.data(d),l.is("form")?(l.submit(),this):l.trigger(l.data("event")?l.data("event"):n)}if(i.is("form")&&!i.data("request")&&i.attr("action")&&i.data("request",i.attr("action")),i.is("a")&&!i.data("request")&&i.attr("href")&&(i.attr("href").indexOf("#")<0?i.data("request",i.attr("href")):i.data("href",i.attr("href"))),(i.data("before")&&"function"==typeof window[i.data("before")]?window[i.data("before")](this,t):c.before(this,t))!==!1){var p={trigger:i,callback:i.data("callback")?"function"==typeof window[i.data("callback")]?window[i.data("callback")]:i.data("callback"):c.callback,success:i.data("success")?"function"==typeof window[i.data("success")]?window[i.data("success")]:i.data("success"):c.success,method:i.data("method")?i.data("method"):i.attr("method")?i.attr("method"):o.method?o.method:"GET",dataType:i.data("type")?i.data("type"):!!o.dataType&&o.dataType,timeout:i.data("timeout")?i.data("timeout"):12e4,target:i.data("target")?"_parent"===i.data("target")?i.parent():e("_self"===i.data("target")?i:i.data("target")):e(o.target?o.target:"<html>"),targetInsert:i.data("targetInsert")?"replace"===i.data("targetInsert")?"replaceWith":i.data("targetInsert"):o.targetInsert?"replace"===o.targetInsert?"replaceWith":o.targetInsert:"html",loadClass:i.data("loadClass")?i.data("loadClass"):o.loadClass?o.loadClass:"loading",activeClass:i.data("activeClass")?i.data("activeClass"):o.activeClass?o.activeClass:"active",activeElement:i.data("activeElement")?"_parent"===i.data("activeElement")?i.parent():e(i.data("activeElement")):o.activeElement?"_parent"===o.activeElement?i.parent():e(o.activeElement):i,cache:i.data("cache")?i.data("cache"):!!o.cache&&o.cache,complete:i.data("complete")&&"function"==typeof window[i.data("complete")]?window[i.data("complete")]:c.complete,error:i.data("error")&&"function"==typeof window[i.data("error")]?window[i.data("error")]:c.error,resultSelector:!1,event:n};if(p.url=i.data("request")?i.data("request"):o.request?o.request:p.callback,p.loadElement=i.data("loadElement")?"_parent"===i.data("loadElement")?i.parent():e(i.data("loadElement")):o.loadElement&&e(o.loadElement)?e(o.loadElement):p.target,p=a("params",p),p===!1)return!1;if(t.preventDefault(),"function"==typeof window[p.url]){var h=window[p.url](p,n);return h=a("pre_filter",{data:h,params:p}),h=a("filter",{data:h,rawData:h,params:p}),a("target",h),a("refresh",{params:p}),a("request_complete",{jqxhr:null,textStatus:"complete",request:b,params:p}),this}try{if(e(p.url).length)var h=e(p.url).is("input,select,radio,checkbox,file,textarea")?e(p.url).val():e(p.url).is("form")?r(e(p.url)):e(p.url).html()}catch(t){}if("undefined"!=typeof h){if("json"===p.dataType)try{h=JSON.parse(h)}catch(t){}h=a("pre_filter",{data:h,params:p}),h=a("filter",{data:h,rawData:h,params:p}),a("target",h),a("refresh",{params:p}),a("request_complete",{jqxhr:null,textStatus:"complete",request:b,params:p});return this}switch(typeof p.url){case"function":return p.url(this,t);case"boolean":case"object":return;case"string":if(p.url.indexOf(" ")>-1){var u=p.url.split(" ");p.url=u[0],p.resultSelector=u[1]}}i.data("group")?e('._tisBound[data-group="'+i.data("group")+'"]').each(function(){var t=e(this),a=t.data("activeElement")?"_parent"===t.data("activeElement")?t.parent():e(t.data("activeElement")):o.activeElement?"_parent"===o.activeElement?i.parent():e(o.activeElement):t;a.removeClass(t.data("activeClass")?t.data("activeClass"):o.activeClass?o.activeClass:p.activeClass)}):e("._tisBound:not([data-group])").each(function(){var t=e(this),a=t.data("activeElement")?"_parent"===t.data("activeElement")?t.parent():e(t.data("activeElement")):o.activeElement?"_parent"===o.activeElement?i.parent():e(o.activeElement):t;a.removeClass(t.data("activeClass")?t.data("activeClass"):o.activeClass?o.activeClass:p.activeClass)});p.activeElement.addClass(p.activeClass),p.loadElement.addClass(p.loadClass);var f;if(FormData&&(i.is("input:file")||"POST"===p.method)){p.method="POST",p.contentType=!1,p.processData=!1,p.cache=!1,p.xhrFields={onprogress:function(e){e.lengthComputable}},f=i.is("form")?new FormData(i[0]):new FormData,i.is("input,select,textarea")&&i.data("_value",i.val());for(var g in p.trigger.data())f.append(g,p.trigger.data(g));if(p.data&&f.append("data",JSON.stringify(p.data)),i.is("input,select,textarea"))if(i.is("input:file"))if(i[0].files.length>1)for(var m=0;m<i[0].files.length;m++)f.append(i.prop("name"),i[0].files[m]);else f.append(i.prop("name"),i[0].files[0]);else i.is("input:checkbox")||i.is("input:radio")?i.prop("checked")&&f.append(i.prop("name"),i.val()):f.append(i.prop("name"),i.val())}else{var v=i.serializeArray(),y=p.trigger.data(),k=[];o.data&&(y=e.extend(o.data,y)),v.length&&(e.each(v,function(e,t){k.push(t)}),p.requestData=r(i)),p.data&&(y=e.extend(y,p.data)),f=y,p.requestData=e.extend(i.data(),p.requestData)}var b={url:p.url,data:a("request_data",{data:f,params:p}),cache:p.cache,timeout:p.timeout,type:p.method,success:function(t,i,r){if(p.resultSelector)if("object"==typeof t){for(var n=p.resultSelector.replace(/\[/g,".").replace(/\]/g,"").split("."),s=t,o=0;o<n.length;o++)s=s[n[o]];t=s}else if("string"==typeof t){var l=e(p.resultSelector,e("<html>").html(t));1===l.length?t=e("<html>").html(l).html():(t=e("<html>"),l.each(function(){t.append(this)}),t=t.html())}var c=t;if(p.trigger.data("cacheLocal")||p.trigger.data("cacheSession")){var d;if(p.trigger.data("cacheLocal")?d=p.trigger.data("cacheLocal"):p.trigger.data("cacheSession")&&(d=p.trigger.data("cacheSession")),"undefined"!=typeof Storage)if(p.trigger.data("cacheLocal"))try{localStorage.setItem(d,r.responseText)}catch(h){console.log(h)}else if(p.trigger.data("cacheSession"))try{sessionStorage.setItem(d,r.responseText)}catch(h){console.log(h)}e(window).trigger("baldrick.cache",d)}t=a("pre_filter",{data:t,request:b,params:p,xhr:r}),t=a("filter",{data:t,rawData:c,request:b,params:p,xhr:r}),a("target",t)},complete:function(e,t){a("request_complete",{jqxhr:e,textStatus:t,request:b,params:p}),a("refresh",{jqxhr:e,textStatus:t,request:b,params:p}),i.data("once")&&i.off(n).removeClass("_tisBound")},error:function(e,t,i){a("request_error",{jqxhr:e,textStatus:t,error:i,request:b,params:p})}};if(p.dataType&&(b.dataType=p.dataType),"undefined"!=typeof p.contentType&&(b.contentType=p.contentType),"undefined"!=typeof p.processData&&(b.processData=p.processData),"undefined"!=typeof p.xhrFields&&(b.xhrFields=p.xhrFields),b=a("request_params",b,p),b===!1)return s;var _=a("request",{request:b,params:p});if(_.data){var h=_.data;a("target",a("filter",a("pre_filter",{data:h,request:b,params:p}))),a("request_complete",{jqxhr:!1,textStatus:!0,request:b,params:p}),a("refresh",{jqxhr:!1,textStatus:!0,request:b,params:p})}}}),(i.data("autoload")||i.data("poll"))&&(i.data("delay")?setTimeout(function(e,t){return e.trigger(t)},i.data("delay"),i,n):i.trigger(n)),i.data("poll")&&(i.data("delay")?setTimeout(function(e,t){return setInterval(function(e,t){return e.trigger(t)},e.data("poll"),e,t)},i.data("delay")):setInterval(function(e,t){return e.trigger(t)},i.data("poll"),i,n)),this}))},e.fn.baldrick.cacheObject=function(e,a){t[e]=a},e.fn.baldrick.registerhelper=function(t,a,r){var n={};"object"==typeof a?(n[t]=a,i._plugins=e.extend(!0,n,i._plugins)):"string"==typeof a&&"string"==typeof t&&"function"==typeof r&&(n[a]={},n[a][t]=r,i._plugins=e.extend(!0,n,i._plugins))}}}(jQuery);var handlebarsVariables={};Handlebars.registerHelper("even",function(e){var t=e.data.index/2;return t===Math.ceil(t)&&e.fn(this);
}),Handlebars.registerHelper("odd",function(e){var t=e.data.index/2;return t!==Math.ceil(t)&&e.fn(this)}),Handlebars.registerHelper("json",function(e){return JSON.stringify(e)}),Handlebars.registerHelper(":node_point",function(e){if(this._node_point){var t=this._node_point.split("."),a=t.join("][")+"]",i=a.replace(t[0]+"]",t[0]);return new Handlebars.SafeString('<input type="hidden" name="'+i+'[_id]" value="'+t[t.length-1]+'"><input type="hidden" name="'+i+'[_node_point]" value="'+this._node_point+'">')}}),Handlebars.registerHelper(":name",function(e){if(this._node_point){var t=this._node_point.split("."),a=t.join("][")+"]",i=a.replace(t[0]+"]",t[0]);return i}}),function(e){var t={};e.fn.baldrick.registerhelper("handlebars",{bind:function(a,i){var r=a.filter("[data-template-url]");r.length&&r.each(function(){var a=e(this);if("undefined"==typeof t[a.data("templateUrl")]){if(t[a.data("templateUrl")]=!0,"undefined"!=typeof Storage){var i,r;a.data("cacheLocal")?(r=a.data("cacheLocal"),i=localStorage.getItem("handlebars_"+r)):a.data("cacheSession")&&(r=a.data("cacheSession"),i=sessionStorage.getItem("handlebars_"+r))}i?t[a.data("templateUrl")]=Handlebars.compile(i):e.get(a.data("templateUrl"),function(e,i,r){if("undefined"!=typeof Storage){var n;a.data("cacheLocal")?(n=a.data("cacheLocal"),localStorage.setItem("handlebars_"+n,r.responseText)):a.data("cacheSession")&&(n=a.data("cacheSession"),sessionStorage.setItem("handlebars_"+n,r.responseText))}t[a.data("templateUrl")]=Handlebars.compile(r.responseText,{trackIds:!0})})}})},request_params:function(e,t,a){if((a.trigger.data("templateUrl")||a.trigger.data("template"))&&"object"==typeof Handlebars)return e.dataType="json",e},filter:function(a,i){return a.params.trigger.data("templateUrl")?"function"==typeof t[a.params.trigger.data("templateUrl")]&&(a.data=t[a.params.trigger.data("templateUrl")](a.data)):a.params.trigger.data("template")&&("function"==typeof t[a.params.trigger.data("template")]?a.data=t[a.params.trigger.data("template")](a.data):e(a.params.trigger.data("template"))&&(t[a.params.trigger.data("template")]=Handlebars.compile(e(a.params.trigger.data("template")).html(),{trackIds:!0}),a.data=t[a.params.trigger.data("template")](a.data))),a}})}(jQuery),function(e){var t=!1;e.fn.baldrick.registerhelper("baldrick_modal",{close_modal:function(t,a,i,r,n){e("body").css("overflow",""),n.preventDefault(),a.fadeOut(200),t.fadeOut(200,function(){t.remove(),a.remove(),r&&clearTimeout(r),i.removeClass(i.data("activeClass")?i.data("activeClass"):"active"),e(".baldrick-modal-wrap").css("zIndex","")})},resize_modal:function(t,a){e("body").css("overflow","hidden");var i=e(window).width(),r=e(window).height(),n=t.data("height")?t.data("height"):a.data("modalHeight")?a.data("modalHeight"):350,s=t.data("width")?t.data("width"):a.data("modalWidth")?a.data("modalWidth"):450,o=t.find(".baldrick-modal-body");footer=t.find(".baldrick-modal-footer"),title=t.find(".baldrick-modal-title"),current_size="","string"==typeof s&&s.indexOf("%")>-1&&(s=parseFloat(s)/100*i),"string"==typeof n&&n.indexOf("%")>-1&&(n=parseFloat(n)/100*r),"auto"===n&&(o.css("position","initial"),n=o.outerHeight()+footer.outerHeight()+title.outerHeight(),o.css("position","")),"auto"===s&&(s=450),i<=700&&i>600?(n=r-30,s=i-30):i<=600&&(n=r,s=i);var l=r/2-n/2,c=i/2-s/2;current_size={top:n<r?l/3*2:0,left:s<i?c:0,width:s<i?s:i,height:n<r?n:r},t.css(current_size)},refresh:function(t){t.params.trigger.data("modalAutoclose")&&e("#"+t.params.trigger.data("modalAutoclose")+"_baldrickModalCloser").trigger("click");var a=t.params.target.find("[data-tab]"),i=t.params.target.find(".user-avatar");if(a.length){var r=e("<ul>",{"class":"navtabs"}),n=!1;a.each(function(t,i){var s=e(this),o=e("<li>"),l=e("<a>",{href:"#"});s.addClass("hidden"),l.html(s.data("tab")).attr("title",s.data("tab")),o.append(l),s.data("selected")&&!1===n&&(o.addClass("selected"),n=!0,s.show()),l.on("click",function(t){t.preventDefault();var i=e(this);a.hide(),s.show(),r.children().removeClass("selected"),i.parent().addClass("selected"),e(window).trigger("modaltabchange")}),r.append(o)}),!1===n&&(r.children().first().addClass("selected"),a.first().show()),r.css("top",t.params.target.parent().find(".baldrick-modal-title").outerHeight()),t.params.trigger.data("modalButtons")?r.css("bottom",t.params.target.parent().find(".baldrick-modal-footer").outerHeight()):r.css("bottom",0),t.params.target.before(r).addClass("has-tabs"),i.length&&(r.before(i),r.css("top",t.params.target.parent().find(".baldrick-modal-title").outerHeight()+149),r.css("padding-top",0))}},event:function(a,i){var r=e(a),n="wm";if(r.data("modal")&&t===!1&&("true"!==r.data("modal")&&(n=r.data("modal")),e("#"+n+"_baldrickModal").length&&e("#"+n+"_baldrickModal").remove(),!e("#"+n+"_baldrickModal").length)){e(".baldrick-modal-wrap").css("zIndex","100099");var s=e("<"+(r.data("modalElement")?r.data("modalElement"):"form")+">",{id:n+"_baldrickModal",tabIndex:-1,"ariaLabelled-by":n+"_baldrickModalLable","class":"baldrick-modal-wrap ",method:"POST"}),o=e(".baldrick-backdrop").length?e(".baldrick-modal-wrap").length?e("<div>",{"class":"baldrick-backdrop-invisible"}):e(".baldrick-backdrop"):e("<div>",{"class":"baldrick-backdrop"});modalContent=e("<div>",{"class":"baldrick-modal-body",id:n+"_baldrickModalBody"}),modalFooter=e("<div>",{"class":"baldrick-modal-footer",id:n+"_baldrickModalFooter"}),modalHeader=e("<div>",{"class":"baldrick-modal-title",id:n+"_baldrickModalTitle"}),modalCloser=e("<a>",{href:"#close","class":"baldrick-modal-closer","data-dismiss":"modal","aria-hidden":"true",id:n+"_baldrickModalCloser"}).html("&times;"),modalTitle=e("<h3>",{"class":"modal-label",id:n+"_baldrickModalLable"}),modalHeader.append(modalCloser).appendTo(s),r.data("modalTitle")?modalHeader.append(modalTitle):modalHeader.height(0).hide(),r.data("modalButtons")||modalFooter.height(0).hide(),r.data("modalClass")&&s.addClass(r.data("modalClass"));var l=this.resize_modal,c=null,l=this.resize_modal,d=function(){l(s,r)},p=this.close_modal,h=function(t){"keypress"===t.type&&27!==t.keyCode||(e(window).off("keypress",h),e(window).off("resize",d),p(s,o,r,c,t))};e(window).on("resize",d),r.data("fixed")||o.on("click",h),modalCloser.on("click",h),e(window).on("keypress",h),s.on("keyup","select,input,checkbox,radio,textarea",function(){e(window).off("keypress",h)}),modalContent.appendTo(s),modalFooter.appendTo(s),s.appendTo(e("body")).hide().fadeIn(200),r.data("modalFloat")&&o.css({background:"transparent"}),o.insertBefore(s).hide().fadeIn(200)}},request_complete:function(t,a){if(t.params.trigger.data("modal")){var i,r,n="wm",s="spinner";if("true"!==t.params.trigger.data("modal")&&(n=t.params.trigger.data("modal")),i=e("#"+n+"_baldrickModal"),r=e("#"+n+"_baldrickModalBody"),modalTitle=e("#"+n+"_baldrickModalTitle"),modalButtons=e("#"+n+"_baldrickModalFooter button"),modalButtons.prop("disabled",!1),t.params.trigger.data("loadClass")&&(s=t.params.trigger.data("loadClass")),t.params.trigger.data("modalLife")){var o=parseFloat(t.params.trigger.data("modalLife"));o>0?setTimeout(function(){e("#"+n+"_baldrickModalCloser").trigger("click")},o):e("#"+n+"_baldrickModalCloser").trigger("click")}r.removeClass(s).show(),i=this.resize_modal(i,t.params.trigger)}},after_filter:function(t){if(t.params.trigger.data("modal")&&t.params.trigger.data("targetInsert")){var a="wm";"true"!==t.params.trigger.data("modal")&&(a=t.params.trigger.data("modal"));var i=e(t.data).prop("id",a+"_baldrickModalBody");t.data=i}return t},params:function(t,a){var i=t.trigger,r="wm",n="spinner";if("true"!==t.trigger.data("modal")&&(r=t.trigger.data("modal")),t.trigger.data("loadClass")&&(n=t.trigger.data("loadClass")),i.data("modal")&&(t.url||i.data("modalContent"))){var s;t.url&&(t.target=e("#"+r+"_baldrickModalBody"),t.loadElement=e("#"+r+"_baldrickModalLoader"),t.target.empty()),s=e(i.data("modalTemplate")?i.data("modalTemplate"):"#"+r+"_baldrickModal"),e(".modal-backdrop").length;var o=e("#"+r+"_baldrickModalLable"),l=(e("#"+r+"_baldrickModalTitle"),e("#"+r+"_baldrickModalBody")),c=e("#"+r+"_baldrickModalFooter");if(o.empty().parent().hide(),l.addClass(n),c.empty().hide(),i.data("modalTitle")&&o.html(i.data("modalTitle")).parent().show(),i.data("modalButtons")){var d=e.trim(i.data("modalButtons")).split(";");if(l.addClass("has-buttons"),d.length){for(c.height("auto"),b=0;b<d.length;b++){var p=d[b].split("|"),h=p[0],u=p[1].trim(),f=e.extend({},{type:"button","class":"button "},"{"===u.substr(0,1)?jQuery.parseJSON(u):{"data-callback":u}),g=e("<button>",f);p[2]&&g.addClass(p[2]),f["data-modal-close"]&&g.data("callback",function(){e("#"+r+"_baldrickModalCloser").trigger("click")}),"dismiss"===u?g.on("click",function(){e("#"+r+"_baldrickModalCloser").trigger("click")}):g.addClass(a.triggerClass.substr(1)),g.prop("disabled",!0),c.append(g.html(h)),b<d.length&&c.append("&nbsp;")}c.show()}}i.data("modalContent")&&(l.html(e(i.data("modalContent")).html()),loader.hide(),l.show(),e(a.triggerClass).baldrick(a)),e(window).trigger("resize")}}})}(jQuery);